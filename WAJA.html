<!DOCTYPE html>
<html>
<head>
  <title>Show Japan prefectures</title>
  <style>
    #map {
      height: 500px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div>
    <input type="checkbox" id="showPrefectures" checked>
    <label for="showPrefectures">Show Japan Prefectures</label>
  </div>
  <div id="map"></div>
  <script>
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 7,
          center: {lat: 36.2048, lng: 138.2529}
        });

        // Load GeoJSON data from an external file.
        var geoJsonUrl = 'https://datahub.io/core/japan-prefecture-boundaries/r/japan-prefecture-boundaries.geojson';
        fetch(geoJsonUrl)
          .then(function(response) {
            return response.json();
          })
          .then(function(geoJsonData) {
            // Set the property name to use for the prefecture name
            map.data.addGeoJson(geoJsonData, { idPropertyName: 'prefecture' });
            // Set the stroke color for prefecture outlines and fill opacity to 0.
            map.data.setStyle({
              strokeWeight: 1,
              strokeColor: 'black',
              fillOpacity: 0
            });
          });

        // Add event listener to checkbox
        var showPrefecturesCheckbox = document.getElementById('showPrefectures');
        showPrefecturesCheckbox.addEventListener('change', function() {
          if (showPrefecturesCheckbox.checked) {
            map.data.setStyle({
              strokeWeight: 1,
              strokeColor: 'black',
              fillOpacity: 0
            });
          } else {
            map.data.setStyle({
              strokeWeight: 0,
              fillOpacity: 0
            });
          }
        });
      }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPRWRoTRhE5TddxBITIhBcKjdQpz2CXRs&callback=initMap" async defer></script>
</body>
</html>
