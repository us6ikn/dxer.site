<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta tags -->
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="description" content="QO-100 Satellite Observer" />
    <meta name="author" content="https://dxer.site" />
    <meta charset="utf-8">
    <title>QO-100 Satellite Observer</title>
    
    <!-- Leaflet dependencies -->
    <script type="text/javascript" src="https://unpkg.com/leaflet@latest/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@latest/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/text-image/dist/text-image.js"></script>
    <script src="https://ha8tks.github.io/Leaflet.CQzones/src/L.CQzones.js"></script>
    <script src="https://ha8tks.github.io/Leaflet.ITUzones/src/L.ITUzones.js"></script>
    <script src="https://ha8tks.github.io/Leaflet.Maidenhead/src/L.Maidenhead.js"></script>

    <!-- MarkerCluster plugin -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

    <script src="leaflet/Leaflet.greatCircle.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <!-- Professional font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
      html, body {
        height: 100%;
        padding: 0;
        margin: 0;
        font-family: 'Inter', Arial, sans-serif;
      }
      #map {
        height: 100%;
      }

      .floating {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 1000;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 14px 18px;
        border-radius: 10px;
        box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.35);
        min-width: 200px;
      }

      /* Header alignment */
      .floating h2 {
        display: flex;
        align-items: flex-start;
        font-weight: 700;
        font-size: 16px;
        margin: 0 0 10px 0;
        letter-spacing: 0.5px;
      }

      .floating h2 img {
        width: 28px;
        height: 28px;
        margin-right: 6px;
        margin-top: 2px;
      }

      .title-text {
        display: flex;
        flex-direction: column;
      }

      .title-line {
        display: flex;
        align-items: baseline;
      }

      .title-main {
        font-size: 16px;
        font-weight: 700;
      }

      .title-sub {
        font-size: 11px;
        font-weight: 500;
        text-align: right;
        margin-top: -2px;
        color: #333;
      }

      label {
        display: block;
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 6px;
      }

      input[type="text"] {
        width: 75px;
        padding: 5px 6px;
        font-size: 13px;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin-right: 6px;
      }

      button {
        background-color: #0078d4;
        color: white;
        border: none;
        border-radius: 6px;
        padding: 6px 10px;
        cursor: pointer;
        font-size: 12px;
        font-weight: 600;
        transition: background 0.2s ease;
      }

      button:hover {
        background-color: #005fa3;
      }

      .observer-buttons {
        display: flex;
        gap: 13px;
        margin-top: 10px;
      }
        .sat-label {
            background-color: rgba(255,255,255,0.8);
            border-radius: 3px;
            padding: 2px 4px;
            font-size: 12px;
            font-weight: bold;
            color: black;
            white-space: nowrap;
        }

      * { outline: none !important; }
    </style>
  </head>

  <body>
    <!-- Unified floating panel -->
    <div class="floating">
      <h2>
        <img src="img/qo100logo.png" alt="QO-100 logo">
        <div class="title-text">
          <div class="title-sub">by SA5IKN</div>
          <div class="title-line">
            <span class="title-main">QO-100 Satellite Observer</span>
          </div>
        </div>
      </h2>

      <label for="grid-locator">Enter your Grid:</label>
      <input type="text" id="grid-locator" placeholder="e.g. JO89tt" maxlength="6">
      <button onclick="initMap(document.getElementById('grid-locator').value)">Plot LEO+MEO Range</button>

      <div class="observer-buttons">
          <button onclick="window.open('https://dxer.site', '_blank')" style="padding:6px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3l9 9h-3v9h-12v-9h-3l9-9z"/>
            </svg>
          </button>
        <button onclick="window.open('https://x.com/m0skn_sa5ikn', '_blank')" style="padding:6px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M23.954 4.569c-.885.392-1.83.656-2.825.775 1.014-.611 1.794-1.574 2.163-2.724-.951.564-2.005.974-3.127 1.195-.897-.959-2.178-1.559-3.594-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.708.87 3.215 2.188 4.096-.807-.026-1.566-.248-2.229-.616v.062c0 2.385 1.693 4.374 3.946 4.828-.413.111-.849.171-1.296.171-.317 0-.626-.03-.927-.086.627 1.956 2.444 3.379 4.6 3.418-1.68 1.316-3.809 2.101-6.102 2.101-.396 0-.788-.023-1.175-.068 2.179 1.397 4.768 2.211 7.557 2.211 9.054 0 14-7.496 14-13.986 0-.21 0-.423-.015-.634.961-.694 1.8-1.562 2.46-2.549z"/>
            </svg>
          </button>
        <button onclick="window.open('https://dxer.site/leo-satellite-observer.html', '_blank')">LEO</button>
        <button onclick="window.open('https://dxer.site/greencube-observer.html', '_blank')">MEO</button>
        <button onclick="window.open('https://dxer.site/eme-observer/', '_blank')">EME</button>
      </div>
    </div>

    <!-- Map container -->
    <div id="map"></div>

    <script>
        const _0x2d0f2d=_0x37e9;(function(_0x548262,_0x7b0281){const _0x3d909f=_0x37e9,_0x763d3e=_0x548262();while(!![]){try{const _0x45d784=-parseInt(_0x3d909f(0xa3))/0x1*(parseInt(_0x3d909f(0x8e))/0x2)+parseInt(_0x3d909f(0x7d))/0x3*(parseInt(_0x3d909f(0x99))/0x4)+parseInt(_0x3d909f(0x94))/0x5+-parseInt(_0x3d909f(0x93))/0x6+-parseInt(_0x3d909f(0x9f))/0x7+-parseInt(_0x3d909f(0x6e))/0x8*(parseInt(_0x3d909f(0x88))/0x9)+-parseInt(_0x3d909f(0x85))/0xa*(-parseInt(_0x3d909f(0xad))/0xb);if(_0x45d784===_0x7b0281)break;else _0x763d3e['push'](_0x763d3e['shift']());}catch(_0xfcdaa1){_0x763d3e['push'](_0x763d3e['shift']());}}}(_0x2690,0x1eef1));var map,layerGroup;function _0x2690(){const _0xe995dd=['bindPopup','addTo','then','addLayer','center','label','map','cqzones','callsign','fillOpacity','51wRmFKz','marker','#D95F45','icon','Invalid\x20grid\x20locator\x20format.\x20Please\x20enter\x20a\x20valid\x206-character\x20grid\x20locator.','markerClusterGroup','join','match','50HfGpQO','greatCircle','FO-29','9icIGzL','output_qo100.txt','zoom','RS-44','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','img/176096839586434633.png','276938WVySuF','maidenhead','#000000','charCodeAt','img/rover1.gif?v=1','330096GdxQDj','630475godGNF','#FF0000','\x22\x20target=\x22_blank\x22>','push','forEach','15620nwfyHi','ISS','<a\x20href=\x22https://www.qrz.com/db/','tileLayer','layers','radius','724668OfkyCu','sat-label','</div>','bottomright','1VGSCTy','divIcon','cos','<div>','sin','strokeColor','markerIcon','lng','AO-07','<div><a\x20href=\x22https://hams.at/alerts\x22\x20target=\x22_blank\x22>','864875qhppnZ','charAt','remove','atan2','trim','lat','1295128RfioAK','text','split','control','exec'];_0x2690=function(){return _0xe995dd;};return _0x2690();}const BLINKING_GIF_URL=_0x2d0f2d(0x92);function destinationPoint(_0x532de6,_0x128444,_0x53c0c8,_0x181ac2){const _0x4c7df9=_0x2d0f2d,_0x10223f=0x6136b8,_0x3490ce=Math['PI']/0xb4,_0x35ff5f=0xb4/Math['PI'];_0x532de6=_0x532de6*_0x3490ce,_0x128444=_0x128444*_0x3490ce,_0x181ac2=_0x181ac2*_0x3490ce;const _0x4c90b9=_0x53c0c8/_0x10223f,_0x1bfc83=Math['asin'](Math[_0x4c7df9(0xa7)](_0x532de6)*Math['cos'](_0x4c90b9)+Math[_0x4c7df9(0xa5)](_0x532de6)*Math[_0x4c7df9(0xa7)](_0x4c90b9)*Math[_0x4c7df9(0xa5)](_0x181ac2)),_0x4e10fd=_0x128444+Math[_0x4c7df9(0x6b)](Math[_0x4c7df9(0xa7)](_0x181ac2)*Math['sin'](_0x4c90b9)*Math[_0x4c7df9(0xa5)](_0x532de6),Math[_0x4c7df9(0xa5)](_0x4c90b9)-Math[_0x4c7df9(0xa7)](_0x532de6)*Math[_0x4c7df9(0xa7)](_0x1bfc83));return{'lat':_0x1bfc83*_0x35ff5f,'lng':_0x4e10fd*_0x35ff5f};}function _0x37e9(_0x391427,_0x202266){const _0x26900e=_0x2690();return _0x37e9=function(_0x37e998,_0x504479){_0x37e998=_0x37e998-0x6a;let _0x374083=_0x26900e[_0x37e998];return _0x374083;},_0x37e9(_0x391427,_0x202266);}function calculateCoordinates(_0x3f4260){const _0x17eeef=_0x2d0f2d;_0x3f4260=_0x3f4260['toUpperCase']();var _0x641980=/^[A-R]{2}\d{2}[A-X]{2}$/i;if(!_0x641980['test'](_0x3f4260))return alert(_0x17eeef(0x81)),null;var _0x2e8da4=-0x5a+(_0x3f4260[_0x17eeef(0x91)](0x1)-0x41)*0xa+parseInt(_0x3f4260[_0x17eeef(0xae)](0x3))+(_0x3f4260[_0x17eeef(0x91)](0x5)-0x41)/0x18+0x1/0x30,_0x42d07e=-0xb4+(_0x3f4260[_0x17eeef(0x91)](0x0)-0x41)*0x14+parseInt(_0x3f4260[_0x17eeef(0xae)](0x2))*0x2+(_0x3f4260[_0x17eeef(0x91)](0x4)-0x41)/0xc+0x1/0x18;return{'lat':_0x2e8da4,'lng':_0x42d07e};}function initMap(_0x134c64){const _0x8358b3=_0x2d0f2d;if(map)map[_0x8358b3(0x6a)]();map=L[_0x8358b3(0x79)](_0x8358b3(0x79),{'center':[0x0,0x0],'zoom':0x2,'zoomControl':![],'attributionControl':!![]}),L[_0x8358b3(0x71)][_0x8358b3(0x8a)]({'position':_0x8358b3(0xa2)})[_0x8358b3(0x74)](map);var _0x3f8552=L[_0x8358b3(0x9c)](_0x8358b3(0x8c),{'attribution':'Map\x20data\x20Â©\x20<a\x20href=\x22https://openstreetmap.org\x22>OpenStreetMap</a>\x20contributors','minZoom':0x0,'maxZoom':0xa})[_0x8358b3(0x74)](map),_0x2f405a=L[_0x8358b3(0x7a)](),_0x5aaa6c=L[_0x8358b3(0x8f)]();_0x5aaa6c['addTo'](map),L['control'][_0x8358b3(0x9d)]({'Map':_0x3f8552},{'<span\x20style=\x27color:\x20black\x27>CQ\x20Zones</span>':_0x2f405a,'<span\x20style=\x27color:\x20black\x27>QTH\x20Locators</span>':_0x5aaa6c})[_0x8358b3(0x74)](map);const _0xda1b99={'center':{'lat':0x0,'lng':25.811},'radius':0x8a1790,'strokeColor':_0x8358b3(0x7f),'fillOpacity':0.05,'angle':0x0};L[_0x8358b3(0x86)]([_0xda1b99[_0x8358b3(0x77)][_0x8358b3(0x6d)],_0xda1b99['center'][_0x8358b3(0xaa)]],{'radius':_0xda1b99[_0x8358b3(0x9e)],'color':_0xda1b99['strokeColor'],'fillOpacity':_0xda1b99[_0x8358b3(0x7c)],'weight':0x3,'wrapElements':!![],'clipLat':0x55,'degStep':0.5,'maxCopies':-0x1})['addTo'](map);const _0x2a4049=0x249f0;L[_0x8358b3(0x86)]([_0xda1b99[_0x8358b3(0x77)][_0x8358b3(0x6d)],_0xda1b99[_0x8358b3(0x77)]['lng']],{'radius':_0xda1b99[_0x8358b3(0x9e)]+_0x2a4049,'color':_0x8358b3(0x90),'fillOpacity':0.1,'weight':0x0,'wrapElements':!![],'clipLat':0x55,'degStep':0.5,'maxCopies':-0x1})[_0x8358b3(0x74)](map);var _0x1e42a1=L[_0x8358b3(0x82)]({'spiderfyOnMaxZoom':!![],'showCoverageOnHover':![],'maxClusterRadius':0x14});fetch('announcements_filtered.txt')['then'](_0x36315e=>_0x36315e['text']())['then'](_0x2b7d1f=>{const _0x540142=_0x8358b3,_0x439001=_0x2b7d1f[_0x540142(0x6c)]()[_0x540142(0x70)]('\x0a');_0x439001['forEach'](_0x4832cb=>{const _0xe85a23=_0x540142,_0x3fd8b8=_0x4832cb[_0xe85a23(0x84)](/Coordinates: \((.*), (.*)\)/),_0x29ddc2=_0x4832cb['match'](/Time: ([^,]*)/),_0x1231d2=_0x4832cb[_0xe85a23(0x84)](/Callsign: ([^,]*)/);if(!_0x3fd8b8||!_0x29ddc2||!_0x1231d2)return;const _0x432182=parseFloat(_0x3fd8b8[0x1]),_0x5e273c=parseFloat(_0x3fd8b8[0x2]),_0x98eaaf=new Date(_0x29ddc2[0x1]);if(_0x98eaaf<=new Date())return;const _0xd157e5=L[_0xe85a23(0x7e)]([_0x432182,_0x5e273c],{'icon':L[_0xe85a23(0x80)]({'iconUrl':BLINKING_GIF_URL,'iconSize':[0x10,0x10],'iconAnchor':[0xa,0xa]})});_0xd157e5[_0xe85a23(0x73)](_0xe85a23(0xac)+_0x1231d2[0x1]+'</a></div>'),_0x1e42a1[_0xe85a23(0x76)](_0xd157e5);}),fetch(_0x540142(0x89))[_0x540142(0x75)](_0x1c5796=>_0x1c5796[_0x540142(0x6f)]())[_0x540142(0x75)](_0x155231=>{const _0xab3cca=_0x540142,_0x39a952=/TRP: ([^,]+), Date: ([^,]+), Callsign: ([^,]+), Grid locator: ([^,]+), Coord: \(([^,]+), ([^)]+)\)/g,_0x4f942f={};let _0xa1c51f;while((_0xa1c51f=_0x39a952[_0xab3cca(0x72)](_0x155231))!==null){const _0x8d7234=_0xa1c51f[0x3],_0x59e6f1=_0xa1c51f[0x4],_0x5e2a89=parseFloat(_0xa1c51f[0x5]),_0x22030c=parseFloat(_0xa1c51f[0x6]),_0x3ad8a3=_0x5e2a89+','+_0x22030c;if(!_0x4f942f[_0x3ad8a3])_0x4f942f[_0x3ad8a3]=[];_0x4f942f[_0x3ad8a3][_0xab3cca(0x97)]({'callsign':_0x8d7234,'dxgridlocator':_0x59e6f1,'markerIcon':_0xab3cca(0x8d)});}for(const _0x153984 in _0x4f942f){const [_0x31d659,_0x4dcdeb]=_0x153984[_0xab3cca(0x70)](','),_0x19ebe3=_0x4f942f[_0x153984],_0x5685bd=_0x19ebe3[0x0][_0xab3cca(0xa9)],_0x435ebb=L[_0xab3cca(0x7e)]([_0x31d659,_0x4dcdeb],{'icon':L[_0xab3cca(0x80)]({'iconUrl':_0x5685bd,'iconSize':[0x10,0x10],'iconAnchor':[0xa,0xa]}),'title':_0x19ebe3[_0xab3cca(0x79)](_0x1a12f0=>_0x1a12f0[_0xab3cca(0x7b)])[_0xab3cca(0x83)](',\x20')}),_0x3c7b63=_0xab3cca(0xa6)+_0x19ebe3[_0xab3cca(0x79)](_0x4eeb28=>_0xab3cca(0x9b)+_0x4eeb28[_0xab3cca(0x7b)]+_0xab3cca(0x96)+_0x4eeb28[_0xab3cca(0x7b)]+'</a>')['join'](',\x20')+_0xab3cca(0xa1);_0x435ebb['bindPopup'](_0x3c7b63),_0x1e42a1[_0xab3cca(0x76)](_0x435ebb);}map[_0xab3cca(0x76)](_0x1e42a1);});});if(_0x134c64){const _0x588c31=calculateCoordinates(_0x134c64);if(!_0x588c31)return;L[_0x8358b3(0x7e)]([_0x588c31['lat'],_0x588c31[_0x8358b3(0xaa)]],{'title':_0x134c64})[_0x8358b3(0x74)](map);const _0xc9d250=[{'radius':0x4bd610,'label':'SO-50','angle':0x109},{'radius':0x7278b0,'label':_0x8358b3(0x87),'angle':0xf5},{'radius':0x7ab610,'label':_0x8358b3(0x8b),'angle':0xe1},{'radius':0x3c1ea0,'label':_0x8358b3(0x9a),'angle':0x113},{'radius':0x78a6b8,'label':_0x8358b3(0xab),'angle':0xeb},{'radius':0x572880,'label':'AO-91','angle':0xff},{'radius':0xc65d40,'label':'IO-117','angle':0xb9,'strokeColor':'#808080','fillOpacity':0x0}];_0xc9d250[_0x8358b3(0x98)](_0x1902d2=>{const _0x23ec04=_0x8358b3;L[_0x23ec04(0x86)]([_0x588c31['lat'],_0x588c31['lng']],{'radius':_0x1902d2['radius'],'color':_0x1902d2[_0x23ec04(0xa8)]||_0x23ec04(0x95),'fillOpacity':_0x1902d2[_0x23ec04(0x7c)]!==undefined?_0x1902d2[_0x23ec04(0x7c)]:0.05,'weight':0x1,'wrapElements':!![],'clipLat':0x55,'degStep':0.5,'maxCopies':-0x1})[_0x23ec04(0x74)](map);const _0x38e3bb=destinationPoint(_0x588c31[_0x23ec04(0x6d)],_0x588c31[_0x23ec04(0xaa)],_0x1902d2[_0x23ec04(0x9e)],_0x1902d2['angle']-0x7d);L[_0x23ec04(0x7e)]([_0x38e3bb[_0x23ec04(0x6d)],_0x38e3bb[_0x23ec04(0xaa)]],{'icon':L[_0x23ec04(0xa4)]({'className':_0x23ec04(0xa0),'html':_0x1902d2[_0x23ec04(0x78)],'iconSize':[0x28,0x14],'iconAnchor':[0x14,0xa]}),'interactive':![]})[_0x23ec04(0x74)](map);});}}initMap('');
    </script>
  </body>
</html>
