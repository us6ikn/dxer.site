<!DOCTYPE html>
<html>
<head>
  <title>US State Outlines Example</title>
  <style>
    #map {
      height: 500px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div>
    <input type="checkbox" id="showStates" checked>
    <label for="showStates">US States</label>
  </div>
  <div id="map"></div>
  <script>
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: {lat: 39.8283, lng: -98.5795}
        });

        // Load GeoJSON data from an external file.
        var geoJsonUrl = 'https://storage.googleapis.com/mapsdevsite/json/states.js';
        fetch(geoJsonUrl)
          .then(function(response) {
            return response.json();
          })
          .then(function(geoJsonData) {
            // Remove Puerto Rico feature from the GeoJSON data
            geoJsonData.features = geoJsonData.features.filter(function(feature) {
              return feature.properties.NAME !== 'Puerto Rico';
            });
            // Add the filtered GeoJSON data to the map
            map.data.addGeoJson(geoJsonData);
          });

        // Set the stroke color for state outlines and fill opacity to 0.
        map.data.setStyle({
          strokeWeight: 1,
          strokeColor: 'black',
          fillOpacity: 0
        });

        // Add event listener to checkbox
        var showStatesCheckbox = document.getElementById('showStates');
        showStatesCheckbox.addEventListener('change', function() {
          if (showStatesCheckbox.checked) {
            map.data.setStyle({
              strokeWeight: 1,
              strokeColor: 'black',
              fillOpacity: 0
            });
          } else {
            map.data.setStyle({
              strokeWeight: 0,
              fillOpacity: 0
            });
          }
        });
      }

  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPRWRoTRhE5TddxBITIhBcKjdQpz2CXRs&callback=initMap" async defer></script>
</body>
</html>
