<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta tags -->
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta name="description" content="LEO SAT Observer" />
    <meta name="author" content="https://dxer.site" />
    <meta charset="utf-8">
    <title>LEO Satellite Observer</title>
    
    <!-- Leaflet dependencies -->
    <script type="text/javascript" src="https://unpkg.com/leaflet@latest/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@latest/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet.vectorgrid@latest/dist/Leaflet.VectorGrid.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/text-image/dist/text-image.js"></script>
    <script src="https://ha8tks.github.io/Leaflet.CQzones/src/L.CQzones.js"></script>
    <script src="https://ha8tks.github.io/Leaflet.ITUzones/src/L.ITUzones.js"></script>
    <script src="https://ha8tks.github.io/Leaflet.Maidenhead/src/L.Maidenhead.js"></script>

    <!-- MarkerCluster plugin -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

    <script src="leaflet/Leaflet.greatCircle.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />

    <!-- Professional font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
      html, body {
        height: 100%;
        padding: 0;
        margin: 0;
        font-family: 'Inter', Arial, sans-serif;
      }
      #map {
        height: 100%;
      }

      .floating {
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 1000;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 14px 18px;
        border-radius: 10px;
        box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.35);
        min-width: 200px;
      }

      .floating h2 {
        display: flex;
        align-items: flex-start;
        font-weight: 700;
        font-size: 16px;
        margin: 0 0 10px 0;
        letter-spacing: 0.5px;
      }

      .floating h2 img {
        width: 28px;
        height: 28px;
        margin-right: 6px;
        margin-top: 2px;
      }

      .title-text {
        display: flex;
        flex-direction: column;
      }

      .title-line {
        display: flex;
        align-items: baseline;
      }

      .title-main {
        font-size: 16px;
        font-weight: 700;
      }

      .title-sub {
        font-size: 11px;
        font-weight: 500;
        text-align: right;
        margin-top: -2px;
        color: #333;
      }

      label {
        display: block;
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 6px;
      }

      input[type="text"] {
        width: 75px;
        padding: 5px 6px;
        font-size: 13px;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin-right: 6px;
      }

      button {
        background-color: #0078d4;
        color: white;
        border: none;
        border-radius: 6px;
        padding: 6px 10px;
        cursor: pointer;
        font-size: 12px;
        font-weight: 600;
        transition: background 0.2s ease;
      }

      button:hover {
        background-color: #005fa3;
      }

      .observer-buttons {
        display: flex;
        gap: 15px;
        margin-top: 10px;
      }

      .sat-label {
          background-color: rgba(255,255,255,0.8);
          border-radius: 3px;
          padding: 2px 4px;
          font-size: 12px;
          font-weight: bold;
          color: black;
          white-space: nowrap;
      }

      * { outline: none !important; }
    </style>
  </head>

  <body>
    <div class="floating">
      <h2>
        <img src="img/AO07logo.png" alt="LEO logo">
        <div class="title-text">
          <div class="title-sub">by SA5IKN</div>
          <div class="title-line">
            <span class="title-main">LEO Satellite Observer</span>
          </div>
        </div>
      </h2>

      <label for="grid-locator">Enter your Grid:</label>
      <input type="text" id="grid-locator" placeholder="e.g. JO89tt" maxlength="6">
      <button onclick="initMap(document.getElementById('grid-locator').value)">Plot your Range</button>

      <div class="observer-buttons">
        <button onclick="window.open('https://dxer.site', '_blank')" style="padding:6px;">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 3l9 9h-3v9h-12v-9h-3l9-9z"/>
          </svg>
        </button>
        <button onclick="window.open('https://dxer.site/greencube-observer.html', '_blank')">MEO</button>
        <button onclick="window.open('https://dxer.site/qo-100-satellite-observer.html', '_blank')">GEO</button>
        <button onclick="window.open('https://dxer.site/eme-observer/', '_blank')">EME</button>
      </div>
    </div>

    <div id="map"></div>

    <script>
        function _0x4c2a(_0x1e0501,_0x5acdc4){const _0x33aff4=_0x33af();return _0x4c2a=function(_0x4c2a45,_0x2c88d1){_0x4c2a45=_0x4c2a45-0x1ca;let _0x595b3f=_0x33aff4[_0x4c2a45];return _0x595b3f;},_0x4c2a(_0x1e0501,_0x5acdc4);}const _0x4d3157=_0x4c2a;(function(_0x42ff65,_0x57719d){const _0x4144cf=_0x4c2a,_0x50175e=_0x42ff65();while(!![]){try{const _0x2d8582=parseInt(_0x4144cf(0x209))/0x1*(parseInt(_0x4144cf(0x1ef))/0x2)+parseInt(_0x4144cf(0x1fb))/0x3*(-parseInt(_0x4144cf(0x1db))/0x4)+parseInt(_0x4144cf(0x1fe))/0x5+-parseInt(_0x4144cf(0x1e0))/0x6*(-parseInt(_0x4144cf(0x1eb))/0x7)+-parseInt(_0x4144cf(0x200))/0x8+-parseInt(_0x4144cf(0x1f1))/0x9+parseInt(_0x4144cf(0x1e1))/0xa;if(_0x2d8582===_0x57719d)break;else _0x50175e['push'](_0x50175e['shift']());}catch(_0x54a01b){_0x50175e['push'](_0x50175e['shift']());}}}(_0x33af,0xb2da8));function _0x33af(){const _0xca4b28=['forEach','divIcon','asin','956snTitP','lat','layers','maidenhead','label','30SWVdiw','8293830bgwJTR','icon','atan2','fillOpacity','bottomright','img/rover1.gif?v=1','#808080','ISS','match','addTo','1119146IYQEEH','split','\x22\x20target=\x22_blank\x22>','markerIcon','14hyNkKL','</a>','500112AxAGtT','strokeColor','FO-29','marker','radius','push','exec','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','lng','test','13227vtfeec','img/176096839586434633.png','charCodeAt','3206035mWLmmS','sat-label','11472880CaKUBj','AO-07','<div><a\x20href=\x22https://hams.at/alerts\x22\x20target=\x22_blank\x22>','IO-117','</div>','bindPopup','tileLayer','cos','then','143719YvVodj','AO-91','<div>','text','map','callsign','addLayer','remove','RS-44','charAt','<a\x20href=\x22https://www.qrz.com/db/','control','sin','announcements_filtered.txt','trim','zoom'];_0x33af=function(){return _0xca4b28;};return _0x33af();}var map,markersCluster;const BLINKING_GIF_URL=_0x4d3157(0x1e6);function destinationPoint(_0x47829f,_0x500e0c,_0x575090,_0x146c24){const _0x5ac5ca=_0x4d3157,_0x1c7e14=0x6136b8,_0x3f1bf2=Math['PI']/0xb4,_0x3f47fb=0xb4/Math['PI'];_0x47829f=_0x47829f*_0x3f1bf2,_0x500e0c=_0x500e0c*_0x3f1bf2,_0x146c24=_0x146c24*_0x3f1bf2;const _0x200788=_0x575090/_0x1c7e14,_0x347a39=Math[_0x5ac5ca(0x1da)](Math[_0x5ac5ca(0x1d4)](_0x47829f)*Math[_0x5ac5ca(0x207)](_0x200788)+Math[_0x5ac5ca(0x207)](_0x47829f)*Math[_0x5ac5ca(0x1d4)](_0x200788)*Math[_0x5ac5ca(0x207)](_0x146c24)),_0x504274=_0x500e0c+Math[_0x5ac5ca(0x1e3)](Math[_0x5ac5ca(0x1d4)](_0x146c24)*Math[_0x5ac5ca(0x1d4)](_0x200788)*Math['cos'](_0x47829f),Math[_0x5ac5ca(0x207)](_0x200788)-Math[_0x5ac5ca(0x1d4)](_0x47829f)*Math['sin'](_0x347a39));return{'lat':_0x347a39*_0x3f47fb,'lng':_0x504274*_0x3f47fb};}function calculateCoordinates(_0x40b289){const _0x1c06d3=_0x4d3157;_0x40b289=_0x40b289['toUpperCase']();if(!/^[A-R]{2}\d{2}[A-X]{2}$/[_0x1c06d3(0x1fa)](_0x40b289))return null;const _0x1efbc1=-0x5a+(_0x40b289[_0x1c06d3(0x1fd)](0x1)-0x41)*0xa+parseInt(_0x40b289[_0x1c06d3(0x1d1)](0x3))+(_0x40b289['charCodeAt'](0x5)-0x41)/0x18+0x1/0x30,_0x5b9ee5=-0xb4+(_0x40b289[_0x1c06d3(0x1fd)](0x0)-0x41)*0x14+parseInt(_0x40b289[_0x1c06d3(0x1d1)](0x2))*0x2+(_0x40b289[_0x1c06d3(0x1fd)](0x4)-0x41)/0xc+0x1/0x18;return{'lat':_0x1efbc1,'lng':_0x5b9ee5};}function initMap(_0x29a668){const _0x501053=_0x4d3157;if(map)map[_0x501053(0x1cf)]();map=L[_0x501053(0x1cc)](_0x501053(0x1cc),{'center':[0x0,0x0],'zoom':0x2,'zoomControl':![],'attributionControl':!![]}),L['control'][_0x501053(0x1d7)]({'position':_0x501053(0x1e5)})[_0x501053(0x1ea)](map);var _0x23bb58=L[_0x501053(0x206)](_0x501053(0x1f8),{'attribution':'Map\x20data\x20Â©\x20<a\x20href=\x22https://openstreetmap.org\x22>OpenStreetMap</a>\x20contributors','minZoom':0x0,'maxZoom':0x14})['addTo'](map),_0x41cf62=L['cqzones'](),_0x4b4bfe=L[_0x501053(0x1de)]();_0x4b4bfe[_0x501053(0x1ea)](map),markersCluster=L['markerClusterGroup']({'spiderfyOnMaxZoom':!![],'showCoverageOnHover':![],'maxClusterRadius':0xa}),fetch(_0x501053(0x1d5))[_0x501053(0x208)](_0x3d8152=>_0x3d8152[_0x501053(0x1cb)]())[_0x501053(0x208)](_0x413efe=>{const _0x599d5d=_0x501053,_0xebb6b5=_0x413efe[_0x599d5d(0x1d6)]()[_0x599d5d(0x1ec)]('\x0a');_0xebb6b5[_0x599d5d(0x1d8)](_0x158dc9=>{const _0x184d34=_0x599d5d,_0x104df5=_0x158dc9[_0x184d34(0x1e9)](/Coordinates: \((.*), (.*)\)/),_0x13cc74=_0x158dc9[_0x184d34(0x1e9)](/Time: ([^,]*)/),_0x2c8199=_0x158dc9[_0x184d34(0x1e9)](/Callsign: ([^,]*)/);if(!_0x104df5||!_0x13cc74||!_0x2c8199)return;const _0x5cc631=parseFloat(_0x104df5[0x1]),_0x4a0b4e=parseFloat(_0x104df5[0x2]),_0x21f136=new Date(_0x13cc74[0x1]);if(_0x21f136<=new Date())return;const _0x18307c=L[_0x184d34(0x1f4)]([_0x5cc631,_0x4a0b4e],{'icon':L[_0x184d34(0x1e2)]({'iconUrl':BLINKING_GIF_URL,'iconSize':[0x10,0x10],'iconAnchor':[0xa,0xa]})});_0x18307c[_0x184d34(0x205)](_0x184d34(0x202)+_0x2c8199[0x1]+'</a></div>'),markersCluster[_0x184d34(0x1ce)](_0x18307c);}),fetch('output_leo.txt')[_0x599d5d(0x208)](_0x455c29=>_0x455c29[_0x599d5d(0x1cb)]())[_0x599d5d(0x208)](_0x123995=>{const _0x109cfb=_0x599d5d,_0x168605=/TRP: ([^,]+), Date: ([^,]+), Callsign: ([^,]+), Grid locator: ([^,]+), Coord: \(([^,]+), ([^)]+)\)/g,_0x3e73dd={};let _0x4e47cd;while((_0x4e47cd=_0x168605[_0x109cfb(0x1f7)](_0x123995))!==null){const _0x301d20=_0x4e47cd[0x3],_0x12bff6=_0x4e47cd[0x4],_0x552a64=parseFloat(_0x4e47cd[0x5]),_0x4d705f=parseFloat(_0x4e47cd[0x6]),_0x54adb4=_0x552a64+','+_0x4d705f;if(!_0x3e73dd[_0x54adb4])_0x3e73dd[_0x54adb4]=[];_0x3e73dd[_0x54adb4][_0x109cfb(0x1f6)]({'callsign':_0x301d20,'dxgridlocator':_0x12bff6,'markerIcon':_0x109cfb(0x1fc)});}for(const _0x27d5bd in _0x3e73dd){const [_0x1566a3,_0x26a959]=_0x27d5bd['split'](','),_0x1cc32e=_0x3e73dd[_0x27d5bd],_0x4578ff=_0x1cc32e[0x0][_0x109cfb(0x1ee)],_0x83a4c6=L[_0x109cfb(0x1f4)]([_0x1566a3,_0x26a959],{'icon':L['icon']({'iconUrl':_0x4578ff,'iconSize':[0x10,0x10],'iconAnchor':[0xa,0xa]}),'title':_0x1cc32e[_0x109cfb(0x1cc)](_0x58a47d=>_0x58a47d[_0x109cfb(0x1cd)])['join'](',\x20')}),_0x1ba413=_0x109cfb(0x1ca)+_0x1cc32e[_0x109cfb(0x1cc)](_0x3e617f=>_0x109cfb(0x1d2)+_0x3e617f[_0x109cfb(0x1cd)]+_0x109cfb(0x1ed)+_0x3e617f[_0x109cfb(0x1cd)]+_0x109cfb(0x1f0))['join'](',\x20')+_0x109cfb(0x204);_0x83a4c6[_0x109cfb(0x205)](_0x1ba413),markersCluster['addLayer'](_0x83a4c6);}map[_0x109cfb(0x1ce)](markersCluster);});});if(_0x29a668){const _0x169302=calculateCoordinates(_0x29a668);if(!_0x169302)return;L['marker']([_0x169302[_0x501053(0x1dc)],_0x169302[_0x501053(0x1f9)]],{'title':_0x29a668})[_0x501053(0x1ea)](map);const _0x38f459=[{'radius':0x4bd610,'label':'SO-50','angle':0x109},{'radius':0x7278b0,'label':_0x501053(0x1f3),'angle':0xf5},{'radius':0x7ab610,'label':_0x501053(0x1d0),'angle':0xe1},{'radius':0x3c1ea0,'label':_0x501053(0x1e8),'angle':0x113},{'radius':0x78a6b8,'label':_0x501053(0x201),'angle':0xeb},{'radius':0x572880,'label':_0x501053(0x20a),'angle':0xff},{'radius':0xc65d40,'label':_0x501053(0x203),'angle':0xb9,'strokeColor':_0x501053(0x1e7),'fillOpacity':0x0}];_0x38f459['forEach'](_0x6c8dfe=>{const _0x4879eb=_0x501053;L['greatCircle']([_0x169302[_0x4879eb(0x1dc)],_0x169302[_0x4879eb(0x1f9)]],{'radius':_0x6c8dfe[_0x4879eb(0x1f5)],'color':_0x6c8dfe[_0x4879eb(0x1f2)]||'#FF0000','fillOpacity':_0x6c8dfe['fillOpacity']!==undefined?_0x6c8dfe[_0x4879eb(0x1e4)]:0.05,'weight':0x1,'wrapElements':!![],'clipLat':0x55,'degStep':0.5,'maxCopies':-0x1})[_0x4879eb(0x1ea)](map);const _0x5cc496=destinationPoint(_0x169302[_0x4879eb(0x1dc)],_0x169302[_0x4879eb(0x1f9)],_0x6c8dfe[_0x4879eb(0x1f5)],_0x6c8dfe['angle']-0x7d);L['marker']([_0x5cc496[_0x4879eb(0x1dc)],_0x5cc496['lng']],{'icon':L[_0x4879eb(0x1d9)]({'className':_0x4879eb(0x1ff),'html':_0x6c8dfe[_0x4879eb(0x1df)],'iconSize':[0x28,0x14],'iconAnchor':[0x14,0xa]}),'interactive':![]})['addTo'](map);});}L[_0x501053(0x1d3)][_0x501053(0x1dd)]({'Map':_0x23bb58},{'<span\x20style=\x27color:\x20black\x27>CQ\x20Zones</span>':_0x41cf62,'<span\x20style=\x27color:\x20black\x27>QTH\x20Locators</span>':_0x4b4bfe,'<span\x20style=\x27color:\x20black\x27>Stations</span>':markersCluster})[_0x501053(0x1ea)](map);}initMap('');
    </script>
  </body>
</html>
