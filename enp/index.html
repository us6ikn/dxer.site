<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <title>EME Noise Mapper</title>
      <style>
          body{margin:0;overflow:hidden;width:100%;height:100vh;background:#000}canvas{display:block;position:absolute;top:0;left:0;width:100%;height:100%}html,body{touch-action:none;width:100%;height:100%}button{min-width:44px;min-height:44px}#infoBox{position:absolute;top:10px;right:10px;left:auto;padding:10px;background:rgb(0 0 0 / .7);color:#fff;font-family:monospace;font-size:12px;display:none;max-width:80vw;z-index:10;text-align:right;width:fit-content}@media (max-width:600px),(orientation:portrait){#infoBox{font-size:14px;padding:16px;top:15px;right:15px;left:auto;text-align:right;width:fit-content;max-width:90vw;line-height:1.4}}#moonTimeControls button{background:rgb(255 255 255 / .1);border:1px solid rgb(255 255 255 / .3);border-radius:12px;color:#fff;font-size:24px;font-family:sans-serif;padding:10px 20px;cursor:pointer;transition:background 0.2s,transform 0.2s;box-shadow:0 4px 8px rgb(0 0 0 / .3)}#trackButton{background:rgb(255 255 255 / .1);border:1px solid rgb(255 255 255 / .3);border-radius:12px;color:#fff;font-size:24px;font-family:sans-serif;padding:10px 20px;cursor:pointer;transition:background 0.2s,transform 0.2s;box-shadow:0 4px 8px rgb(0 0 0 / .3)}#moonTimeControls button:hover,#trackButton:hover{background:rgb(255 255 255 / .2);transform:scale(1.05)}#moonTimeControls button:active,#trackButton:active{background:rgb(255 255 255 / .3);transform:scale(.97)}#trackButton:disabled{opacity:.5;cursor:not-allowed}#moonTimeControls{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);z-index:20;display:flex;flex-direction:column;align-items:center;gap:10px}#moonTimeDisplay{color:#fff;font-family:'Courier New',monospace;font-size:20px;padding:8px 12px;border-radius:8px;background-color:rgb(0 0 0 / .4);border:1px solid rgb(255 255 255 / .2)}#prevDate,#nextDate{padding:1px 6px;font-size:10px;line-height:1.2;min-height:20px;width:24px;border-radius:4px;background:#444;color:#fff;border:none;cursor:pointer;transition:background 0.2s,transform 0.2s}#prevDate:hover,#nextDate:hover{background:rgb(255 255 255 / .2);transform:scale(1.05)}#prevDate:active,#nextDate:active{background:rgb(255 255 255 / .3);transform:scale(.97)}#timeSlider{-webkit-appearance:none;appearance:none;background:rgb(255 255 255 / .3);height:12px;border-radius:6px;outline:none;width:80vw;max-width:300px;touch-action:pan-x;z-index:30}#timeSlider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:24px;height:24px;background:#fff;border-radius:50%;cursor:pointer;box-shadow:0 2px 4px rgb(0 0 0 / .3)}#timeSlider::-moz-range-thumb{width:24px;height:24px;background:#fff;border-radius:50%;cursor:pointer;box-shadow:0 2px 4px rgb(0 0 0 / .3)}#timeSlider:disabled{opacity:.5;cursor:not-allowed}#colorBarContainer{position:absolute;bottom:180px;right:10px;z-index:30;display:flex;flex-direction:column;align-items:center;font-family:'Segoe UI',sans-serif;font-size:12px;color:#fff;width:40px;height:auto;top:auto;left:auto}#colorBar{width:20px!important;height:100px!important;border:1px solid rgb(255 255 255 / .3);z-index:30}#maxNoiseLabel{position:absolute;top:-18px;left:50%;transform:translateX(-50%);text-align:center;width:100%;z-index:31;background:rgb(0 0 0 / .6);padding:2px 4px;border-radius:2px;line-height:1.2}#minNoiseLabel{position:absolute;bottom:-18px;left:50%;transform:translateX(-50%);text-align:center;width:100%;z-index:31;background:rgb(0 0 0 / .6);padding:2px 4px;border-radius:2px;line-height:1.2}@media (max-width:600px),(orientation:portrait){#colorBarContainer{position:absolute;bottom:90px;right:10px;font-size:10px;width:40px;height:auto;top:auto;left:auto}#colorBar{width:20px!important;height:120px!important}#maxNoiseLabel{top:-16px;font-size:10px;padding:1px 3px}#minNoiseLabel{bottom:-16px;font-size:10px;padding:1px 3px}}@media (max-height:500px){#colorBarContainer{position:absolute;bottom:80px;righ t:10px;width:40px;height:auto;top:auto;left:auto}#colorBar{height:100px!important}#maxNoiseLabel{top:-16px;font-size:10px;padding:1px 3px}#minNoiseLabel{bottom:-16px;font-size:10px;padding:1px 3px}}

      </style>
    </head>
    <body>
        <div style="position: absolute; top: 8px; left: 8px; z-index: 30; font-family: 'Segoe UI', sans-serif;">
          <div style="display: flex; flex-direction: row; align-items: flex-end; gap: 8px;">
            <div style="display: flex; flex-direction: column; align-items: flex-end; line-height: 1;">
              <div style="font-size: 10px; color: #aaa; padding-right: 2px;">
                by SA5IKN
              </div>
              <div style="font-size: 16px; color: white; font-weight: 600; background: rgba(0, 0, 0, 0.6); padding: 2px 4px; border-radius: 2px;">
                EME Noise Mapper
              </div>
            </div>
            <div style="display: flex; flex-direction: row; gap: 4px;">
                <a href="https://dxer.site" target="_blank" title="Go to homepage"
                   style="
                     display: inline-flex;
                     align-items: center;
                     justify-content: center;
                     width: 32px;
                     height: 32px;
                     background: rgba(255,255,255,0.1);
                     color: white;
                     border-radius: 6px;
                     text-decoration: none;
                     transition: background 0.2s ease;
                   ">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M12 3l9 9h-3v9h-12v-9h-3l9-9z"/>
                  </svg>
                </a>

                <a href="https://dxer.site/eme-observer/" target="_blank" title="EME Observer"
                   style="
                     display: inline-flex;
                     align-items: center;
                     justify-content: center;
                     width: 32px;
                     height: 32px;
                     background: rgba(255,255,255,0.1);
                     color: white;
                     border-radius: 6px;
                     text-decoration: none;
                     transition: background 0.2s ease;
                   "
                   onmouseover="this.style.background='rgba(255,255,255,0.25)'"
                   onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M15 4l-6 2-6-2v16l6 2 6-2 6 2v-16l-6-2zm0 2.47l4 .8v12.26l-4-.8v-12.26zm-6 12.26l-4-.8v-12.26l4 .8v12.26zm2-.37v-12.72l2-.67v12.72l-2 .67z"/>
                  </svg>
                </a>

                <a href="https://dxer.site/eme-noise-mapper/user-guide.html" target="_blank" title="Help"
                   style="
                     display: inline-flex;
                     align-items: center;
                     justify-content: center;
                     width: 32px;
                     height: 32px;
                     background: rgba(255,255,255,0.1);
                     color: white;
                     border-radius: 6px;
                     text-decoration: none;
                     transition: background 0.2s ease;
                   "
                   onmouseover="this.style.background='rgba(255,255,255,0.25)'"
                   onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                      <path d="M12 2c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4zm-1 16h2v-2h-2v2z"/>
                  </svg>
                </a>
            </div>
          </div>
        </div>

        <div id="controlPanel" style="
          position: absolute;
          top: 36px;
          left: 8px;
          z-index: 20;
          background: rgba(0,0,0,0.6);
          padding: 6px 8px;
          border-radius: 8px;
          display: flex;
          flex-direction: column;
          gap: 6px;
          font-family: 'Segoe UI', sans-serif;
          font-size: 12px;
          color: white;
          max-width: 160px;
        ">
          <div style="display: flex; align-items: center; gap: 4px;">
            <label for="gridInput">My locator:</label>
            <input type="text" id="gridInput" maxlength="6" placeholder="e.g. JO89tt"
                   style="width: 60px; font-size: 11px; padding: 2px 4px; border-radius: 4px; border: none;">
          </div>
          <div style="display: flex; align-items: center; gap: 4px;">
            <label for="dxGridInput">DX locator:</label>
            <input type="text" id="dxGridInput" maxlength="6" placeholder="e.g. IO91vm"
                   style="width: 60px; font-size: 11px; padding: 2px 4px; border-radius: 4px; border: none;">
          </div>
          <div style="display: flex; flex-direction: column; gap: 2px;">
            <label for="csvUpload">
              CSV <span style="font-size: 9px; color: #ccc;">(e.g. from SkyScanner)</span>:
            </label>
            <input type="file" id="csvUpload" accept=".csv"
                   style="font-size: 10px; padding: 2px 0px; color: white;">
          </div>
          <div style="display: flex; align-items: center; gap: 4px;">
            <button id="prevDate">&lt;</button>
            <input type="date" id="datePicker"
                   style="font-size: 11px; padding: 2px 4px; border-radius: 4px; border: none; width: 100px;">
            <button id="nextDate">&gt;</button>
          </div>
          <div style="display: flex; align-items: center; gap: 4px;">
            <input type="checkbox" id="showSun" style="width: 14px; height: 14px;">
            <label for="showSun">Show sun</label>
          </div>
          <div id="demoStatus" style="color: red; font-weight: bold; margin-top: 10px;">
            This is a DEMO! Load your CSV file and enter your locator
          </div>
        </div>

        <div id="moonTimeControls" style="position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); z-index: 20; display: flex; flex-direction: column; align-items: center; gap: 10px;">
          <span id="moonTimeDisplay" style="color: white; font-family: 'Courier New', monospace; font-size: 18px; padding: 8px 12px; border-radius: 8px; background-color: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 255, 255, 0.2);">
            --:-- UTC
          </span>
          <input type="range" id="timeSlider" min="0" max="0" value="0" aria-label="Select time for moon and sun position" role="slider" tabindex="0" style="width: 80vw; max-width: 300px; accent-color: #fff; cursor: pointer;">
          <button id="trackButton">Track</button>
        </div>

        <div id="colorBarContainer" style="
          position: absolute;
          bottom: 180px;
          right: 10px;
          z-index: 30;
          display: flex;
          flex-direction: column;
          align-items: center;
          font-family: 'Segoe UI', sans-serif;
          font-size: 12px;
          color: white;
          width: 40px;
          height: auto;
          top: auto;
          left: auto;
        ">
          <div id="maxNoiseLabel" style="position: absolute; top: -35px; left: 50%; transform: translateX(-75%); text-align: center; width: 100%; z-index: 31; background: rgba(0,0,0,0.6); padding: 2px 4px; border-radius: 2px; line-height: 1.2;">-- dB</div>
          <canvas id="colorBar" width="20" height="200" style="border: 1px solid rgba(255,255,255,0.3); z-index: 30;"></canvas>
          <div id="minNoiseLabel" style="position: absolute; bottom: -145px; left: 50%; transform: translateX(-75%); text-align: center; width: 100%; z-index: 31; background: rgba(0,0,0,0.6); padding: 2px 4px; border-radius: 2px; line-height: 1.2;">-- dB</div>
        </div>

        <script src="/eme-observer/a.ob.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/build/three.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/controls/OrbitControls.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/loaders/FontLoader.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/geometries/TextGeometry.js"></script>

        <script>
            const _0x496530=_0x5a8a;(function(_0x553ede,_0x71ac95){const _0x4184e3=_0x5a8a,_0x5f5894=_0x553ede();while(!![]){try{const _0x86f547=parseInt(_0x4184e3(0x130))/0x1+-parseInt(_0x4184e3(0x123))/0x2+-parseInt(_0x4184e3(0x14f))/0x3+parseInt(_0x4184e3(0x11b))/0x4*(parseInt(_0x4184e3(0x12f))/0x5)+-parseInt(_0x4184e3(0xf8))/0x6+-parseInt(_0x4184e3(0x179))/0x7*(-parseInt(_0x4184e3(0x13c))/0x8)+parseInt(_0x4184e3(0x162))/0x9;if(_0x86f547===_0x71ac95)break;else _0x5f5894['push'](_0x5f5894['shift']());}catch(_0x2b0a2b){_0x5f5894['push'](_0x5f5894['shift']());}}}(_0x4705,0xe1e38));let lastTouchEnd=0x0;document[_0x496530(0x12d)](_0x496530(0x16e),function(_0x1e3755){const _0xb5774e=_0x496530;_0x1e3755[_0xb5774e(0x13d)][_0xb5774e(0xc6)]>0x1&&_0x1e3755[_0xb5774e(0x92)]();},{'passive':![]}),document[_0x496530(0x12d)](_0x496530(0xda),function(_0x1e217b){const _0x5666ae=_0x496530,_0x16f476=new Date()[_0x5666ae(0x104)]();_0x16f476-lastTouchEnd<=0x12c&&_0x1e217b[_0x5666ae(0x92)](),lastTouchEnd=_0x16f476;},![]),document[_0x496530(0x12d)](_0x496530(0x93),function(_0xf5e9b8){_0xf5e9b8['preventDefault']();},![]),document[_0x496530(0x12d)]('gesturechange',function(_0x5517c9){_0x5517c9['preventDefault']();},![]),document['addEventListener'](_0x496530(0x183),function(_0x362083){const _0x4bda47=_0x496530;_0x362083[_0x4bda47(0x92)]();},![]);const scene=new THREE[(_0x496530(0x103))](),moonTrajectoryGroup=new THREE['Group'](),sunTrajectoryGroup=new THREE[(_0x496530(0x137))]();let moonPositions=[],dxMoonPositions=[],sunPositions=[],commonMoonWindow=[],currentTimeIndex=0x0,moonMarker=null,sunMarker=null,azStep=0x5,elStep=0x5,isRealTime=![],currentRealTimeData=null,autoTracking=![],trackingTimeout=null,trackingInterval=null;const moonTimeDisplay=document[_0x496530(0x90)](_0x496530(0x136)),timeSlider=document[_0x496530(0x90)](_0x496530(0x184)),datePicker=document[_0x496530(0x90)](_0x496530(0x155)),prevDateBtn=document['getElementById'](_0x496530(0x161)),nextDateBtn=document[_0x496530(0x90)](_0x496530(0xcc)),gridInput=document['getElementById'](_0x496530(0x97)),dxGridInput=document[_0x496530(0x90)](_0x496530(0xf1)),showSunCheckbox=document[_0x496530(0x90)](_0x496530(0x9b)),demoStatus=document[_0x496530(0x90)](_0x496530(0xd9)),colorBarCanvas=document[_0x496530(0x90)](_0x496530(0x160)),colorBarContext=colorBarCanvas[_0x496530(0x178)]('2d'),minNoiseLabel=document[_0x496530(0x90)](_0x496530(0x16c)),maxNoiseLabel=document[_0x496530(0x90)](_0x496530(0x14b)),colorBarContainer=document[_0x496530(0x90)](_0x496530(0x145)),trackButton=document[_0x496530(0x90)](_0x496530(0x186)),renderer=new THREE[(_0x496530(0xd4))]({'antialias':!![]});renderer[_0x496530(0x18b)](window['innerWidth'],window[_0x496530(0x111)]),document['body'][_0x496530(0x189)](renderer[_0x496530(0xde)]);const camera=new THREE[(_0x496530(0x139))](0x4b,window[_0x496530(0x175)]/window[_0x496530(0x111)],0.1,0x3e8),defaultDistance=0x2,defaultAzRad=THREE['MathUtils']['degToRad'](0xb4),defaultElRad=THREE[_0x496530(0x17b)][_0x496530(0xf3)](0x1e);camera[_0x496530(0xd5)][_0x496530(0x102)](defaultDistance*Math[_0x496530(0xac)](defaultElRad)*Math['sin'](defaultAzRad),defaultDistance*Math[_0x496530(0x156)](defaultElRad),defaultDistance*Math[_0x496530(0xac)](defaultElRad)*Math[_0x496530(0xac)](defaultAzRad)),camera[_0x496530(0x98)](0x0,0x0,0x0);const controls=new THREE[(_0x496530(0xd0))](camera,renderer['domElement']);controls[_0x496530(0x138)]=!![],controls[_0x496530(0x118)][_0x496530(0x102)](0x0,0x0,0x0),controls[_0x496530(0xab)]=0.5,controls[_0x496530(0x121)]=0.5,controls[_0x496530(0x10e)]=0.5,controls[_0x496530(0x147)]();function onWindowResize(){const _0x469f6e=_0x496530;camera[_0x469f6e(0x159)]=window[_0x469f6e(0x175)]/window['innerHeight'],camera[_0x469f6e(0x10f)](),renderer[_0x469f6e(0x18b)](window['innerWidth'],window[_0x469f6e(0x111)]),drawColorBar();}window[_0x496530(0x12d)](_0x496530(0x16f),onWindowResize),window[_0x496530(0x12d)]('orientationchange',onWindowResize);const raycaster=new THREE[(_0x496530(0xfb))](),mouse=new THREE[(_0x496530(0xfd))]();let spheres=[],minNoise=Infinity,maxNoise=-Infinity;function _0x4705(){const _0x3fa349=['textContent','Error:\x20No\x20valid\x20data\x20points\x20in\x20CSV','red','infoBox','height','moonTimeDisplay','Group','enableDamping','PerspectiveCamera','slice','block','32PtsnqV','touches','map','expandByPoint','every','forEach','Moon','changedTouches','getUTCMonth','colorBarContainer','error','update','round','uploaded','borderColor','maxNoiseLabel','FontLoader','filter','stored','2798670sKWAlK','includes','Sun','matchMedia','textAlign','azStep','datePicker','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>DX\x20Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','style','aspect','setFromPoints','innerHTML','lineWidth','TextGeometry','elStep','font','colorBar','prevDate','1990017lXnTTr','createElement','strokeStyle','Observer','getUTCMilliseconds','fill','push','<br>','°\x20El:\x20','input','minNoiseLabel','demo.csv','touchstart','resize','blue','time','split','matches','Enter\x20your\x20locator\x20to\x20see\x20trajectories','innerWidth','getCenter','none','getContext','714784KovaqU','csvUpload','MathUtils','rotation','CSV\x20loaded!','CatmullRomCurve3','(orientation:\x20portrait)','Azimuth','skyObserverCsv','#ffffff','gestureend','timeSlider','flex','trackButton','Box3','Mesh','appendChild','clearRect','setSize','readAsText','#fff','max','This\x20is\x20a\x20DEMO!\x20Load\x20your\x20CSV\x20file\x20and\x20enter\x20your\x20locator','setScalar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','charCodeAt','--:--\x20UTC','pos','getElementById','closePath','preventDefault','gesturestart','visible','multiplyScalar','LineBasicMaterial','gridInput','lookAt','distance','clientX','showSun','https://threejs.org/examples/fonts/helvetiker_regular.typeface.json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>DX\x20Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DX\x20Moon\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','UTC','getItem','lineTo','Line','Noise','normalize','fillText','checked','add','normal','divideScalar','middle','enabled','rotateSpeed','cos','dxMoon','Error:\x20Invalid\x20CSV\x20format','stroke','disabled','altitude','display','Noise:\x20N/A','Color','setHSL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','intersectObjects','°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bold\x20','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sun\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catch','left','click','body','°\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setTransform','lon','padStart','label','length','Noise:\x20','toFixed','Valid','dec','°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Noise:\x20','nextDate','Elevation','stopPropagation','textBaseline','OrbitControls','BufferGeometry','SphereGeometry','px\x20Segoe\x20UI','WebGLRenderer','position','meta','getUTCDate','clientY','demoStatus','touchend','Error\x20loading\x20demo\x20CSV:','getUTCHours','replace','domElement','userData','fillStyle','then','data','value','Horizon','Noise:\x20N/A\x20(Outside\x20Dome)','JO89tt','clone','strokeText','change','Vector3','lat','noise','fillRect','remove','touchcancel','elevation','dxGridInput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Moon\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','degToRad','\x20UTC','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onload','toISOString','1363728GKWAmh','True','Stop','Raycaster','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','Vector2','Body','toUpperCase','color','azimuth','set','Scene','getTime','moon','yellow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Measurement</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','files','Equator','getUTCMinutes','\x20dB','Error:\x20CSV\x20must\x20contain\x20Azimuth,\x20Elevation,\x20and\x20Noise\x20columns','moveTo','panSpeed','updateProjectionMatrix','sort','innerHeight','sqrt','#ff0000','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Moon\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','object','MeshBasicMaterial','setItem','target','abs','sun','8RzazPK','skyObserverGrid','reduce','scale','width','Track','zoomSpeed','copy','2036012CiZntZ','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br><b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sun\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','RingGeometry','getUTCFullYear','demo','No\x20data','clear','min','div','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','3362670TJqymV','1128795OjUAxP'];_0x4705=function(){return _0x3fa349;};return _0x4705();}const rawPoints=[];scene['add'](moonTrajectoryGroup),scene[_0x496530(0xa6)](sunTrajectoryGroup);const TRAJECTORY_SCALE=1.05,MARKER_SCALE=1.05;function getColor(_0x49c7e8){const _0x3f51c2=_0x496530,_0x36c995=maxNoise-minNoise,_0x72a68=_0x36c995===0x0?0.5:(_0x49c7e8-minNoise)/_0x36c995;return new THREE[(_0x3f51c2(0xb4))]()['setHSL'](0.7-_0x72a68*0.7,0x1,0.5);}function calculateStepSizes(){const _0x24abd1=_0x496530;if(!rawPoints[_0x24abd1(0xc6)])return{'azStep':0x5,'elStep':0x5};const _0x49b5b4=[...new Set(rawPoints[_0x24abd1(0x13e)](_0x33765f=>_0x33765f['az']))][_0x24abd1(0x110)]((_0x26d1f5,_0x4cbdbc)=>_0x26d1f5-_0x4cbdbc),_0x2c6bdb=[...new Set(rawPoints[_0x24abd1(0x13e)](_0x226256=>_0x226256['el']))][_0x24abd1(0x110)]((_0x497fd1,_0x354c57)=>_0x497fd1-_0x354c57),_0x4a157f=_0x49b5b4[_0x24abd1(0x13a)](0x1)[_0x24abd1(0x13e)]((_0x1159e9,_0x23670a)=>_0x1159e9-_0x49b5b4[_0x23670a])[_0x24abd1(0x14d)](_0x2f4a9c=>_0x2f4a9c>0x0),_0x16634d=_0x2c6bdb[_0x24abd1(0x13a)](0x1)[_0x24abd1(0x13e)]((_0x57a699,_0x164044)=>_0x57a699-_0x2c6bdb[_0x164044])[_0x24abd1(0x14d)](_0x4c3409=>_0x4c3409>0x0),_0x58ec26=_0x4a157f[_0x24abd1(0xc6)]?Math[_0x24abd1(0x12b)](..._0x4a157f):0x5,_0x2ad62a=_0x16634d['length']?Math[_0x24abd1(0x12b)](..._0x16634d):0x5;return{'azStep':_0x58ec26,'elStep':_0x2ad62a};}function interpolateNoiseAtPosition(_0x3502cc,_0xa8aef2){const _0x44acd7=_0x496530;if(!rawPoints[_0x44acd7(0xc6)])return null;const _0xa10b5c=Math[_0x44acd7(0x18e)](azStep,elStep)*0x1,_0x17fead=0x6,_0x54505e=0x1,_0x1141f5=rawPoints[_0x44acd7(0x13e)](_0xdbbebc=>{const _0x59fb2f=_0x44acd7,_0x2d98fb=Math[_0x59fb2f(0x119)](_0xdbbebc['az']-_0x3502cc),_0x36305f=Math[_0x59fb2f(0x119)](_0xdbbebc['el']-_0xa8aef2),_0x203ae0=Math[_0x59fb2f(0x112)](_0x2d98fb*_0x2d98fb+_0x36305f*_0x36305f);return{..._0xdbbebc,'distance':_0x203ae0};}),_0x3bdb44=_0x1141f5[_0x44acd7(0x14d)](_0x5b9e79=>_0x5b9e79[_0x44acd7(0x99)]<=_0xa10b5c);if(_0x3bdb44[_0x44acd7(0xc6)]>=_0x54505e){if(_0x3bdb44['length']===0x1)return{'noise':_0x3bdb44[0x0]['noise']};let _0x2b058b=0x0,_0x12d0a3=0x0;_0x3bdb44[_0x44acd7(0x141)](_0x552056=>{const _0x31c14f=_0x44acd7,_0x44231b=0x1/(_0x552056['distance']*_0x552056[_0x31c14f(0x99)]+0.000001);_0x12d0a3+=_0x44231b*_0x552056[_0x31c14f(0xec)],_0x2b058b+=_0x44231b;});if(_0x2b058b===0x0)return null;const _0x5da131=_0x12d0a3/_0x2b058b;return{'noise':Math[_0x44acd7(0x18e)](minNoise,Math[_0x44acd7(0x12b)](maxNoise,_0x5da131))};}const _0x2f8a03=_0x1141f5[_0x44acd7(0x11d)]((_0x1887e9,_0x493d77)=>_0x493d77[_0x44acd7(0x99)]<_0x1887e9['distance']?_0x493d77:_0x1887e9,_0x1141f5[0x0]);if(_0x2f8a03[_0x44acd7(0x99)]<=_0x17fead)return{'noise':_0x2f8a03[_0x44acd7(0xec)]};return null;}function getCurrentPositions(){const _0x1dffdc=_0x496530,_0x48853c=new Date(),_0x326ed6=gridInput[_0x1dffdc(0xe3)]||_0x1dffdc(0xe6),_0x559a81=maidenheadToLatLon(_0x326ed6);if(!_0x559a81)return null;const _0x4eb253=new Astronomy[(_0x1dffdc(0x165))](_0x559a81[_0x1dffdc(0xeb)],_0x559a81[_0x1dffdc(0xc3)],0x0),_0x93132c=Astronomy[_0x1dffdc(0x109)](Astronomy[_0x1dffdc(0xfe)][_0x1dffdc(0x142)],_0x48853c,_0x4eb253,!![],![]),_0x59c33a=Astronomy[_0x1dffdc(0xe4)](_0x48853c,_0x4eb253,_0x93132c['ra'],_0x93132c[_0x1dffdc(0xca)],_0x1dffdc(0xa7)),_0x3c970e=_0x59c33a[_0x1dffdc(0xb1)],_0x3d3917=_0x59c33a[_0x1dffdc(0x101)],_0x5b666f=THREE[_0x1dffdc(0x17b)][_0x1dffdc(0xf3)](0x168-_0x3d3917),_0x3e963e=THREE[_0x1dffdc(0x17b)][_0x1dffdc(0xf3)](Math[_0x1dffdc(0x18e)](_0x3c970e,0x0)),_0x35ccb0=0x1,_0x46869a=_0x35ccb0*Math[_0x1dffdc(0xac)](_0x3e963e)*Math[_0x1dffdc(0x156)](_0x5b666f),_0x3c3dca=_0x35ccb0*Math[_0x1dffdc(0x156)](_0x3e963e),_0x9e3917=_0x35ccb0*Math['cos'](_0x3e963e)*Math[_0x1dffdc(0xac)](_0x5b666f),_0x1614ca=new THREE[(_0x1dffdc(0xea))](_0x46869a,_0x3c3dca,_0x9e3917);let _0x2cd778=-0x1,_0x2fa565=0x0,_0x52656b=new THREE[(_0x1dffdc(0xea))]();if(showSunCheckbox['checked']){const _0x482102=Astronomy['Equator'](Astronomy[_0x1dffdc(0xfe)][_0x1dffdc(0x151)],_0x48853c,_0x4eb253,!![],![]),_0x55c793=Astronomy['Horizon'](_0x48853c,_0x4eb253,_0x482102['ra'],_0x482102[_0x1dffdc(0xca)],_0x1dffdc(0xa7));_0x2cd778=_0x55c793[_0x1dffdc(0xb1)],_0x2fa565=_0x55c793[_0x1dffdc(0x101)];const _0x4ebf13=THREE[_0x1dffdc(0x17b)]['degToRad'](0x168-_0x2fa565),_0x46f1ba=THREE[_0x1dffdc(0x17b)]['degToRad'](Math[_0x1dffdc(0x18e)](_0x2cd778,0x0)),_0x1d6ec2=_0x35ccb0*Math['cos'](_0x46f1ba)*Math[_0x1dffdc(0x156)](_0x4ebf13),_0x4fc4ec=_0x35ccb0*Math[_0x1dffdc(0x156)](_0x46f1ba),_0x4cb6a5=_0x35ccb0*Math[_0x1dffdc(0xac)](_0x46f1ba)*Math[_0x1dffdc(0xac)](_0x4ebf13);_0x52656b=new THREE[(_0x1dffdc(0xea))](_0x1d6ec2,_0x4fc4ec,_0x4cb6a5);}let _0x1e6de5=null;const _0x118102=dxGridInput[_0x1dffdc(0xe3)];if(_0x118102&&isValidGrid(_0x118102)){const _0x49cab2=maidenheadToLatLon(_0x118102),_0x31f157=new Astronomy['Observer'](_0x49cab2[_0x1dffdc(0xeb)],_0x49cab2['lon'],0x0),_0x1720d5=Astronomy[_0x1dffdc(0x109)](Astronomy[_0x1dffdc(0xfe)]['Moon'],_0x48853c,_0x31f157,!![],![]),_0x441656=Astronomy['Horizon'](_0x48853c,_0x31f157,_0x1720d5['ra'],_0x1720d5[_0x1dffdc(0xca)],_0x1dffdc(0xa7)),_0x3c78f2=_0x441656[_0x1dffdc(0x101)],_0xa8b901=_0x441656[_0x1dffdc(0xb1)];_0x1e6de5={'az':_0x3c78f2,'el':_0xa8b901};}return{'moon':{'pos':_0x1614ca,'az':_0x3d3917,'el':_0x3c970e,'time':_0x48853c},'sun':{'pos':_0x52656b,'az':_0x2fa565,'el':_0x2cd778,'time':_0x48853c},'dxMoon':_0x1e6de5};}function isTrackable(){const _0x311386=_0x496530,_0x2732c2=getCurrentPositions();if(!_0x2732c2)return![];const _0x39ded8=_0x2732c2[_0x311386(0x105)]['el']>0x0,_0x23b673=showSunCheckbox['checked']&&_0x2732c2[_0x311386(0x11a)]['el']>0x0;return _0x39ded8||_0x23b673;}function updateTrackButtonState(){const _0x23e69e=_0x496530,_0x4100af=isTrackable();trackButton[_0x23e69e(0xb0)]=!_0x4100af&&!autoTracking;}function updateTracking(){const _0x57bdaa=_0x496530;if(!autoTracking)return;currentRealTimeData=getCurrentPositions();const _0x289408=currentRealTimeData,_0x150745=_0x289408['moon']['el']>0x0,_0x39c1ff=showSunCheckbox[_0x57bdaa(0xa5)]&&_0x289408['sun']['el']>0x0;if(!_0x150745&&!_0x39c1ff){stopTracking();return;}updateMoonMarker(),updateSunMarker(),updateTimeDisplay(),updateTrackButtonState();}function startTracking(){const _0xfb2f41=_0x496530,_0x4447a7=new Date(),_0x184ffc=_0x4447a7[_0xfb2f41(0xf7)]()[_0xfb2f41(0x172)]('T')[0x0];datePicker[_0xfb2f41(0xe3)]!==_0x184ffc&&(datePicker[_0xfb2f41(0xe3)]=_0x184ffc,addTrajectories(_0x184ffc));currentRealTimeData=getCurrentPositions(),isRealTime=!![],timeSlider[_0xfb2f41(0xb0)]=!![],updateMoonMarker(),updateSunMarker(),updateTimeDisplay(),trackButton[_0xfb2f41(0x131)]=_0xfb2f41(0xfa),autoTracking=!![];const _0x401a8d=new Date(),_0x49348d=_0x401a8d['getUTCSeconds'](),_0x49e13b=(0x3c-_0x49348d)*0x3e8-_0x401a8d[_0xfb2f41(0x166)]();trackingTimeout=setTimeout(()=>{updateTracking(),trackingInterval=setInterval(updateTracking,0xea60);},_0x49e13b);}function stopTracking(){const _0x128693=_0x496530;if(trackingInterval)clearInterval(trackingInterval);if(trackingTimeout)clearTimeout(trackingTimeout);autoTracking=![],isRealTime=![],currentRealTimeData=null,timeSlider[_0x128693(0xb0)]=moonPositions[_0x128693(0xc6)]===0x0,trackButton[_0x128693(0x131)]=_0x128693(0x120);const _0x548de0=new Date(),_0x33dfa6=_0x548de0[_0x128693(0xdc)]()*0x3c+_0x548de0[_0x128693(0x10a)](),_0xd57d3e=Math[_0x128693(0x148)](_0x33dfa6/0xa);_0xd57d3e>=0x0&&_0xd57d3e<moonPositions['length']&&(currentTimeIndex=_0xd57d3e),updateTimeSlider(),updateTrackButtonState();}function drawColorBar(){const _0x41e7dc=_0x496530;if(minNoise===Infinity||maxNoise===-Infinity){colorBarContainer[_0x41e7dc(0x158)][_0x41e7dc(0xb2)]=_0x41e7dc(0x177);return;}colorBarContainer['style'][_0x41e7dc(0xb2)]=_0x41e7dc(0x185),minNoiseLabel[_0x41e7dc(0x131)]=minNoise[_0x41e7dc(0xc8)](0x2)+'\x20dB',maxNoiseLabel[_0x41e7dc(0x131)]=maxNoise[_0x41e7dc(0xc8)](0x2)+'\x20dB';const _0x924d04=window['devicePixelRatio']||0x1,_0x10f7b4=getComputedStyle(colorBarCanvas),_0x4946b6=parseFloat(_0x10f7b4['width']),_0x5822da=parseFloat(_0x10f7b4[_0x41e7dc(0x135)]);colorBarCanvas[_0x41e7dc(0x11f)]=_0x4946b6*_0x924d04,colorBarCanvas[_0x41e7dc(0x135)]=_0x5822da*_0x924d04,colorBarContext[_0x41e7dc(0x11e)](_0x924d04,_0x924d04),colorBarContext['save'](),colorBarContext[_0x41e7dc(0xc2)](0x1,0x0,0x0,0x1,0x0,0x0),colorBarContext[_0x41e7dc(0x18a)](0x0,0x0,colorBarCanvas[_0x41e7dc(0x11f)],colorBarCanvas[_0x41e7dc(0x135)]);const _0x25f366=colorBarContext['createLinearGradient'](0x0,colorBarCanvas['height'],0x0,0x0);for(let _0x28f298=0x0;_0x28f298<=0x1;_0x28f298+=0.1){const _0xa8576f=_0x28f298,_0x7cd732=new THREE['Color']()[_0x41e7dc(0xb5)](0.7-_0xa8576f*0.7,0x1,0.5);_0x25f366['addColorStop'](_0x28f298,'#'+_0x7cd732['getHexString']());}colorBarContext[_0x41e7dc(0xe0)]=_0x25f366,colorBarContext[_0x41e7dc(0xed)](0x0,0x0,colorBarCanvas['width'],colorBarCanvas['height']);let _0x54464b,_0xdab5cb,_0xe9e561=![];if(isRealTime&&currentRealTimeData&&currentRealTimeData['moon']['el']>0x0&&rawPoints[_0x41e7dc(0xc6)])_0xe9e561=!![],_0x54464b=currentRealTimeData[_0x41e7dc(0x105)]['az'],_0xdab5cb=currentRealTimeData[_0x41e7dc(0x105)]['el'];else{if(!isRealTime&&moonPositions[_0x41e7dc(0xc6)]&&moonPositions[currentTimeIndex]&&moonPositions[currentTimeIndex][_0x41e7dc(0xf0)]>0x0&&rawPoints[_0x41e7dc(0xc6)]){_0xe9e561=!![];const _0x157c56=moonPositions[currentTimeIndex];_0x54464b=_0x157c56[_0x41e7dc(0x101)],_0xdab5cb=_0x157c56[_0x41e7dc(0xf0)];}}if(_0xe9e561){const _0x1ebde3=interpolateNoiseAtPosition(_0x54464b,_0xdab5cb);if(_0x1ebde3){const _0x196648=_0x1ebde3[_0x41e7dc(0xec)],_0x943dd8=maxNoise-minNoise===0x0?0.5:(_0x196648-minNoise)/(maxNoise-minNoise);let _0x14c5bc=colorBarCanvas[_0x41e7dc(0x135)]*(0x1-_0x943dd8);_0x14c5bc=Math['max'](0x2*_0x924d04,Math[_0x41e7dc(0x12b)](colorBarCanvas[_0x41e7dc(0x135)]-0x2*_0x924d04,_0x14c5bc));const _0x2c1239=window[_0x41e7dc(0x175)]<=0x258||window[_0x41e7dc(0x152)](_0x41e7dc(0x17f))[_0x41e7dc(0x173)],_0x25f9bc=_0x2c1239?0xc:0x12,_0x49a872=_0x2c1239?0xe:0x16,_0x5e05b0=_0x2c1239?0xc:0xe;colorBarContext[_0x41e7dc(0x164)]='#000000',colorBarContext[_0x41e7dc(0x15c)]=0x2*_0x924d04,colorBarContext['beginPath'](),colorBarContext[_0x41e7dc(0x10d)](colorBarCanvas['width'],_0x14c5bc),colorBarContext[_0x41e7dc(0xa0)](colorBarCanvas[_0x41e7dc(0x11f)]+_0x25f9bc*_0x924d04,_0x14c5bc-_0x25f9bc/0x2*_0x924d04),colorBarContext[_0x41e7dc(0xa0)](colorBarCanvas[_0x41e7dc(0x11f)]+_0x25f9bc*_0x924d04,_0x14c5bc+_0x25f9bc/0x2*_0x924d04),colorBarContext[_0x41e7dc(0x91)](),colorBarContext[_0x41e7dc(0xaf)](),colorBarContext[_0x41e7dc(0xe0)]=_0x41e7dc(0x182),colorBarContext[_0x41e7dc(0x167)](),colorBarContext[_0x41e7dc(0xe0)]='#ffffff',colorBarContext[_0x41e7dc(0x164)]='#000000',colorBarContext['lineWidth']=0x1*_0x924d04,colorBarContext[_0x41e7dc(0x15f)]=_0x41e7dc(0xba)+_0x5e05b0*_0x924d04+_0x41e7dc(0xd3),colorBarContext[_0x41e7dc(0x153)]=_0x41e7dc(0xbe),colorBarContext[_0x41e7dc(0xcf)]=_0x41e7dc(0xa9),colorBarContext[_0x41e7dc(0xe8)](_0x196648[_0x41e7dc(0xc8)](0x2)+_0x41e7dc(0x10b),colorBarCanvas[_0x41e7dc(0x11f)]+_0x49a872*_0x924d04,_0x14c5bc),colorBarContext[_0x41e7dc(0xa4)](_0x196648[_0x41e7dc(0xc8)](0x2)+_0x41e7dc(0x10b),colorBarCanvas[_0x41e7dc(0x11f)]+_0x49a872*_0x924d04,_0x14c5bc),colorBarContext['fillStyle']=_0x41e7dc(0x113),colorBarContext[_0x41e7dc(0xed)](0x0,_0x14c5bc-0x2*_0x924d04,0x5*_0x924d04,0x4*_0x924d04);}}colorBarContext['restore']();}function updateMoonMarker(){const _0x4301f2=_0x496530;let _0xdcc672;if(isRealTime){if(!currentRealTimeData){if(moonMarker)moonMarker[_0x4301f2(0x94)]=![];return![];}const _0x4ae99f=currentRealTimeData[_0x4301f2(0x105)];if(_0x4ae99f['el']<=0x0){if(moonMarker)moonMarker[_0x4301f2(0x94)]=![];return![];}_0xdcc672=_0x4ae99f[_0x4301f2(0x8f)][_0x4301f2(0xe7)]()[_0x4301f2(0x95)](MARKER_SCALE);}else{if(!moonPositions['length']||!moonPositions[currentTimeIndex]){if(moonMarker)moonMarker[_0x4301f2(0x94)]=![];return![];}const _0x6142e=moonPositions[currentTimeIndex];if(_0x6142e[_0x4301f2(0xf0)]<=0x0){if(moonMarker)moonMarker[_0x4301f2(0x94)]=![];return![];}_0xdcc672=_0x6142e[_0x4301f2(0xd5)][_0x4301f2(0xe7)]()[_0x4301f2(0x95)](MARKER_SCALE);}if(!moonMarker){const _0x19205b=new THREE[(_0x4301f2(0xd2))](0.03),_0x27ebed=new THREE['MeshBasicMaterial']({'color':0xffffff});moonMarker=new THREE['Mesh'](_0x19205b,_0x27ebed),scene[_0x4301f2(0xa6)](moonMarker);}return moonMarker[_0x4301f2(0x94)]=!![],moonMarker[_0x4301f2(0xd5)][_0x4301f2(0x122)](_0xdcc672),!![];}function updateSunMarker(){const _0x488f05=_0x496530;let _0x1f7dc4;if(isRealTime){if(!currentRealTimeData||!showSunCheckbox[_0x488f05(0xa5)]){if(sunMarker)sunMarker['visible']=![];return![];}const _0x1a81b7=currentRealTimeData['sun'];if(_0x1a81b7['el']<=0x0){if(sunMarker)sunMarker[_0x488f05(0x94)]=![];return![];}_0x1f7dc4=_0x1a81b7[_0x488f05(0x8f)][_0x488f05(0xe7)]()['multiplyScalar'](MARKER_SCALE);}else{if(!sunPositions[_0x488f05(0xc6)]||!showSunCheckbox[_0x488f05(0xa5)]||!sunPositions[currentTimeIndex]){if(sunMarker)sunMarker[_0x488f05(0x94)]=![];return![];}const _0x1b37c8=sunPositions[currentTimeIndex];if(_0x1b37c8['elevation']<=0x0){if(sunMarker)sunMarker[_0x488f05(0x94)]=![];return![];}_0x1f7dc4=_0x1b37c8[_0x488f05(0xd5)][_0x488f05(0xe7)]()[_0x488f05(0x95)](MARKER_SCALE);}if(!sunMarker){const _0x5b558d=new THREE[(_0x488f05(0xd2))](0.02),_0x30506e=new THREE['MeshBasicMaterial']({'color':0xffa500});sunMarker=new THREE[(_0x488f05(0x188))](_0x5b558d,_0x30506e),scene[_0x488f05(0xa6)](sunMarker);}return sunMarker['visible']=!![],sunMarker[_0x488f05(0xd5)]['copy'](_0x1f7dc4),!![];}function updateInfoBox(){const _0x3d0bb4=_0x496530;let _0x284ee0='';if(isRealTime){if(!currentRealTimeData){infoBox[_0x3d0bb4(0x15b)]=_0x3d0bb4(0x129),infoBox[_0x3d0bb4(0x158)][_0x3d0bb4(0xb2)]='block';return;}const _0x74e504=currentRealTimeData;if(_0x74e504[_0x3d0bb4(0x105)]['el']>0x0){const _0x145d3f=interpolateNoiseAtPosition(_0x74e504['moon']['az'],_0x74e504[_0x3d0bb4(0x105)]['el']),_0x549690=_0x145d3f?_0x3d0bb4(0xc7)+_0x145d3f['noise']['toFixed'](0x2)+_0x3d0bb4(0x10b):_0x3d0bb4(0xb3);_0x284ee0+=_0x3d0bb4(0x191)+_0x74e504[_0x3d0bb4(0x105)]['az'][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0x16a)+_0x74e504['moon']['el'][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0xb7)+_0x549690+_0x3d0bb4(0x12e);}else _0x284ee0+=_0x3d0bb4(0x114);_0x74e504['dxMoon']&&(_0x284ee0+='<br>',_0x74e504[_0x3d0bb4(0xad)]['el']>0x0?(_0x284ee0+=_0x3d0bb4(0x157)+_0x74e504[_0x3d0bb4(0xad)]['az'][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0x16a)+_0x74e504[_0x3d0bb4(0xad)]['el'][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0xc1),_0x74e504[_0x3d0bb4(0x105)]['el']>0x0&&_0x74e504[_0x3d0bb4(0xad)]['el']>0x0&&(_0x284ee0+='<br><span\x20style=\x22color:\x20lime;\x22>Common\x20window</span>')):_0x284ee0+=_0x3d0bb4(0x9d)),showSunCheckbox[_0x3d0bb4(0xa5)]&&(_0x284ee0+=_0x3d0bb4(0x169),_0x74e504['sun']['el']>0x0?_0x284ee0+=_0x3d0bb4(0xb6)+_0x74e504[_0x3d0bb4(0x11a)]['az'][_0x3d0bb4(0xc8)](0x1)+'°\x20El:\x20'+_0x74e504[_0x3d0bb4(0x11a)]['el']['toFixed'](0x1)+_0x3d0bb4(0xc1):_0x284ee0+=_0x3d0bb4(0xbc));}else{if(moonPositions[_0x3d0bb4(0xc6)]&&moonPositions[currentTimeIndex]){const _0xaf35e9=moonPositions[currentTimeIndex];if(_0xaf35e9['elevation']>0x0){const _0x90e69f=interpolateNoiseAtPosition(_0xaf35e9['azimuth'],_0xaf35e9['elevation']),_0x2c6e71=_0x90e69f?_0x3d0bb4(0xc7)+_0x90e69f['noise'][_0x3d0bb4(0xc8)](0x2)+_0x3d0bb4(0x10b):_0x3d0bb4(0xb3);_0x284ee0+=_0x3d0bb4(0xfc)+_0xaf35e9[_0x3d0bb4(0x101)][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0x16a)+_0xaf35e9['elevation'][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0xb9)+_0x2c6e71+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x284ee0+=_0x3d0bb4(0xf2);}else _0x284ee0+=_0x3d0bb4(0x114);if(dxMoonPositions[_0x3d0bb4(0xc6)]&&dxMoonPositions[currentTimeIndex]){const _0x14d9df=dxMoonPositions[currentTimeIndex];_0x284ee0+=_0x3d0bb4(0x169),_0x14d9df[_0x3d0bb4(0xf0)]>0x0?_0x284ee0+=_0x3d0bb4(0x157)+_0x14d9df['azimuth']['toFixed'](0x1)+_0x3d0bb4(0x16a)+_0x14d9df['elevation'][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0xc1):_0x284ee0+=_0x3d0bb4(0x9d);}if(showSunCheckbox['checked']&&sunPositions[_0x3d0bb4(0xc6)]&&sunPositions[currentTimeIndex]){const _0x4bb7cf=sunPositions[currentTimeIndex];_0x284ee0+=_0x3d0bb4(0x169),_0x4bb7cf[_0x3d0bb4(0xf0)]>0x0?_0x284ee0+=_0x3d0bb4(0xb6)+_0x4bb7cf[_0x3d0bb4(0x101)][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0x16a)+_0x4bb7cf[_0x3d0bb4(0xf0)][_0x3d0bb4(0xc8)](0x1)+_0x3d0bb4(0xc1):_0x284ee0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sun\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else showSunCheckbox[_0x3d0bb4(0xa5)]&&(_0x284ee0+=_0x3d0bb4(0x125));}infoBox[_0x3d0bb4(0x15b)]=_0x284ee0,infoBox[_0x3d0bb4(0x158)][_0x3d0bb4(0xb2)]=_0x3d0bb4(0x13b);}function updateTimeDisplay(){const _0x5e4274=_0x496530;let _0x571379,_0x7e72b4,_0x5b2bd7;if(isRealTime){if(!currentRealTimeData){moonTimeDisplay[_0x5e4274(0x131)]='--:--\x20UTC',updateInfoBox(),drawColorBar();return;}_0x571379=currentRealTimeData['moon'][_0x5e4274(0x171)],_0x7e72b4=currentRealTimeData[_0x5e4274(0x105)]['el']>0x0,_0x5b2bd7=showSunCheckbox[_0x5e4274(0xa5)]&&currentRealTimeData[_0x5e4274(0x11a)]['el']>0x0;}else{if(!moonPositions[_0x5e4274(0xc6)]||!moonPositions[currentTimeIndex]){moonTimeDisplay['textContent']=_0x5e4274(0x8e),updateInfoBox(),drawColorBar();return;}_0x571379=moonPositions[currentTimeIndex][_0x5e4274(0x171)],_0x7e72b4=moonPositions[currentTimeIndex][_0x5e4274(0xf0)]>0x0,_0x5b2bd7=showSunCheckbox[_0x5e4274(0xa5)]&&sunPositions[currentTimeIndex]?.[_0x5e4274(0xf0)]>0x0;}if(_0x7e72b4||_0x5b2bd7){const _0x1bcfd3=String(_0x571379['getUTCHours']())['padStart'](0x2,'0'),_0x354fda=String(_0x571379['getUTCMinutes']())['padStart'](0x2,'0');moonTimeDisplay[_0x5e4274(0x131)]=_0x1bcfd3+':'+_0x354fda+_0x5e4274(0xf4);}else moonTimeDisplay[_0x5e4274(0x131)]='--:--\x20UTC';updateInfoBox(),drawColorBar();}function updateTimeSlider(){const _0x2b784a=_0x496530;if(isRealTime)return;timeSlider[_0x2b784a(0x12b)]=0x0,timeSlider[_0x2b784a(0x18e)]=moonPositions[_0x2b784a(0xc6)]-0x1||0x0,timeSlider[_0x2b784a(0xe3)]=currentTimeIndex,timeSlider[_0x2b784a(0xb0)]=moonPositions['length']===0x0,updateMoonMarker(),updateSunMarker(),updateTimeDisplay();}function changeTime(_0x451f4d){const _0x49e2e7=_0x496530;if(isRealTime||!moonPositions[_0x49e2e7(0xc6)])return;currentTimeIndex=Math[_0x49e2e7(0x18e)](0x0,Math[_0x49e2e7(0x12b)](_0x451f4d,moonPositions[_0x49e2e7(0xc6)]-0x1)),updateMoonMarker(),updateSunMarker(),updateTimeDisplay();}function changeDate(_0x47025a){const _0x4aeb0b=_0x496530;isRealTime&&stopTracking();let _0x4f8895=datePicker[_0x4aeb0b(0xe3)]?new Date(datePicker['value']):new Date();_0x4f8895['setUTCDate'](_0x4f8895['getUTCDate']()+_0x47025a);const _0x1aaf15=_0x4f8895[_0x4aeb0b(0x127)](),_0x879342=String(_0x4f8895[_0x4aeb0b(0x144)]()+0x1)[_0x4aeb0b(0xc4)](0x2,'0'),_0x4d9349=String(_0x4f8895['getUTCDate']())[_0x4aeb0b(0xc4)](0x2,'0');datePicker[_0x4aeb0b(0xe3)]=_0x1aaf15+'-'+_0x879342+'-'+_0x4d9349,addTrajectories(datePicker[_0x4aeb0b(0xe3)]);}timeSlider[_0x496530(0x12d)]('input',_0x2f4b96=>{const _0x356f8f=_0x496530;if(isRealTime)return;_0x2f4b96['stopPropagation'](),changeTime(parseInt(_0x2f4b96[_0x356f8f(0x118)][_0x356f8f(0xe3)]));}),timeSlider['addEventListener'](_0x496530(0x16e),_0x967f7b=>{const _0x483f08=_0x496530;_0x967f7b[_0x483f08(0xce)](),controls[_0x483f08(0xaa)]=![];}),timeSlider[_0x496530(0x12d)]('touchend',_0x4ce895=>{const _0x26c776=_0x496530;_0x4ce895[_0x26c776(0xce)](),controls[_0x26c776(0xaa)]=!![];}),timeSlider[_0x496530(0x12d)](_0x496530(0xef),_0x5df293=>{const _0x516f59=_0x496530;_0x5df293[_0x516f59(0xce)](),controls[_0x516f59(0xaa)]=!![];}),datePicker[_0x496530(0x12d)](_0x496530(0xe9),_0x51ce20=>{const _0x5b7504=_0x496530;isRealTime&&stopTracking();const _0x3e6f59=_0x51ce20[_0x5b7504(0x118)][_0x5b7504(0xe3)];_0x3e6f59&&addTrajectories(_0x3e6f59);}),prevDateBtn[_0x496530(0x12d)](_0x496530(0xbf),()=>changeDate(-0x1)),nextDateBtn[_0x496530(0x12d)]('click',()=>changeDate(0x1)),showSunCheckbox[_0x496530(0x12d)](_0x496530(0xe9),()=>{const _0x2afb18=_0x496530;sunTrajectoryGroup['visible']=showSunCheckbox[_0x2afb18(0xa5)],isRealTime?updateTracking():(updateSunMarker(),updateTimeDisplay()),updateTrackButtonState();}),trackButton[_0x496530(0x12d)](_0x496530(0xbf),()=>{autoTracking?stopTracking():isTrackable()&&startTracking();});function isValidGrid(_0x5bc614){const _0x21dd3e=_0x496530;if(!_0x5bc614||_0x5bc614[_0x21dd3e(0xc6)]<0x4||_0x5bc614[_0x21dd3e(0xc6)]>0x6)return![];_0x5bc614=_0x5bc614[_0x21dd3e(0xff)]();const _0x2a3244=/^[A-R]{2}[0-9]{2}([A-X]{2})?$/;return _0x2a3244[_0x21dd3e(0x124)](_0x5bc614);}gridInput[_0x496530(0x12d)](_0x496530(0x16b),()=>{const _0x541214=_0x496530,_0x4c2293=gridInput[_0x541214(0xe3)];if(!isValidGrid(_0x4c2293)){gridInput[_0x541214(0x158)][_0x541214(0x14a)]=_0x541214(0x133);isRealTime&&stopTracking();return;}gridInput[_0x541214(0x158)][_0x541214(0x14a)]='#fff',localStorage[_0x541214(0x117)](_0x541214(0x11c),_0x4c2293);const _0x1d5ccc=datePicker[_0x541214(0xe3)]||new Date()[_0x541214(0xf7)]()['split']('T')[0x0];addTrajectories(_0x1d5ccc),updateTrackButtonState(),demoStatus[_0x541214(0x158)][_0x541214(0xb2)]=_0x541214(0x177),isRealTime&&updateTracking();}),dxGridInput[_0x496530(0x12d)](_0x496530(0x16b),()=>{const _0x53212a=_0x496530,_0x577e1c=dxGridInput[_0x53212a(0xe3)];if(_0x577e1c&&isValidGrid(_0x577e1c))dxGridInput[_0x53212a(0x158)][_0x53212a(0x14a)]='#fff';else _0x577e1c?dxGridInput['style'][_0x53212a(0x14a)]=_0x53212a(0x133):dxGridInput['style'][_0x53212a(0x14a)]=_0x53212a(0x18d);const _0x2e866e=datePicker[_0x53212a(0xe3)]||new Date()[_0x53212a(0xf7)]()[_0x53212a(0x172)]('T')[0x0];addTrajectories(_0x2e866e),isRealTime&&updateTracking();});function maidenheadToLatLon(_0x34ee60){const _0x40debb=_0x496530;if(!_0x34ee60||_0x34ee60[_0x40debb(0xc6)]<0x4)return null;_0x34ee60=_0x34ee60[_0x40debb(0xff)]();const _0xeb7aae='A'['charCodeAt'](0x0);let _0x5a78c1=(_0x34ee60['charCodeAt'](0x0)-_0xeb7aae)*0x14-0xb4,_0x3a3b25=(_0x34ee60[_0x40debb(0x192)](0x1)-_0xeb7aae)*0xa-0x5a;return _0x5a78c1+=parseInt(_0x34ee60[0x2])*0x2,_0x3a3b25+=parseInt(_0x34ee60[0x3])*0x1,_0x34ee60['length']>=0x6&&(_0x5a78c1+=(_0x34ee60[_0x40debb(0x192)](0x4)-_0xeb7aae)*0x5/0x3c,_0x3a3b25+=(_0x34ee60[_0x40debb(0x192)](0x5)-_0xeb7aae)*2.5/0x3c),_0x5a78c1+=2.5/0x3c,_0x3a3b25+=1.25/0x3c,{'lat':_0x3a3b25,'lon':_0x5a78c1};}const infoBox=document[_0x496530(0x163)](_0x496530(0x12c));infoBox['id']=_0x496530(0x134),document[_0x496530(0xc0)][_0x496530(0x189)](infoBox);function addAzimuthCompass(){const _0x4d197b=_0x496530,_0x252a6d=1.05,_0x511879=1.2,_0x491a1e=new THREE[(_0x4d197b(0x137))](),_0x1693eb=new THREE[(_0x4d197b(0x14c))]();_0x1693eb['load'](_0x4d197b(0x9c),function(_0x219887){const _0x386be2=_0x4d197b,_0x360b29=[{'label':'N','az':0x0,'color':0xff0000},{'label':'E','az':0x5a,'color':0xffffff},{'label':'S','az':0xb4,'color':0xffffff},{'label':'W','az':0x10e,'color':0xffffff}];_0x360b29[_0x386be2(0x141)](_0x30981b=>{const _0x2787d1=_0x386be2,_0x105b54=THREE[_0x2787d1(0x17b)][_0x2787d1(0xf3)](0x168-_0x30981b['az']),_0x393a1d=_0x511879*Math[_0x2787d1(0x156)](_0x105b54),_0x304266=_0x511879*Math[_0x2787d1(0xac)](_0x105b54),_0x456c71=0x0,_0x1ac29c=new THREE[(_0x2787d1(0x15d))](_0x30981b[_0x2787d1(0xc5)],{'font':_0x219887,'size':0.1,'height':0.001}),_0x65475e=new THREE[(_0x2787d1(0x116))]({'color':_0x30981b[_0x2787d1(0x100)]}),_0x774022=new THREE[(_0x2787d1(0x188))](_0x1ac29c,_0x65475e);_0x774022['position'][_0x2787d1(0x102)](_0x393a1d,_0x456c71,_0x304266),_0x774022[_0x2787d1(0x98)](0x0,0x0,0x0),_0x491a1e[_0x2787d1(0xa6)](_0x774022);});const _0x5a1876=new THREE[(_0x386be2(0x126))](_0x252a6d-0.002,_0x252a6d+0.002,0x100),_0x3436f6=new THREE[(_0x386be2(0x116))]({'color':0xffffff,'side':THREE['DoubleSide'],'transparent':!![],'opacity':0.9}),_0x1e66b7=new THREE[(_0x386be2(0x188))](_0x5a1876,_0x3436f6);_0x1e66b7['rotation']['x']=-Math['PI']/0x2,_0x1e66b7['position']['y']=0x0,_0x491a1e[_0x386be2(0xa6)](_0x1e66b7);for(let _0x4a1400=0x0;_0x4a1400<0x168;_0x4a1400+=0xa){const _0x41b83d=THREE[_0x386be2(0x17b)]['degToRad'](0x168-_0x4a1400),_0x15aaca=_0x4a1400%0x1e===0x0,_0x587acd=_0x252a6d+0.02,_0x522a06=_0x252a6d-(_0x15aaca?0.05:0.02),_0x277856=_0x522a06*Math[_0x386be2(0xac)](_0x41b83d),_0x4035da=_0x522a06*Math[_0x386be2(0x156)](_0x41b83d),_0x15dea=_0x587acd*Math[_0x386be2(0xac)](_0x41b83d),_0x4e1efb=_0x587acd*Math[_0x386be2(0x156)](_0x41b83d),_0x39e7db=new THREE[(_0x386be2(0xd1))]()[_0x386be2(0x15a)]([new THREE['Vector3'](_0x277856,0x0,_0x4035da),new THREE[(_0x386be2(0xea))](_0x15dea,0x0,_0x4e1efb)]),_0x56e72b=new THREE[(_0x386be2(0x96))]({'color':0xffffff,'transparent':!![],'opacity':_0x15aaca?0x1:0.5}),_0x25663a=new THREE[(_0x386be2(0xa1))](_0x39e7db,_0x56e72b);_0x491a1e[_0x386be2(0xa6)](_0x25663a);if(_0x15aaca&&![0x0,0x5a,0xb4,0x10e][_0x386be2(0x150)](_0x4a1400)){const _0x586a5c=_0x252a6d+0.1,_0xaddc12=_0x586a5c*Math[_0x386be2(0x156)](_0x41b83d),_0x2381e5=_0x586a5c*Math['cos'](_0x41b83d),_0x1fda0d=new THREE[(_0x386be2(0x15d))](_0x4a1400['toString'](),{'font':_0x219887,'size':0.045,'height':0.001}),_0x441859=new THREE[(_0x386be2(0x116))]({'color':0xffffff}),_0x3e0db1=new THREE[(_0x386be2(0x188))](_0x1fda0d,_0x441859);_0x3e0db1[_0x386be2(0xd5)][_0x386be2(0x102)](_0xaddc12,0x0,_0x2381e5),_0x3e0db1[_0x386be2(0x98)](0x0,0x0,0x0),_0x3e0db1[_0x386be2(0x17c)]['y']+=Math['PI'],_0x491a1e['add'](_0x3e0db1);}}scene[_0x386be2(0xa6)](_0x491a1e);},undefined,_0x687786=>{});}function addTrajectories(_0x239c5c){const _0x96245f=_0x496530,_0x34d52a=gridInput[_0x96245f(0xe3)],_0x3aa585=dxGridInput[_0x96245f(0xe3)],_0x3d306a=maidenheadToLatLon(_0x34d52a);let _0x3b4c6c=null;if(_0x3aa585&&isValidGrid(_0x3aa585))_0x3b4c6c=maidenheadToLatLon(_0x3aa585),dxGridInput[_0x96245f(0x158)][_0x96245f(0x14a)]=_0x96245f(0x18d);else _0x3aa585?dxGridInput['style'][_0x96245f(0x14a)]=_0x96245f(0x133):dxGridInput[_0x96245f(0x158)][_0x96245f(0x14a)]='#fff';if(!_0x3d306a){_0x34d52a&&(gridInput['style'][_0x96245f(0x14a)]=_0x96245f(0x133));moonTrajectoryGroup[_0x96245f(0x12a)](),sunTrajectoryGroup['clear']();if(moonMarker)scene['remove'](moonMarker);if(sunMarker)scene[_0x96245f(0xee)](sunMarker);moonMarker=null,sunMarker=null,moonPositions=[],dxMoonPositions=[],sunPositions=[],commonMoonWindow=[],currentTimeIndex=0x0,demoStatus[_0x96245f(0x131)]=_0x96245f(0x174),demoStatus[_0x96245f(0x158)][_0x96245f(0x100)]=_0x96245f(0x106),demoStatus['style'][_0x96245f(0xb2)]=_0x96245f(0x13b),updateTimeSlider();return;}const _0x27323d=_0x3d306a['lat'],_0x421b95=_0x3d306a[_0x96245f(0xc3)],_0x5e386b=new Astronomy[(_0x96245f(0x165))](_0x27323d,_0x421b95,0x0);let _0x500570=null;_0x3b4c6c&&(_0x500570=new Astronomy[(_0x96245f(0x165))](_0x3b4c6c['lat'],_0x3b4c6c[_0x96245f(0xc3)],0x0));const _0x1c5587=_0x239c5c?new Date(_0x239c5c):new Date(),_0x12f2a9=new Date(Date[_0x96245f(0x9e)](_0x1c5587['getUTCFullYear'](),_0x1c5587[_0x96245f(0x144)](),_0x1c5587[_0x96245f(0xd7)]())),_0x17e428=new Date(_0x12f2a9[_0x96245f(0x104)]()+0x18*0x3c*0x3c*0x3e8);moonTrajectoryGroup[_0x96245f(0x12a)](),sunTrajectoryGroup[_0x96245f(0x12a)]();if(moonMarker)scene[_0x96245f(0xee)](moonMarker);if(sunMarker)scene[_0x96245f(0xee)](sunMarker);moonMarker=null,sunMarker=null,moonPositions=[],dxMoonPositions=[],sunPositions=[],commonMoonWindow=[],currentTimeIndex=0x0;let _0x5aa7d5=[],_0x130e51=[],_0x23a6ed=[];const _0x35466f=[],_0x3bbd65=[],_0x3aa114=[];let _0x3e0d8e=-0x1,_0x554f33=-0x1;for(let _0x14fd17=0x0;_0x14fd17<0x5a0;_0x14fd17+=0xa){const _0x115288=new Date(_0x12f2a9['getTime']()+_0x14fd17*0x3c*0x3e8);if(_0x115288>=_0x17e428)break;const _0x26442f=Astronomy[_0x96245f(0x109)](Astronomy[_0x96245f(0xfe)][_0x96245f(0x142)],_0x115288,_0x5e386b,!![],![]),_0x19e6e0=Astronomy[_0x96245f(0xe4)](_0x115288,_0x5e386b,_0x26442f['ra'],_0x26442f[_0x96245f(0xca)],_0x96245f(0xa7)),_0x4c8cac=_0x19e6e0[_0x96245f(0xb1)],_0xa06b6d=_0x19e6e0['azimuth'],_0x24b1f0=THREE[_0x96245f(0x17b)][_0x96245f(0xf3)](0x168-_0xa06b6d),_0xabe9ad=THREE[_0x96245f(0x17b)][_0x96245f(0xf3)](Math[_0x96245f(0x18e)](_0x4c8cac,0x0)),_0x4eb05d=0x1,_0x2356aa=_0x4eb05d*Math[_0x96245f(0xac)](_0xabe9ad)*Math[_0x96245f(0x156)](_0x24b1f0),_0x30b953=_0x4eb05d*Math[_0x96245f(0x156)](_0xabe9ad),_0x47a42c=_0x4eb05d*Math['cos'](_0xabe9ad)*Math['cos'](_0x24b1f0),_0x321b38=new THREE[(_0x96245f(0xea))](_0x2356aa,_0x30b953,_0x47a42c);if(_0x4c8cac>0x0){_0x5aa7d5[_0x96245f(0x168)](_0x321b38);if(_0x3e0d8e===-0x1)_0x3e0d8e=_0x14fd17/0xa;}else{if(_0x5aa7d5['length']>0x1)_0x35466f[_0x96245f(0x168)](_0x5aa7d5);_0x5aa7d5=[];}moonPositions[_0x96245f(0x168)]({'time':_0x115288,'position':_0x321b38,'azimuth':_0xa06b6d,'elevation':_0x4c8cac});let _0x40f822=![];if(_0x500570){const _0x4091af=Astronomy[_0x96245f(0x109)](Astronomy['Body']['Moon'],_0x115288,_0x500570,!![],![]),_0x309304=Astronomy['Horizon'](_0x115288,_0x500570,_0x4091af['ra'],_0x4091af[_0x96245f(0xca)],_0x96245f(0xa7)),_0x5b53ec=_0x309304['altitude'],_0x1223d6=_0x309304[_0x96245f(0x101)];_0x5b53ec>0x0&&_0x4c8cac>0x0&&(_0x23a6ed[_0x96245f(0x168)](_0x321b38),_0x40f822=!![]),dxMoonPositions[_0x96245f(0x168)]({'time':_0x115288,'azimuth':_0x1223d6,'elevation':_0x5b53ec});}if(_0x40f822)commonMoonWindow[_0x96245f(0x168)]({'time':_0x115288,'index':_0x14fd17/0xa});else _0x23a6ed['length']>0x1&&(_0x3aa114[_0x96245f(0x168)](_0x23a6ed),_0x23a6ed=[]);const _0x3011f4=Astronomy[_0x96245f(0x109)](Astronomy[_0x96245f(0xfe)][_0x96245f(0x151)],_0x115288,_0x5e386b,!![],![]),_0x312d9f=Astronomy[_0x96245f(0xe4)](_0x115288,_0x5e386b,_0x3011f4['ra'],_0x3011f4[_0x96245f(0xca)],_0x96245f(0xa7)),_0x52d75c=_0x312d9f['altitude'],_0x173521=_0x312d9f['azimuth'],_0x3cac76=THREE[_0x96245f(0x17b)][_0x96245f(0xf3)](0x168-_0x173521),_0x182716=THREE[_0x96245f(0x17b)][_0x96245f(0xf3)](Math[_0x96245f(0x18e)](_0x52d75c,0x0)),_0x1ccd11=_0x4eb05d*Math['cos'](_0x182716)*Math[_0x96245f(0x156)](_0x3cac76),_0x5c5868=_0x4eb05d*Math[_0x96245f(0x156)](_0x182716),_0x1ab85d=_0x4eb05d*Math[_0x96245f(0xac)](_0x182716)*Math[_0x96245f(0xac)](_0x3cac76),_0x11b69d=new THREE[(_0x96245f(0xea))](_0x1ccd11,_0x5c5868,_0x1ab85d);if(_0x52d75c>0x0){_0x130e51[_0x96245f(0x168)](_0x11b69d);if(_0x554f33===-0x1)_0x554f33=_0x14fd17/0xa;}else{if(_0x130e51[_0x96245f(0xc6)]>0x1)_0x3bbd65[_0x96245f(0x168)](_0x130e51);_0x130e51=[];}sunPositions[_0x96245f(0x168)]({'time':_0x115288,'position':_0x11b69d,'azimuth':_0x173521,'elevation':_0x52d75c});}if(_0x5aa7d5['length']>0x1)_0x35466f['push'](_0x5aa7d5);if(_0x130e51['length']>0x1)_0x3bbd65[_0x96245f(0x168)](_0x130e51);if(_0x23a6ed[_0x96245f(0xc6)]>0x1)_0x3aa114[_0x96245f(0x168)](_0x23a6ed);_0x35466f[_0x96245f(0x141)](_0x303e35=>{const _0x4badaa=_0x96245f;if(_0x303e35[_0x4badaa(0xc6)]<0x2)return;const _0x5c4e31=new THREE[(_0x4badaa(0x17e))](_0x303e35),_0x542e55=new THREE['TubeGeometry'](_0x5c4e31,0x40,0.005,0x8,![]),_0x4369f0=new THREE[(_0x4badaa(0x116))]({'color':0xffff00}),_0x50ec28=new THREE['Mesh'](_0x542e55,_0x4369f0);_0x50ec28[_0x4badaa(0xdf)]={'isMoonTrajectory':!![]},_0x50ec28[_0x4badaa(0x11e)][_0x4badaa(0x190)](TRAJECTORY_SCALE),moonTrajectoryGroup['add'](_0x50ec28);}),_0x3aa114[_0x96245f(0x141)](_0x4b6c65=>{const _0x1685f0=_0x96245f;if(_0x4b6c65[_0x1685f0(0xc6)]<0x2)return;const _0x32d074=new THREE[(_0x1685f0(0x17e))](_0x4b6c65),_0x5173bb=new THREE['TubeGeometry'](_0x32d074,0x40,0.007,0x8,![]),_0x49be3c=new THREE[(_0x1685f0(0x116))]({'color':0xff00}),_0x48806e=new THREE[(_0x1685f0(0x188))](_0x5173bb,_0x49be3c);_0x48806e[_0x1685f0(0xdf)]={'isCommonMoonTrajectory':!![]},_0x48806e[_0x1685f0(0x11e)][_0x1685f0(0x190)](TRAJECTORY_SCALE),moonTrajectoryGroup[_0x1685f0(0xa6)](_0x48806e);}),_0x3bbd65['forEach'](_0x1407a7=>{const _0x585973=_0x96245f;if(_0x1407a7[_0x585973(0xc6)]<0x2)return;const _0x2b4a71=new THREE[(_0x585973(0x17e))](_0x1407a7),_0x1367a0=new THREE['TubeGeometry'](_0x2b4a71,0x40,0.005,0x8,![]),_0x262df3=new THREE[(_0x585973(0x116))]({'color':0xffa500}),_0x3f569b=new THREE['Mesh'](_0x1367a0,_0x262df3);_0x3f569b['userData']={'isSunTrajectory':!![]},_0x3f569b[_0x585973(0x11e)][_0x585973(0x190)](TRAJECTORY_SCALE),sunTrajectoryGroup[_0x585973(0xa6)](_0x3f569b);}),sunTrajectoryGroup[_0x96245f(0x94)]=showSunCheckbox[_0x96245f(0xa5)];if(_0x3e0d8e!==-0x1)currentTimeIndex=_0x3e0d8e;else showSunCheckbox['checked']&&_0x554f33!==-0x1?currentTimeIndex=_0x554f33:currentTimeIndex=0x48;updateTimeSlider();}window['addTrajectories']=addTrajectories;function parseCsvData(_0x41ef4b,_0x239b20){const _0x4f2496=_0x496530;isRealTime&&stopTracking(),Papa[_0x4f2496(0xbb)](_0x41ef4b,{'header':!![],'delimiter':'','skipEmptyLines':!![],'complete':function(_0x47da9e){const _0x52bab2=_0x4f2496;rawPoints[_0x52bab2(0xc6)]=0x0,spheres[_0x52bab2(0x141)](_0x4f85b8=>scene[_0x52bab2(0xee)](_0x4f85b8)),spheres[_0x52bab2(0xc6)]=0x0,minNoise=Infinity,maxNoise=-Infinity;const _0x109302=_0x47da9e[_0x52bab2(0xd6)]['fields'],_0x90c77=[_0x52bab2(0x180),'Elevation',_0x52bab2(0xa2)],_0x57ac08=_0x90c77[_0x52bab2(0x140)](_0x283849=>_0x109302[_0x52bab2(0x150)](_0x283849));if(!_0x57ac08){demoStatus[_0x52bab2(0x131)]=_0x52bab2(0x10c),demoStatus['style']['color']=_0x52bab2(0x133),demoStatus[_0x52bab2(0x158)]['display']='block';return;}_0x47da9e[_0x52bab2(0xe2)]['forEach'](_0x23f076=>{const _0x2f912e=_0x52bab2;if(_0x23f076['Valid']!==undefined&&_0x23f076[_0x2f912e(0xc9)]!==_0x2f912e(0xf9))return;const _0x2e089a=parseFloat(_0x23f076[_0x2f912e(0x180)]?.[_0x2f912e(0xdd)](',','.')),_0xed2ef0=parseFloat(_0x23f076[_0x2f912e(0xcd)]?.[_0x2f912e(0xdd)](',','.')),_0xa2e845=parseFloat(_0x23f076['Noise']?.['replace'](',','.'));if(isNaN(_0x2e089a)||isNaN(_0xed2ef0)||isNaN(_0xa2e845))return;minNoise=Math[_0x2f912e(0x12b)](minNoise,_0xa2e845),maxNoise=Math[_0x2f912e(0x18e)](maxNoise,_0xa2e845),rawPoints[_0x2f912e(0x168)]({'az':_0x2e089a,'el':_0xed2ef0,'noise':_0xa2e845});});if(rawPoints[_0x52bab2(0xc6)]===0x0){demoStatus[_0x52bab2(0x131)]=_0x52bab2(0x132),demoStatus[_0x52bab2(0x158)]['color']='red',demoStatus[_0x52bab2(0x158)]['display']='block';return;}const _0x111972=calculateStepSizes();azStep=_0x111972[_0x52bab2(0x154)],elStep=_0x111972[_0x52bab2(0x15e)],rawPoints[_0x52bab2(0x141)](_0x4d5c80=>{const _0x53fcbe=_0x52bab2,_0x3fd610=THREE[_0x53fcbe(0x17b)][_0x53fcbe(0xf3)](0x168-_0x4d5c80['az']),_0x4e8d41=THREE['MathUtils'][_0x53fcbe(0xf3)](_0x4d5c80['el']),_0x3a29a4=0x1,_0x21f26f=_0x3a29a4*Math['cos'](_0x4e8d41)*Math[_0x53fcbe(0x156)](_0x3fd610),_0x2cbf93=_0x3a29a4*Math[_0x53fcbe(0x156)](_0x4e8d41),_0x2c26f0=_0x3a29a4*Math['cos'](_0x4e8d41)*Math[_0x53fcbe(0xac)](_0x3fd610),_0x4c2049=new THREE['SphereGeometry'](0.02,0x8,0x8),_0x3c47de=new THREE['MeshBasicMaterial']({'color':getColor(_0x4d5c80[_0x53fcbe(0xec)])}),_0x53e1a1=new THREE['Mesh'](_0x4c2049,_0x3c47de);_0x53e1a1['position'][_0x53fcbe(0x102)](_0x21f26f,_0x2cbf93,_0x2c26f0),_0x53e1a1[_0x53fcbe(0xdf)]={'azimuth':_0x4d5c80['az'],'elevation':_0x4d5c80['el'],'noise':_0x4d5c80[_0x53fcbe(0xec)]},spheres[_0x53fcbe(0x168)](_0x53e1a1),scene[_0x53fcbe(0xa6)](_0x53e1a1);});let _0x2d9ea3=![];if(rawPoints[_0x52bab2(0xc6)]>0x0){const _0x2f854a=[...new Set(rawPoints['map'](_0x28eb22=>_0x28eb22['az']))][_0x52bab2(0x110)]((_0x5bcbfa,_0xf8080)=>_0x5bcbfa-_0xf8080),_0xdb4e0c=[...new Set(rawPoints[_0x52bab2(0x13e)](_0x1f2779=>_0x1f2779['el']))][_0x52bab2(0x110)]((_0x45e04c,_0x2e78f6)=>_0x45e04c-_0x2e78f6),_0x2c2100=_0x2f854a[_0x2f854a[_0x52bab2(0xc6)]-0x1]-_0x2f854a[0x0],_0x906957=_0xdb4e0c[_0xdb4e0c[_0x52bab2(0xc6)]-0x1]-_0xdb4e0c[0x0];_0x2d9ea3=_0x2c2100>0x12c&&_0x906957>0x50;}if(!rawPoints[_0x52bab2(0xc6)]||_0x2d9ea3){const _0x1dda8f=0x2,_0x5bfbc5=THREE['MathUtils'][_0x52bab2(0xf3)](0xb4),_0x26380e=THREE[_0x52bab2(0x17b)][_0x52bab2(0xf3)](0x1e);camera[_0x52bab2(0xd5)][_0x52bab2(0x102)](_0x1dda8f*Math[_0x52bab2(0xac)](_0x26380e)*Math['sin'](_0x5bfbc5),_0x1dda8f*Math[_0x52bab2(0x156)](_0x26380e),_0x1dda8f*Math[_0x52bab2(0xac)](_0x26380e)*Math[_0x52bab2(0xac)](_0x5bfbc5)),camera['lookAt'](0x0,0x0,0x0),controls[_0x52bab2(0x118)][_0x52bab2(0x102)](0x0,0x0,0x0);}else{const _0x21e9a6=new THREE[(_0x52bab2(0x187))]();spheres[_0x52bab2(0x141)](_0x37b730=>_0x21e9a6[_0x52bab2(0x13f)](_0x37b730[_0x52bab2(0xd5)]));const _0x5eb5b0=new THREE[(_0x52bab2(0xea))]();_0x21e9a6[_0x52bab2(0x176)](_0x5eb5b0);const _0x24de39=new THREE[(_0x52bab2(0xea))]();_0x21e9a6['getSize'](_0x24de39);const _0x1fd0b1=Math[_0x52bab2(0x18e)](_0x24de39['x'],_0x24de39['y'],_0x24de39['z'])||0x2;let _0x285ddb=new THREE[(_0x52bab2(0xea))]();spheres['forEach'](_0x55eede=>_0x285ddb[_0x52bab2(0xa6)](_0x55eede[_0x52bab2(0xd5)])),_0x285ddb[_0x52bab2(0xa8)](spheres[_0x52bab2(0xc6)]);const _0x3c10b4=_0x285ddb[_0x52bab2(0xe7)]()[_0x52bab2(0xa3)](),_0x4af04a=_0x1fd0b1*0x2;camera[_0x52bab2(0xd5)][_0x52bab2(0x122)](_0x3c10b4['clone']()[_0x52bab2(0x95)](_0x4af04a)),camera['lookAt'](_0x5eb5b0),controls['target'][_0x52bab2(0x122)](_0x5eb5b0);}controls[_0x52bab2(0x147)](),addAzimuthCompass(),updateTimeDisplay();if(_0x239b20===_0x52bab2(0x128))demoStatus[_0x52bab2(0x131)]=_0x52bab2(0x18f),demoStatus[_0x52bab2(0x158)][_0x52bab2(0x100)]=_0x52bab2(0x133),demoStatus[_0x52bab2(0x158)][_0x52bab2(0xb2)]='block';else _0x239b20===_0x52bab2(0x14e)?(demoStatus[_0x52bab2(0x131)]='Stored\x20CSV\x20loaded',demoStatus[_0x52bab2(0x158)][_0x52bab2(0x100)]=_0x52bab2(0x170),demoStatus['style'][_0x52bab2(0xb2)]=_0x52bab2(0x13b)):(demoStatus[_0x52bab2(0x131)]=_0x52bab2(0x17d),demoStatus[_0x52bab2(0x158)][_0x52bab2(0x100)]=_0x52bab2(0x170),demoStatus['style'][_0x52bab2(0xb2)]=_0x52bab2(0x13b));},'error':function(_0x50d9bf){const _0x49ee92=_0x4f2496;demoStatus[_0x49ee92(0x131)]=_0x49ee92(0xae),demoStatus[_0x49ee92(0x158)][_0x49ee92(0x100)]=_0x49ee92(0x133),demoStatus[_0x49ee92(0x158)][_0x49ee92(0xb2)]=_0x49ee92(0x13b);}});}const storedGrid=localStorage[_0x496530(0x9f)](_0x496530(0x11c));storedGrid&&isValidGrid(storedGrid)&&(gridInput['value']=storedGrid,gridInput[_0x496530(0x158)][_0x496530(0x14a)]=_0x496530(0x18d));const storedCsv=localStorage[_0x496530(0x9f)](_0x496530(0x181));storedCsv?parseCsvData(storedCsv,'stored'):fetch(_0x496530(0x16d))[_0x496530(0xe1)](_0x304327=>_0x304327['text']())[_0x496530(0xe1)](_0x2558a7=>parseCsvData(_0x2558a7,'demo'))[_0x496530(0xbd)](_0x400257=>{const _0x5e40e3=_0x496530;console[_0x5e40e3(0x146)](_0x5e40e3(0xdb),_0x400257);const _0x546a0f=0x2,_0x5e2859=THREE[_0x5e40e3(0x17b)][_0x5e40e3(0xf3)](0xb4),_0x29aec1=THREE[_0x5e40e3(0x17b)][_0x5e40e3(0xf3)](0x1e);camera[_0x5e40e3(0xd5)][_0x5e40e3(0x102)](_0x546a0f*Math[_0x5e40e3(0xac)](_0x29aec1)*Math[_0x5e40e3(0x156)](_0x5e2859),_0x546a0f*Math[_0x5e40e3(0x156)](_0x29aec1),_0x546a0f*Math[_0x5e40e3(0xac)](_0x29aec1)*Math['cos'](_0x5e2859)),camera['lookAt'](0x0,0x0,0x0),controls[_0x5e40e3(0x118)][_0x5e40e3(0x102)](0x0,0x0,0x0),controls[_0x5e40e3(0x147)](),addAzimuthCompass(),addTrajectories();});document[_0x496530(0x90)](_0x496530(0x17a))['addEventListener']('change',function(_0x48ad5c){const _0x44747b=_0x496530,_0x54145f=_0x48ad5c[_0x44747b(0x118)][_0x44747b(0x108)][0x0];if(!_0x54145f)return;const _0x5a1368=new FileReader();_0x5a1368[_0x44747b(0xf6)]=function(_0x25bee7){const _0x51ec20=_0x44747b,_0x4caa5b=_0x25bee7[_0x51ec20(0x118)]['result'];localStorage[_0x51ec20(0x117)](_0x51ec20(0x181),_0x4caa5b),parseCsvData(_0x4caa5b,_0x51ec20(0x149));},_0x5a1368[_0x44747b(0x18c)](_0x54145f);}),window[_0x496530(0x12d)]('click',_0x3659f9=>{const _0x3b191c=_0x496530;mouse['x']=_0x3659f9[_0x3b191c(0x9a)]/window['innerWidth']*0x2-0x1,mouse['y']=-(_0x3659f9[_0x3b191c(0xd8)]/window[_0x3b191c(0x111)])*0x2+0x1,raycaster['setFromCamera'](mouse,camera);const _0x432c29=raycaster[_0x3b191c(0xb8)]([...spheres,moonMarker,sunMarker][_0x3b191c(0x14d)](_0x339c16=>_0x339c16!==null));if(_0x432c29[_0x3b191c(0xc6)]>0x0){const _0x236827=_0x432c29[0x0][_0x3b191c(0x115)];if(_0x236827===moonMarker){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x3b191c(0x105)]['el']>0x0){const _0x565b21=currentRealTimeData['moon'],_0x741761=interpolateNoiseAtPosition(_0x565b21['az'],_0x565b21['el']),_0x29cdcc=_0x741761?_0x3b191c(0xc7)+_0x741761[_0x3b191c(0xec)][_0x3b191c(0xc8)](0x2)+'\x20dB':_0x3b191c(0xe5);infoBox[_0x3b191c(0x15b)]=_0x3b191c(0xfc)+_0x565b21['az'][_0x3b191c(0xc8)](0x1)+_0x3b191c(0x16a)+_0x565b21['el'][_0x3b191c(0xc8)](0x1)+_0x3b191c(0xb9)+_0x29cdcc+_0x3b191c(0xf5),infoBox[_0x3b191c(0x158)][_0x3b191c(0xb2)]=_0x3b191c(0x13b);}else{if(!isRealTime&&moonPositions[currentTimeIndex]&&moonPositions[currentTimeIndex][_0x3b191c(0xf0)]>0x0){const _0xee593d=moonPositions[currentTimeIndex],_0xf3b09=interpolateNoiseAtPosition(_0xee593d[_0x3b191c(0x101)],_0xee593d['elevation']),_0x2466aa=_0xf3b09?_0x3b191c(0xc7)+_0xf3b09[_0x3b191c(0xec)][_0x3b191c(0xc8)](0x2)+_0x3b191c(0x10b):_0x3b191c(0xe5);infoBox[_0x3b191c(0x15b)]=_0x3b191c(0xfc)+_0xee593d[_0x3b191c(0x101)][_0x3b191c(0xc8)](0x1)+'°\x20El:\x20'+_0xee593d[_0x3b191c(0xf0)][_0x3b191c(0xc8)](0x1)+_0x3b191c(0xb9)+_0x2466aa+_0x3b191c(0xf5),infoBox['style']['display']=_0x3b191c(0x13b);}}}else{if(_0x236827===sunMarker&&showSunCheckbox[_0x3b191c(0xa5)]){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x3b191c(0x11a)]['el']>0x0){const _0x41b89d=currentRealTimeData[_0x3b191c(0x11a)];infoBox[_0x3b191c(0x15b)]=_0x3b191c(0xb6)+_0x41b89d['az'][_0x3b191c(0xc8)](0x1)+_0x3b191c(0x16a)+_0x41b89d['el'][_0x3b191c(0xc8)](0x1)+_0x3b191c(0xc1),infoBox['style']['display']=_0x3b191c(0x13b);}else{if(!isRealTime&&sunPositions[currentTimeIndex]&&sunPositions[currentTimeIndex][_0x3b191c(0xf0)]>0x0){const _0x4aac98=sunPositions[currentTimeIndex];infoBox[_0x3b191c(0x15b)]=_0x3b191c(0xb6)+_0x4aac98[_0x3b191c(0x101)][_0x3b191c(0xc8)](0x1)+_0x3b191c(0x16a)+_0x4aac98[_0x3b191c(0xf0)][_0x3b191c(0xc8)](0x1)+_0x3b191c(0xc1),infoBox[_0x3b191c(0x158)][_0x3b191c(0xb2)]='block';}}}else{if(_0x236827['userData']?.['noise']!==undefined){const {azimuth:_0x37c759,elevation:_0x18b3de,noise:_0x2bde07}=_0x236827[_0x3b191c(0xdf)];infoBox[_0x3b191c(0x15b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Measurement</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x37c759[_0x3b191c(0xc8)](0x1)+_0x3b191c(0x16a)+_0x18b3de[_0x3b191c(0xc8)](0x1)+_0x3b191c(0xcb)+_0x2bde07[_0x3b191c(0xc8)](0x2)+'\x20dB\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',infoBox['style']['display']=_0x3b191c(0x13b);}}}}else updateInfoBox();}),window[_0x496530(0x12d)](_0x496530(0xda),_0x1cc044=>{const _0x499828=_0x496530,_0x2d5b3e=_0x1cc044[_0x499828(0x143)][0x0];if(!_0x2d5b3e)return;mouse['x']=_0x2d5b3e[_0x499828(0x9a)]/window[_0x499828(0x175)]*0x2-0x1,mouse['y']=-(_0x2d5b3e[_0x499828(0xd8)]/window[_0x499828(0x111)])*0x2+0x1,raycaster['setFromCamera'](mouse,camera);const _0x36244c=raycaster[_0x499828(0xb8)]([...spheres,moonMarker,sunMarker]['filter'](_0x34657b=>_0x34657b!==null));if(_0x36244c[_0x499828(0xc6)]>0x0){const _0x536767=_0x36244c[0x0]['object'];if(_0x536767===moonMarker){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x499828(0x105)]['el']>0x0){const _0x14fe93=currentRealTimeData[_0x499828(0x105)],_0x978eb3=interpolateNoiseAtPosition(_0x14fe93['az'],_0x14fe93['el']),_0x3abbd7=_0x978eb3?_0x499828(0xc7)+_0x978eb3[_0x499828(0xec)][_0x499828(0xc8)](0x2)+_0x499828(0x10b):'Noise:\x20N/A\x20(Outside\x20Dome)';infoBox[_0x499828(0x15b)]=_0x499828(0xfc)+_0x14fe93['az']['toFixed'](0x1)+'°\x20El:\x20'+_0x14fe93['el'][_0x499828(0xc8)](0x1)+_0x499828(0xb9)+_0x3abbd7+_0x499828(0xf5),infoBox[_0x499828(0x158)][_0x499828(0xb2)]=_0x499828(0x13b);}else{if(!isRealTime&&moonPositions[currentTimeIndex]&&moonPositions[currentTimeIndex]['elevation']>0x0){const _0x1576a0=moonPositions[currentTimeIndex],_0x504092=interpolateNoiseAtPosition(_0x1576a0['azimuth'],_0x1576a0[_0x499828(0xf0)]),_0x2e7e6f=_0x504092?'Noise:\x20'+_0x504092[_0x499828(0xec)]['toFixed'](0x2)+_0x499828(0x10b):_0x499828(0xe5);infoBox[_0x499828(0x15b)]=_0x499828(0xfc)+_0x1576a0['azimuth'][_0x499828(0xc8)](0x1)+_0x499828(0x16a)+_0x1576a0['elevation'][_0x499828(0xc8)](0x1)+_0x499828(0xb9)+_0x2e7e6f+_0x499828(0xf5),infoBox[_0x499828(0x158)][_0x499828(0xb2)]=_0x499828(0x13b);}}}else{if(_0x536767===sunMarker&&showSunCheckbox[_0x499828(0xa5)]){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x499828(0x11a)]['el']>0x0){const _0x40fa13=currentRealTimeData[_0x499828(0x11a)];infoBox['innerHTML']=_0x499828(0xb6)+_0x40fa13['az'][_0x499828(0xc8)](0x1)+_0x499828(0x16a)+_0x40fa13['el'][_0x499828(0xc8)](0x1)+'°\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',infoBox['style'][_0x499828(0xb2)]=_0x499828(0x13b);}else{if(!isRealTime&&sunPositions[currentTimeIndex]&&sunPositions[currentTimeIndex][_0x499828(0xf0)]>0x0){const _0xff3d6=sunPositions[currentTimeIndex];infoBox['innerHTML']=_0x499828(0xb6)+_0xff3d6[_0x499828(0x101)][_0x499828(0xc8)](0x1)+_0x499828(0x16a)+_0xff3d6[_0x499828(0xf0)][_0x499828(0xc8)](0x1)+_0x499828(0xc1),infoBox[_0x499828(0x158)][_0x499828(0xb2)]=_0x499828(0x13b);}}}else{if(_0x536767[_0x499828(0xdf)]?.['noise']!==undefined){const {azimuth:_0x4b4a20,elevation:_0x57feaa,noise:_0x26721a}=_0x536767[_0x499828(0xdf)];infoBox[_0x499828(0x15b)]=_0x499828(0x107)+_0x4b4a20[_0x499828(0xc8)](0x1)+'°\x20El:\x20'+_0x57feaa[_0x499828(0xc8)](0x1)+_0x499828(0xcb)+_0x26721a['toFixed'](0x2)+'\x20dB\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',infoBox[_0x499828(0x158)][_0x499828(0xb2)]=_0x499828(0x13b);}}}}else updateInfoBox();});function _0x5a8a(_0x1c6e53,_0x478d5b){_0x1c6e53=_0x1c6e53-0x8e;const _0x47059e=_0x4705();let _0x5a8a56=_0x47059e[_0x1c6e53];return _0x5a8a56;}function animate(){const _0x297c09=_0x496530;requestAnimationFrame(animate),controls[_0x297c09(0x147)](),renderer['render'](scene,camera);}animate();const today=new Date(),year=today[_0x496530(0x127)](),month=String(today[_0x496530(0x144)]()+0x1)[_0x496530(0xc4)](0x2,'0'),day=String(today['getUTCDate']())['padStart'](0x2,'0');datePicker[_0x496530(0xe3)]=year+'-'+month+'-'+day,addTrajectories(),updateTrackButtonState();

        </script>
    </body>
</html>
