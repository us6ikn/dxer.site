<!DOCTYPE html>
<html lang="en">
    <head>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7YST3WTEH3"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-7YST3WTEH3');
        </script>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
          <title>EME Noise Mapper – Sky Noise & Moon Path Planner</title>
          <meta name="description" content="EME Noise Mapper visualizes sky noise for Earth–Moon–Earth (EME) communication. Explore Moon and Sun trajectories, identify common Moon windows, and plan contacts—especially useful for stations with obstructions such as trees, buildings, or balconies." />
      <meta name="keywords" content="EME, Moonbounce, Ham Radio, Amateur Radio, sky noise, Moon Tracking, common moon window, noise, extra path loss, sky noise map" />
      <meta name="author" content="SA5IKN">
          <meta name="robots" content="index, follow">
              <meta property="og:title" id="ogTitle" content="EME Noise Mapper – Sky Noise & Moon Path Planner">
                  <meta property="og:type" content="website">
                      <meta property="og:description" id="ogDescription" content="EME Noise Mapper visualizes sky noise for Earth–Moon–Earth (EME) communication. Explore Moon and Sun trajectories, identify common Moon windows, and plan contacts—especially useful for stations with obstructions such as trees, buildings, or balconies.">
                          <meta property="og:image" content="https://dxer.site/social/eme-eme-noise-mapper.jpg">
                              <meta property="og:url" content="https://dxer.site/eme-noise-mapper/">
                                  <meta name="twitter:card" content="summary_large_image">
                                      <meta name="twitter:title" id="twitterTitle" content="EME Noise Mapper – Sky Noise & Moon Path Planner" />
                                      <meta name="twitter:description" id="twitterDescription" content="EME Noise Mapper visualizes sky noise for Earth–Moon–Earth (EME) communication. Explore Moon and Sun trajectories, identify common Moon windows, and plan contacts—especially useful for stations with obstructions such as trees, buildings, or balconies." />
                                      <meta name="twitter:image" content="https://dxer.site/social/eme-eme-noise-mapper.jpg" />
                                      <link rel="canonical" href="https://dxer.site/eme-noise-mapper/" />
                                      <!-- Favicon and App Icons -->
                                      <link rel="apple-touch-icon" sizes="180x180" href="https://dxer.site/assets/apple-touch-icon.png">
                                          <link rel="icon" type="image/png" sizes="32x32" href="https://dxer.site/assets/favicon-32x32.png">
                                              <link rel="icon" type="image/png" sizes="16x16" href="https://dxer.site/assets/favicon-16x16.png">
                                                  <link rel="manifest" href="https://dxer.site/assets/site.webmanifest">
                                                      <link rel="shortcut icon" href="https://dxer.site/assets/favicon.ico">
                                                          <script type="application/ld+json">
                                                              {
                                                                  "@context": "https://schema.org",
                                                                  "@type": "WebApplication",
                                                                  "name": "EME Noise Mapper",
                                                                  "url": "https://dxer.site/eme-noise-mapper/",
                                                                  "author": {
                                                                      "@type": "Person",
                                                                      "name": "SA5IKN"
                                                                  },
                                                                  "description": "EME Noise Mapper visualizes sky noise for Earth–Moon–Earth (EME) communication. Explore Moon and Sun trajectories, identify common Moon windows, and plan contacts—especially useful for stations with obstructions such as trees, buildings, or balconies.",
                                                                  "applicationCategory": "Science",
                                                                  "operatingSystem": "All",
                                                                  "browserRequirements": "Requires JavaScript",
                                                                  "inLanguage": "en",
                                                                  "applicationSubCategory": "Amateur Radio Application",
                                                                  "offers": {
                                                                      "@type": "Offer",
                                                                      "price": "0.00",
                                                                      "priceCurrency": "USD"
                                                                  }
                                                              }
                                                          </script>
      <style>
          body{margin:0;overflow:hidden;width:100%;height:100vh;background:#000}canvas{display:block;position:absolute;top:0;left:0;width:100%;height:100%}html,body{touch-action:none;width:100%;height:100%}button{min-width:44px;min-height:44px}#infoBox{position:absolute;top:10px;right:10px;left:auto;padding:10px;background:rgb(0 0 0 / .7);color:#fff;font-family:monospace;font-size:12px;display:none;max-width:80vw;z-index:10;text-align:right;width:fit-content}@media (max-width:600px),(orientation:portrait){#infoBox{font-size:14px;padding:16px;top:15px;right:15px;left:auto;text-align:right;width:fit-content;max-width:90vw;line-height:1.4}}#moonTimeControls button{background:rgb(255 255 255 / .1);border:1px solid rgb(255 255 255 / .3);border-radius:12px;color:#fff;font-size:24px;font-family:sans-serif;padding:10px 20px;cursor:pointer;transition:background 0.2s,transform 0.2s;box-shadow:0 4px 8px rgb(0 0 0 / .3)}#trackButton{background:rgb(255 255 255 / .1);border:1px solid rgb(255 255 255 / .3);border-radius:12px;color:#fff;font-size:24px;font-family:sans-serif;padding:10px 20px;cursor:pointer;transition:background 0.2s,transform 0.2s;box-shadow:0 4px 8px rgb(0 0 0 / .3)}#moonTimeControls button:hover,#trackButton:hover{background:rgb(255 255 255 / .2);transform:scale(1.05)}#moonTimeControls button:active,#trackButton:active{background:rgb(255 255 255 / .3);transform:scale(.97)}#trackButton:disabled{opacity:.5;cursor:not-allowed}#moonTimeControls{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);z-index:20;display:flex;flex-direction:column;align-items:center;gap:10px}#moonTimeDisplay{color:#fff;font-family:'Courier New',monospace;font-size:20px;padding:8px 12px;border-radius:8px;background-color:rgb(0 0 0 / .4);border:1px solid rgb(255 255 255 / .2)}#prevDate,#nextDate{padding:1px 6px;font-size:10px;line-height:1.2;min-height:20px;width:24px;border-radius:4px;background:#444;color:#fff;border:none;cursor:pointer;transition:background 0.2s,transform 0.2s}#prevDate:hover,#nextDate:hover{background:rgb(255 255 255 / .2);transform:scale(1.05)}#prevDate:active,#nextDate:active{background:rgb(255 255 255 / .3);transform:scale(.97)}#timeSlider{-webkit-appearance:none;appearance:none;background:rgb(255 255 255 / .3);height:12px;border-radius:6px;outline:none;width:80vw;max-width:300px;touch-action:pan-x;z-index:30}#timeSlider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:24px;height:24px;background:#fff;border-radius:50%;cursor:pointer;box-shadow:0 2px 4px rgb(0 0 0 / .3)}#timeSlider::-moz-range-thumb{width:24px;height:24px;background:#fff;border-radius:50%;cursor:pointer;box-shadow:0 2px 4px rgb(0 0 0 / .3)}#timeSlider:disabled{opacity:.5;cursor:not-allowed}#colorBarContainer{position:absolute;bottom:180px;right:10px;z-index:30;display:flex;flex-direction:column;align-items:center;font-family:'Segoe UI',sans-serif;font-size:12px;color:#fff;width:40px;height:auto;top:auto;left:auto}#colorBar{width:20px!important;height:100px!important;border:1px solid rgb(255 255 255 / .3);z-index:30}#maxNoiseLabel{position:absolute;top:-18px;left:50%;transform:translateX(-50%);text-align:center;width:100%;z-index:31;background:rgb(0 0 0 / .6);padding:2px 4px;border-radius:2px;line-height:1.2}#minNoiseLabel{position:absolute;bottom:-18px;left:50%;transform:translateX(-50%);text-align:center;width:100%;z-index:31;background:rgb(0 0 0 / .6);padding:2px 4px;border-radius:2px;line-height:1.2}@media (max-width:600px),(orientation:portrait){#colorBarContainer{position:absolute;bottom:90px;right:10px;font-size:10px;width:40px;height:auto;top:auto;left:auto}#colorBar{width:20px!important;height:120px!important}#maxNoiseLabel{top:-16px;font-size:10px;padding:1px 3px}#minNoiseLabel{bottom:-16px;font-size:10px;padding:1px 3px}}@media (max-height:500px){#colorBarContainer{position:absolute;bottom:80px;righ t:10px;width:40px;height:auto;top:auto;left:auto}#colorBar{height:100px!important}#maxNoiseLabel{top:-16px;font-size:10px;padding:1px 3px}#minNoiseLabel{bottom:-16px;font-size:10px;padding:1px 3px}}
      </style>
    </head>
    <body>
        <div style="position: absolute; top: 8px; left: 8px; z-index: 30; font-family: 'Segoe UI', sans-serif;">
          <div style="display: flex; flex-direction: row; align-items: flex-end; gap: 8px;">
            <div style="display: flex; flex-direction: column; align-items: flex-end; line-height: 1;">
              <div style="font-size: 10px; color: #aaa; padding-right: 2px;">
                by SA5IKN
              </div>
              <div style="font-size: 16px; color: white; font-weight: 600; background: rgba(0, 0, 0, 0.6); padding: 2px 4px; border-radius: 2px;">
                EME Noise Mapper
              </div>
            </div>
            <div style="display: flex; flex-direction: row; gap: 4px;">
                <a href="https://dxer.site" target="_blank" title="Go to homepage"
                   style="
                     display: inline-flex;
                     align-items: center;
                     justify-content: center;
                     width: 32px;
                     height: 32px;
                     background: rgba(255,255,255,0.1);
                     color: white;
                     border-radius: 6px;
                     text-decoration: none;
                     transition: background 0.2s ease;
                   ">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M12 3l9 9h-3v9h-12v-9h-3l9-9z"/>
                  </svg>
                </a>

                <a href="https://dxer.site/eme-observer/" target="_blank" title="EME Observer"
                   style="
                     display: inline-flex;
                     align-items: center;
                     justify-content: center;
                     width: 32px;
                     height: 32px;
                     background: rgba(255,255,255,0.1);
                     color: white;
                     border-radius: 6px;
                     text-decoration: none;
                     transition: background 0.2s ease;
                   "
                   onmouseover="this.style.background='rgba(255,255,255,0.25)'"
                   onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                    <path d="M15 4l-6 2-6-2v16l6 2 6-2 6 2v-16l-6-2zm0 2.47l4 .8v12.26l-4-.8v-12.26zm-6 12.26l-4-.8v-12.26l4 .8v12.26zm2-.37v-12.72l2-.67v12.72l-2 .67z"/>
                  </svg>
                </a>

                <a href="https://dxer.site/eme-noise-mapper/user-guide.html" target="_blank" title="Help"
                   style="
                     display: inline-flex;
                     align-items: center;
                     justify-content: center;
                     width: 32px;
                     height: 32px;
                     background: rgba(255,255,255,0.1);
                     color: white;
                     border-radius: 6px;
                     text-decoration: none;
                     transition: background 0.2s ease;
                   "
                   onmouseover="this.style.background='rgba(255,255,255,0.25)'"
                   onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                      <path d="M12 2c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4zm-1 16h2v-2h-2v2z"/>
                  </svg>
                </a>
            </div>
          </div>
        </div>

        <div id="controlPanel" style="
          position: absolute;
          top: 36px;
          left: 8px;
          z-index: 20;
          background: rgba(0,0,0,0.6);
          padding: 6px 8px;
          border-radius: 8px;
          display: flex;
          flex-direction: column;
          gap: 6px;
          font-family: 'Segoe UI', sans-serif;
          font-size: 12px;
          color: white;
          max-width: 160px;
        ">
          <div style="display: flex; align-items: center; gap: 4px;">
            <label for="gridInput">My locator:</label>
            <input type="text" id="gridInput" maxlength="6" placeholder="e.g. JO89tt"
                   style="width: 60px; font-size: 11px; padding: 2px 4px; border-radius: 4px; border: none;">
          </div>
          <div style="display: flex; align-items: center; gap: 4px;">
            <label for="dxGridInput">DX locator:</label>
            <input type="text" id="dxGridInput" maxlength="6" placeholder="e.g. IO91vm"
                   style="width: 60px; font-size: 11px; padding: 2px 4px; border-radius: 4px; border: none;">
          </div>
          <div style="display: flex; flex-direction: column; gap: 2px;">
            <label for="csvUpload">
              CSV <span style="font-size: 9px; color: #ccc;">(e.g. from SkyScanner)</span>:
            </label>
            <input type="file" id="csvUpload" accept=".csv"
                   style="font-size: 10px; padding: 2px 0px; color: white;">
          </div>
          <div style="display: flex; align-items: center; gap: 4px;">
            <button id="prevDate">&lt;</button>
            <input type="date" id="datePicker"
                   style="font-size: 11px; padding: 2px 4px; border-radius: 4px; border: none; width: 100px;">
            <button id="nextDate">&gt;</button>
          </div>
          <div style="display: flex; align-items: center; gap: 4px;">
            <input type="checkbox" id="showSun" style="width: 14px; height: 14px;">
            <label for="showSun">Show sun</label>
          </div>
          <div id="demoStatus" style="color: red; font-weight: bold; margin-top: 10px;">
            This is a DEMO! Load your CSV file and enter your locator
          </div>
        </div>

        <div id="moonTimeControls" style="position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); z-index: 20; display: flex; flex-direction: column; align-items: center; gap: 10px;">
          <span id="moonTimeDisplay" style="color: white; font-family: 'Courier New', monospace; font-size: 18px; padding: 8px 12px; border-radius: 8px; background-color: rgba(0, 0, 0, 0.4); border: 1px solid rgba(255, 255, 255, 0.2);">
            --:-- UTC
          </span>
          <input type="range" id="timeSlider" min="0" max="0" value="0" aria-label="Select time for moon and sun position" role="slider" tabindex="0" style="width: 80vw; max-width: 300px; accent-color: #fff; cursor: pointer;">
          <button id="trackButton">Track</button>
        </div>

        <div id="colorBarContainer" style="
          position: absolute;
          bottom: 180px;
          right: 10px;
          z-index: 30;
          display: flex;
          flex-direction: column;
          align-items: center;
          font-family: 'Segoe UI', sans-serif;
          font-size: 12px;
          color: white;
          width: 40px;
          height: auto;
          top: auto;
          left: auto;
        ">
          <div id="maxNoiseLabel" style="position: absolute; top: -35px; left: 50%; transform: translateX(-75%); text-align: center; width: 100%; z-index: 31; background: rgba(0,0,0,0.6); padding: 2px 4px; border-radius: 2px; line-height: 1.2;">-- dB</div>
          <canvas id="colorBar" width="20" height="200" style="border: 1px solid rgba(255,255,255,0.3); z-index: 30;"></canvas>
          <div id="minNoiseLabel" style="position: absolute; bottom: -145px; left: 50%; transform: translateX(-75%); text-align: center; width: 100%; z-index: 31; background: rgba(0,0,0,0.6); padding: 2px 4px; border-radius: 2px; line-height: 1.2;">-- dB</div>
        </div>

        <script src="/eme-observer/a.ob.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/build/three.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/controls/OrbitControls.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/loaders/FontLoader.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.146.0/examples/js/geometries/TextGeometry.js"></script>

        <script>
            const _0x435390=_0x555b;(function(_0x3c32c0,_0x54e04a){const _0x152deb=_0x555b,_0x46d72a=_0x3c32c0();while(!![]){try{const _0x52991b=-parseInt(_0x152deb(0x15e))/0x1*(-parseInt(_0x152deb(0x16a))/0x2)+-parseInt(_0x152deb(0x1ea))/0x3+parseInt(_0x152deb(0x179))/0x4+parseInt(_0x152deb(0x19b))/0x5+-parseInt(_0x152deb(0x1d4))/0x6*(-parseInt(_0x152deb(0x1cd))/0x7)+-parseInt(_0x152deb(0x208))/0x8*(parseInt(_0x152deb(0x233))/0x9)+-parseInt(_0x152deb(0x205))/0xa;if(_0x52991b===_0x54e04a)break;else _0x46d72a['push'](_0x46d72a['shift']());}catch(_0x287440){_0x46d72a['push'](_0x46d72a['shift']());}}}(_0x2c59,0xe6908));let lastTouchEnd=0x0;document[_0x435390(0x1ae)](_0x435390(0x1d8),function(_0x589967){const _0x149223=_0x435390;_0x589967['touches']['length']>0x1&&_0x589967[_0x149223(0x172)]();},{'passive':![]}),document[_0x435390(0x1ae)](_0x435390(0x1e3),function(_0x500ce3){const _0x2fb833=_0x435390,_0x28a879=new Date()['getTime']();_0x28a879-lastTouchEnd<=0x12c&&_0x500ce3[_0x2fb833(0x172)](),lastTouchEnd=_0x28a879;},![]),document['addEventListener']('gesturestart',function(_0x203288){const _0x4c245f=_0x435390;_0x203288[_0x4c245f(0x172)]();},![]),document[_0x435390(0x1ae)](_0x435390(0x226),function(_0x4017dc){const _0x2d6c94=_0x435390;_0x4017dc[_0x2d6c94(0x172)]();},![]),document['addEventListener'](_0x435390(0x1c5),function(_0x27fd4c){const _0x1c4e21=_0x435390;_0x27fd4c[_0x1c4e21(0x172)]();},![]);const scene=new THREE['Scene'](),moonTrajectoryGroup=new THREE[(_0x435390(0x18c))](),sunTrajectoryGroup=new THREE[(_0x435390(0x18c))]();let moonPositions=[],dxMoonPositions=[],sunPositions=[],commonMoonWindow=[],currentTimeIndex=0x0,moonMarker=null,sunMarker=null,azStep=0x5,elStep=0x5,isRealTime=![],currentRealTimeData=null,autoTracking=![],trackingTimeout=null,trackingInterval=null,isDemoData=!![];const moonTimeDisplay=document[_0x435390(0x1c6)](_0x435390(0x15a)),timeSlider=document['getElementById'](_0x435390(0x180)),datePicker=document[_0x435390(0x1c6)](_0x435390(0x196)),prevDateBtn=document[_0x435390(0x1c6)]('prevDate'),nextDateBtn=document[_0x435390(0x1c6)](_0x435390(0x1fe)),gridInput=document[_0x435390(0x1c6)](_0x435390(0x21d)),dxGridInput=document[_0x435390(0x1c6)]('dxGridInput'),showSunCheckbox=document[_0x435390(0x1c6)](_0x435390(0x1b9)),demoStatus=document[_0x435390(0x1c6)](_0x435390(0x198)),colorBarCanvas=document[_0x435390(0x1c6)]('colorBar'),colorBarContext=colorBarCanvas['getContext']('2d'),minNoiseLabel=document[_0x435390(0x1c6)](_0x435390(0x188)),maxNoiseLabel=document[_0x435390(0x1c6)](_0x435390(0x1a2)),colorBarContainer=document[_0x435390(0x1c6)](_0x435390(0x1aa)),trackButton=document[_0x435390(0x1c6)](_0x435390(0x237)),renderer=new THREE[(_0x435390(0x164))]({'antialias':!![]});renderer['setSize'](window['innerWidth'],window['innerHeight']),document[_0x435390(0x234)][_0x435390(0x1ee)](renderer[_0x435390(0x1ac)]);const camera=new THREE[(_0x435390(0x17f))](0x4b,window[_0x435390(0x165)]/window[_0x435390(0x192)],0.1,0x3e8),defaultDistance=0x2,defaultAzRad=THREE[_0x435390(0x1eb)]['degToRad'](0xb4),defaultElRad=THREE['MathUtils'][_0x435390(0x1f2)](0x1e);camera[_0x435390(0x1e1)][_0x435390(0x217)](defaultDistance*Math[_0x435390(0x20f)](defaultElRad)*Math[_0x435390(0x162)](defaultAzRad),defaultDistance*Math[_0x435390(0x162)](defaultElRad),defaultDistance*Math['cos'](defaultElRad)*Math[_0x435390(0x20f)](defaultAzRad)),camera[_0x435390(0x215)](0x0,0x0,0x0);const controls=new THREE['OrbitControls'](camera,renderer[_0x435390(0x1ac)]);controls['enableDamping']=!![],controls[_0x435390(0x19a)][_0x435390(0x217)](0x0,0x0,0x0),controls[_0x435390(0x201)]=0.5,controls['zoomSpeed']=0.5,controls['panSpeed']=0.5,controls[_0x435390(0x231)]();function onWindowResize(){const _0x18b285=_0x435390;camera['aspect']=window['innerWidth']/window['innerHeight'],camera[_0x18b285(0x1e7)](),renderer['setSize'](window['innerWidth'],window['innerHeight']),drawColorBar();}window[_0x435390(0x1ae)](_0x435390(0x17a),onWindowResize),window[_0x435390(0x1ae)](_0x435390(0x1b2),onWindowResize);const raycaster=new THREE['Raycaster'](),mouse=new THREE[(_0x435390(0x15c))]();let spheres=[],minNoise=Infinity,maxNoise=-Infinity;const rawPoints=[];scene[_0x435390(0x1a4)](moonTrajectoryGroup),scene[_0x435390(0x1a4)](sunTrajectoryGroup);const TRAJECTORY_SCALE=1.05,MARKER_SCALE=1.05;function getColor(_0x4d534b){const _0x41eb2f=_0x435390,_0x3b21b4=maxNoise-minNoise,_0x23eb79=_0x3b21b4===0x0?0.5:(_0x4d534b-minNoise)/_0x3b21b4;return new THREE[(_0x41eb2f(0x167))]()[_0x41eb2f(0x195)](0.7-_0x23eb79*0.7,0x1,0.5);}function calculateStepSizes(){const _0xb526ba=_0x435390;if(!rawPoints['length'])return{'azStep':0x5,'elStep':0x5};const _0x25ef4f=[...new Set(rawPoints[_0xb526ba(0x1a3)](_0x1d9a0b=>_0x1d9a0b['az']))][_0xb526ba(0x242)]((_0x7a15a3,_0x404b68)=>_0x7a15a3-_0x404b68),_0x29fed6=[...new Set(rawPoints['map'](_0x1d840f=>_0x1d840f['el']))][_0xb526ba(0x242)]((_0x481089,_0x5f4cce)=>_0x481089-_0x5f4cce),_0x211183=_0x25ef4f[_0xb526ba(0x1d1)](0x1)[_0xb526ba(0x1a3)]((_0x420c04,_0x2e2f94)=>_0x420c04-_0x25ef4f[_0x2e2f94])[_0xb526ba(0x1a8)](_0x18e795=>_0x18e795>0x0),_0x1ecd66=_0x29fed6[_0xb526ba(0x1d1)](0x1)[_0xb526ba(0x1a3)]((_0xdfd7ff,_0x1e9f5f)=>_0xdfd7ff-_0x29fed6[_0x1e9f5f])[_0xb526ba(0x1a8)](_0x490cb9=>_0x490cb9>0x0),_0x32677f=_0x211183[_0xb526ba(0x197)]?Math[_0xb526ba(0x23f)](..._0x211183):0x5,_0x5c4717=_0x1ecd66['length']?Math[_0xb526ba(0x23f)](..._0x1ecd66):0x5;return{'azStep':_0x32677f,'elStep':_0x5c4717};}function interpolateNoiseAtPosition(_0xbf2d5,_0x2b734d){const _0x4cf473=_0x435390;if(!rawPoints[_0x4cf473(0x197)])return null;const _0x3414d1=Math['max'](azStep,elStep)*0x1,_0x1ad013=0x6,_0x30e12f=0x1,_0x24892c=rawPoints[_0x4cf473(0x1a3)](_0x4ea3ea=>{const _0xa32b1=_0x4cf473,_0x381072=Math[_0xa32b1(0x225)](_0x4ea3ea['az']-_0xbf2d5),_0x5e9bb5=Math[_0xa32b1(0x225)](_0x4ea3ea['el']-_0x2b734d),_0x537d59=Math['sqrt'](_0x381072*_0x381072+_0x5e9bb5*_0x5e9bb5);return{..._0x4ea3ea,'distance':_0x537d59};}),_0xa95d47=_0x24892c['filter'](_0x1c8713=>_0x1c8713[_0x4cf473(0x23a)]<=_0x3414d1);if(_0xa95d47[_0x4cf473(0x197)]>=_0x30e12f){if(_0xa95d47['length']===0x1)return{'noise':_0xa95d47[0x0][_0x4cf473(0x1a5)]};let _0x45226f=0x0,_0x5b58d2=0x0;_0xa95d47[_0x4cf473(0x182)](_0x2ee6b5=>{const _0x2c876c=_0x4cf473,_0x59007d=0x1/(_0x2ee6b5[_0x2c876c(0x23a)]*_0x2ee6b5['distance']+0.000001);_0x5b58d2+=_0x59007d*_0x2ee6b5['noise'],_0x45226f+=_0x59007d;});if(_0x45226f===0x0)return null;const _0x43b381=_0x5b58d2/_0x45226f;return{'noise':Math[_0x4cf473(0x16d)](minNoise,Math['min'](maxNoise,_0x43b381))};}const _0x4900d3=_0x24892c[_0x4cf473(0x17c)]((_0x3bca68,_0x23c018)=>_0x23c018[_0x4cf473(0x23a)]<_0x3bca68[_0x4cf473(0x23a)]?_0x23c018:_0x3bca68,_0x24892c[0x0]);if(_0x4900d3[_0x4cf473(0x23a)]<=_0x1ad013)return{'noise':_0x4900d3[_0x4cf473(0x1a5)]};return null;}function getCurrentPositions(){const _0x40d22b=_0x435390,_0x4003e5=new Date(),_0x33c14b=gridInput['value'];if(!_0x33c14b||!isValidGrid(_0x33c14b))return null;const _0x3ee51c=maidenheadToLatLon(_0x33c14b);if(!_0x3ee51c)return null;const _0x53d98e=new Astronomy[(_0x40d22b(0x1de))](_0x3ee51c['lat'],_0x3ee51c[_0x40d22b(0x1c0)],0x0),_0x3ce59c=Astronomy[_0x40d22b(0x1be)](Astronomy[_0x40d22b(0x243)]['Moon'],_0x4003e5,_0x53d98e,!![],![]),_0x1a8ec9=Astronomy[_0x40d22b(0x156)](_0x4003e5,_0x53d98e,_0x3ce59c['ra'],_0x3ce59c['dec'],_0x40d22b(0x1c7)),_0x1efca0=_0x1a8ec9[_0x40d22b(0x20b)],_0x1b7cb3=_0x1a8ec9[_0x40d22b(0x1f7)],_0x364269=THREE['MathUtils']['degToRad'](0x168-_0x1b7cb3),_0x58f30f=THREE['MathUtils'][_0x40d22b(0x1f2)](Math['max'](_0x1efca0,0x0)),_0x28492a=0x1,_0x2d4377=_0x28492a*Math[_0x40d22b(0x20f)](_0x58f30f)*Math['sin'](_0x364269),_0xa6befb=_0x28492a*Math[_0x40d22b(0x162)](_0x58f30f),_0x525dda=_0x28492a*Math[_0x40d22b(0x20f)](_0x58f30f)*Math[_0x40d22b(0x20f)](_0x364269),_0x1f23df=new THREE[(_0x40d22b(0x177))](_0x2d4377,_0xa6befb,_0x525dda);let _0x5ad896=-0x1,_0x272f5b=0x0,_0x54b7ca=new THREE[(_0x40d22b(0x177))]();if(showSunCheckbox[_0x40d22b(0x1dc)]){const _0x113a80=Astronomy['Equator'](Astronomy[_0x40d22b(0x243)][_0x40d22b(0x240)],_0x4003e5,_0x53d98e,!![],![]),_0x2237d5=Astronomy[_0x40d22b(0x156)](_0x4003e5,_0x53d98e,_0x113a80['ra'],_0x113a80[_0x40d22b(0x214)],_0x40d22b(0x1c7));_0x5ad896=_0x2237d5[_0x40d22b(0x20b)],_0x272f5b=_0x2237d5['azimuth'];const _0x426eee=THREE[_0x40d22b(0x1eb)][_0x40d22b(0x1f2)](0x168-_0x272f5b),_0x459372=THREE[_0x40d22b(0x1eb)]['degToRad'](Math[_0x40d22b(0x16d)](_0x5ad896,0x0)),_0x347db8=_0x28492a*Math[_0x40d22b(0x20f)](_0x459372)*Math[_0x40d22b(0x162)](_0x426eee),_0x3c219d=_0x28492a*Math['sin'](_0x459372),_0x39537b=_0x28492a*Math['cos'](_0x459372)*Math['cos'](_0x426eee);_0x54b7ca=new THREE[(_0x40d22b(0x177))](_0x347db8,_0x3c219d,_0x39537b);}let _0x552e32=null;const _0x234f20=dxGridInput[_0x40d22b(0x209)];if(_0x234f20&&isValidGrid(_0x234f20)){const _0x1ec78c=maidenheadToLatLon(_0x234f20),_0x4c669e=new Astronomy['Observer'](_0x1ec78c[_0x40d22b(0x163)],_0x1ec78c[_0x40d22b(0x1c0)],0x0),_0x494a2d=Astronomy[_0x40d22b(0x1be)](Astronomy[_0x40d22b(0x243)][_0x40d22b(0x1ef)],_0x4003e5,_0x4c669e,!![],![]),_0x4d9a9b=Astronomy['Horizon'](_0x4003e5,_0x4c669e,_0x494a2d['ra'],_0x494a2d[_0x40d22b(0x214)],_0x40d22b(0x1c7)),_0x2566aa=_0x4d9a9b[_0x40d22b(0x1f7)],_0x3c0f53=_0x4d9a9b[_0x40d22b(0x20b)];_0x552e32={'az':_0x2566aa,'el':_0x3c0f53};}return{'moon':{'pos':_0x1f23df,'az':_0x1b7cb3,'el':_0x1efca0,'time':_0x4003e5},'sun':{'pos':_0x54b7ca,'az':_0x272f5b,'el':_0x5ad896,'time':_0x4003e5},'dxMoon':_0x552e32};}function isTrackable(){const _0x1beedd=_0x435390,_0x1c083d=getCurrentPositions();if(!_0x1c083d)return![];const _0x2abcef=_0x1c083d[_0x1beedd(0x206)]['el']>0x0,_0x25cad0=showSunCheckbox['checked']&&_0x1c083d[_0x1beedd(0x1ec)]['el']>0x0;return _0x2abcef||_0x25cad0;}function updateTrackButtonState(){const _0x33c54d=isTrackable();trackButton['disabled']=!_0x33c54d&&!autoTracking;}function updateTracking(){const _0x1c0171=_0x435390;if(!autoTracking)return;currentRealTimeData=getCurrentPositions();const _0x236e89=currentRealTimeData,_0x4220c0=_0x236e89[_0x1c0171(0x206)]['el']>0x0,_0x3a7ffc=showSunCheckbox[_0x1c0171(0x1dc)]&&_0x236e89[_0x1c0171(0x1ec)]['el']>0x0;if(!_0x4220c0&&!_0x3a7ffc){stopTracking();return;}updateMoonMarker(),updateSunMarker(),updateTimeDisplay(),updateTrackButtonState();}function startTracking(){const _0x566c25=_0x435390,_0x453c5c=new Date(),_0x29ac6e=_0x453c5c[_0x566c25(0x173)]()[_0x566c25(0x1db)]('T')[0x0];datePicker[_0x566c25(0x209)]!==_0x29ac6e&&(datePicker[_0x566c25(0x209)]=_0x29ac6e,addTrajectories(_0x29ac6e));currentRealTimeData=getCurrentPositions(),isRealTime=!![],timeSlider[_0x566c25(0x1c2)]=!![],updateMoonMarker(),updateSunMarker(),updateTimeDisplay(),trackButton['textContent']=_0x566c25(0x1fa),autoTracking=!![];const _0xcf6b38=new Date(),_0x58a581=_0xcf6b38[_0x566c25(0x236)](),_0x41ca19=(0x3c-_0x58a581)*0x3e8-_0xcf6b38[_0x566c25(0x20c)]();trackingTimeout=setTimeout(()=>{updateTracking(),trackingInterval=setInterval(updateTracking,0xea60);},_0x41ca19);}function stopTracking(){const _0x42a91c=_0x435390;if(trackingInterval)clearInterval(trackingInterval);if(trackingTimeout)clearTimeout(trackingTimeout);autoTracking=![],isRealTime=![],currentRealTimeData=null,timeSlider[_0x42a91c(0x1c2)]=moonPositions['length']===0x0,trackButton[_0x42a91c(0x1df)]=_0x42a91c(0x183);const _0x3011cf=new Date(),_0x36f5ba=_0x3011cf['getUTCHours']()*0x3c+_0x3011cf['getUTCMinutes'](),_0x3f4122=Math['round'](_0x36f5ba/0xa);_0x3f4122>=0x0&&_0x3f4122<moonPositions[_0x42a91c(0x197)]&&(currentTimeIndex=_0x3f4122),updateTimeSlider(),updateTrackButtonState();}function _0x555b(_0x57d2e2,_0x372688){_0x57d2e2=_0x57d2e2-0x154;const _0x2c5931=_0x2c59();let _0x555be9=_0x2c5931[_0x57d2e2];return _0x555be9;}function drawColorBar(){const _0x506ec7=_0x435390;if(minNoise===Infinity||maxNoise===-Infinity){colorBarContainer[_0x506ec7(0x159)][_0x506ec7(0x1c4)]=_0x506ec7(0x213);return;}colorBarContainer[_0x506ec7(0x159)][_0x506ec7(0x1c4)]=_0x506ec7(0x1f0),minNoiseLabel[_0x506ec7(0x1df)]=minNoise[_0x506ec7(0x1ca)](0x2)+'\x20dB',maxNoiseLabel[_0x506ec7(0x1df)]=maxNoise[_0x506ec7(0x1ca)](0x2)+_0x506ec7(0x178);const _0x45b600=window[_0x506ec7(0x23b)]||0x1,_0xd8a767=getComputedStyle(colorBarCanvas),_0x53e152=parseFloat(_0xd8a767[_0x506ec7(0x16c)]),_0x38e295=parseFloat(_0xd8a767[_0x506ec7(0x1a1)]);colorBarCanvas['width']=_0x53e152*_0x45b600,colorBarCanvas[_0x506ec7(0x1a1)]=_0x38e295*_0x45b600,colorBarContext[_0x506ec7(0x202)](_0x45b600,_0x45b600),colorBarContext[_0x506ec7(0x1f4)](),colorBarContext[_0x506ec7(0x187)](0x1,0x0,0x0,0x1,0x0,0x0),colorBarContext[_0x506ec7(0x1f8)](0x0,0x0,colorBarCanvas[_0x506ec7(0x16c)],colorBarCanvas['height']);const _0x3ad4ff=colorBarContext[_0x506ec7(0x1b8)](0x0,colorBarCanvas[_0x506ec7(0x1a1)],0x0,0x0);for(let _0xd175e2=0x0;_0xd175e2<=0x1;_0xd175e2+=0.1){const _0x4f8a6f=_0xd175e2,_0x24c7da=new THREE[(_0x506ec7(0x167))]()[_0x506ec7(0x195)](0.7-_0x4f8a6f*0.7,0x1,0.5);_0x3ad4ff[_0x506ec7(0x21a)](_0xd175e2,'#'+_0x24c7da[_0x506ec7(0x18b)]());}colorBarContext[_0x506ec7(0x22e)]=_0x3ad4ff,colorBarContext[_0x506ec7(0x219)](0x0,0x0,colorBarCanvas[_0x506ec7(0x16c)],colorBarCanvas[_0x506ec7(0x1a1)]);let _0x8f2ec6,_0x1f1ed6,_0x302d6c=![];if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x506ec7(0x206)]['el']>0x0&&rawPoints[_0x506ec7(0x197)])_0x302d6c=!![],_0x8f2ec6=currentRealTimeData[_0x506ec7(0x206)]['az'],_0x1f1ed6=currentRealTimeData[_0x506ec7(0x206)]['el'];else{if(!isRealTime&&moonPositions[_0x506ec7(0x197)]&&moonPositions[currentTimeIndex]&&moonPositions[currentTimeIndex][_0x506ec7(0x166)]>0x0&&rawPoints['length']){_0x302d6c=!![];const _0x46318b=moonPositions[currentTimeIndex];_0x8f2ec6=_0x46318b[_0x506ec7(0x1f7)],_0x1f1ed6=_0x46318b[_0x506ec7(0x166)];}}if(_0x302d6c){const _0x2163da=interpolateNoiseAtPosition(_0x8f2ec6,_0x1f1ed6);if(_0x2163da){const _0x51e634=_0x2163da[_0x506ec7(0x1a5)],_0xd88ec7=maxNoise-minNoise===0x0?0.5:(_0x51e634-minNoise)/(maxNoise-minNoise);let _0x18a16c=colorBarCanvas['height']*(0x1-_0xd88ec7);_0x18a16c=Math[_0x506ec7(0x16d)](0x2*_0x45b600,Math[_0x506ec7(0x23f)](colorBarCanvas[_0x506ec7(0x1a1)]-0x2*_0x45b600,_0x18a16c));const _0x249b29=window[_0x506ec7(0x165)]<=0x258||window[_0x506ec7(0x200)]('(orientation:\x20portrait)')[_0x506ec7(0x154)],_0x498800=_0x249b29?0xc:0x12,_0xb68a37=_0x249b29?0xe:0x16,_0x4afb08=_0x249b29?0xc:0xe;colorBarContext[_0x506ec7(0x1e8)]=_0x506ec7(0x189),colorBarContext[_0x506ec7(0x1fc)]=0x2*_0x45b600,colorBarContext[_0x506ec7(0x1ba)](),colorBarContext[_0x506ec7(0x218)](colorBarCanvas[_0x506ec7(0x16c)],_0x18a16c),colorBarContext['lineTo'](colorBarCanvas['width']+_0x498800*_0x45b600,_0x18a16c-_0x498800/0x2*_0x45b600),colorBarContext[_0x506ec7(0x207)](colorBarCanvas['width']+_0x498800*_0x45b600,_0x18a16c+_0x498800/0x2*_0x45b600),colorBarContext['closePath'](),colorBarContext['stroke'](),colorBarContext[_0x506ec7(0x22e)]='#ffffff',colorBarContext[_0x506ec7(0x220)](),colorBarContext[_0x506ec7(0x22e)]=_0x506ec7(0x155),colorBarContext['strokeStyle']=_0x506ec7(0x189),colorBarContext[_0x506ec7(0x1fc)]=0x1*_0x45b600,colorBarContext['font']='bold\x20'+_0x4afb08*_0x45b600+_0x506ec7(0x227),colorBarContext['textAlign']=_0x506ec7(0x1a6),colorBarContext[_0x506ec7(0x1fb)]=_0x506ec7(0x16b),colorBarContext[_0x506ec7(0x1f6)](_0x51e634[_0x506ec7(0x1ca)](0x2)+_0x506ec7(0x178),colorBarCanvas[_0x506ec7(0x16c)]+_0xb68a37*_0x45b600,_0x18a16c),colorBarContext[_0x506ec7(0x21c)](_0x51e634[_0x506ec7(0x1ca)](0x2)+_0x506ec7(0x178),colorBarCanvas[_0x506ec7(0x16c)]+_0xb68a37*_0x45b600,_0x18a16c),colorBarContext[_0x506ec7(0x22e)]=_0x506ec7(0x1ff),colorBarContext['fillRect'](0x0,_0x18a16c-0x2*_0x45b600,0x5*_0x45b600,0x4*_0x45b600);}}colorBarContext['restore']();}function updateMoonMarker(){const _0x2d5072=_0x435390;let _0xfedf6f;if(isRealTime){if(!currentRealTimeData){if(moonMarker)moonMarker['visible']=![];return![];}const _0x5a48fd=currentRealTimeData['moon'];if(_0x5a48fd['el']<=0x0){if(moonMarker)moonMarker['visible']=![];return![];}_0xfedf6f=_0x5a48fd['pos'][_0x2d5072(0x20a)]()[_0x2d5072(0x171)](MARKER_SCALE);}else{if(!moonPositions[_0x2d5072(0x197)]||!moonPositions[currentTimeIndex]){if(moonMarker)moonMarker['visible']=![];return![];}const _0x2219e8=moonPositions[currentTimeIndex];if(_0x2219e8[_0x2d5072(0x166)]<=0x0){if(moonMarker)moonMarker[_0x2d5072(0x21e)]=![];return![];}_0xfedf6f=_0x2219e8[_0x2d5072(0x1e1)][_0x2d5072(0x20a)]()[_0x2d5072(0x171)](MARKER_SCALE);}if(!moonMarker){const _0x2946cf=new THREE[(_0x2d5072(0x1b1))](0.03),_0x346297=new THREE[(_0x2d5072(0x160))]({'color':0xffffff});moonMarker=new THREE[(_0x2d5072(0x1d0))](_0x2946cf,_0x346297),scene[_0x2d5072(0x1a4)](moonMarker);}return moonMarker[_0x2d5072(0x21e)]=!![],moonMarker[_0x2d5072(0x1e1)][_0x2d5072(0x181)](_0xfedf6f),!![];}function updateSunMarker(){const _0x99cd64=_0x435390;let _0x58d683;if(isRealTime){if(!currentRealTimeData||!showSunCheckbox[_0x99cd64(0x1dc)]){if(sunMarker)sunMarker[_0x99cd64(0x21e)]=![];return![];}const _0x31113b=currentRealTimeData[_0x99cd64(0x1ec)];if(_0x31113b['el']<=0x0){if(sunMarker)sunMarker[_0x99cd64(0x21e)]=![];return![];}_0x58d683=_0x31113b['pos'][_0x99cd64(0x20a)]()['multiplyScalar'](MARKER_SCALE);}else{if(!sunPositions[_0x99cd64(0x197)]||!showSunCheckbox[_0x99cd64(0x1dc)]||!sunPositions[currentTimeIndex]){if(sunMarker)sunMarker['visible']=![];return![];}const _0x231a9c=sunPositions[currentTimeIndex];if(_0x231a9c['elevation']<=0x0){if(sunMarker)sunMarker[_0x99cd64(0x21e)]=![];return![];}_0x58d683=_0x231a9c[_0x99cd64(0x1e1)][_0x99cd64(0x20a)]()[_0x99cd64(0x171)](MARKER_SCALE);}if(!sunMarker){const _0x4309e5=new THREE[(_0x99cd64(0x1b1))](0.02),_0x220df3=new THREE[(_0x99cd64(0x160))]({'color':0xffa500});sunMarker=new THREE[(_0x99cd64(0x1d0))](_0x4309e5,_0x220df3),scene[_0x99cd64(0x1a4)](sunMarker);}return sunMarker[_0x99cd64(0x21e)]=!![],sunMarker[_0x99cd64(0x1e1)][_0x99cd64(0x181)](_0x58d683),!![];}function updateInfoBox(){const _0x439d64=_0x435390;let _0x528e85='';if(isRealTime){if(!currentRealTimeData){infoBox[_0x439d64(0x1fd)]=_0x439d64(0x15d),infoBox['style']['display']='block';return;}const _0x3ff7fc=currentRealTimeData;if(_0x3ff7fc[_0x439d64(0x206)]['el']>0x0){const _0x4f3b32=interpolateNoiseAtPosition(_0x3ff7fc[_0x439d64(0x206)]['az'],_0x3ff7fc[_0x439d64(0x206)]['el']),_0x1ca5eb=_0x4f3b32?'Noise:\x20'+_0x4f3b32[_0x439d64(0x1a5)]['toFixed'](0x2)+_0x439d64(0x178):_0x439d64(0x1a7);_0x528e85+=_0x439d64(0x1d2)+_0x3ff7fc['moon']['az'][_0x439d64(0x1ca)](0x1)+_0x439d64(0x1d3)+_0x3ff7fc['moon']['el']['toFixed'](0x1)+'°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ca5eb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x528e85+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Moon\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x3ff7fc[_0x439d64(0x22d)]&&(_0x528e85+=_0x439d64(0x1e6),_0x3ff7fc['dxMoon']['el']>0x0?(_0x528e85+=_0x439d64(0x23d)+_0x3ff7fc[_0x439d64(0x22d)]['az'][_0x439d64(0x1ca)](0x1)+'°\x20El:\x20'+_0x3ff7fc[_0x439d64(0x22d)]['el'][_0x439d64(0x1ca)](0x1)+_0x439d64(0x15f),_0x3ff7fc[_0x439d64(0x206)]['el']>0x0&&_0x3ff7fc[_0x439d64(0x22d)]['el']>0x0&&(_0x528e85+=_0x439d64(0x190))):_0x528e85+=_0x439d64(0x241)),showSunCheckbox[_0x439d64(0x1dc)]&&(_0x528e85+=_0x439d64(0x1e6),_0x3ff7fc['sun']['el']>0x0?_0x528e85+=_0x439d64(0x22b)+_0x3ff7fc[_0x439d64(0x1ec)]['az'][_0x439d64(0x1ca)](0x1)+_0x439d64(0x1d3)+_0x3ff7fc[_0x439d64(0x1ec)]['el']['toFixed'](0x1)+_0x439d64(0x15f):_0x528e85+=_0x439d64(0x17e));}else{if(moonPositions[_0x439d64(0x197)]&&moonPositions[currentTimeIndex]){const _0x4b22ab=moonPositions[currentTimeIndex];if(_0x4b22ab[_0x439d64(0x166)]>0x0){const _0x441740=interpolateNoiseAtPosition(_0x4b22ab[_0x439d64(0x1f7)],_0x4b22ab[_0x439d64(0x166)]),_0x85917b=_0x441740?_0x439d64(0x1b4)+_0x441740[_0x439d64(0x1a5)][_0x439d64(0x1ca)](0x2)+_0x439d64(0x178):_0x439d64(0x1a7);_0x528e85+=_0x439d64(0x174)+_0x4b22ab[_0x439d64(0x1f7)][_0x439d64(0x1ca)](0x1)+'°\x20El:\x20'+_0x4b22ab[_0x439d64(0x166)][_0x439d64(0x1ca)](0x1)+_0x439d64(0x193)+_0x85917b+_0x439d64(0x1d6);}else _0x528e85+=_0x439d64(0x1bc);}else _0x528e85+=_0x439d64(0x1b6);if(dxMoonPositions[_0x439d64(0x197)]&&dxMoonPositions[currentTimeIndex]){const _0x2650bb=dxMoonPositions[currentTimeIndex];_0x528e85+=_0x439d64(0x1e6),_0x2650bb[_0x439d64(0x166)]>0x0?_0x528e85+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>DX\x20Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x2650bb['azimuth'][_0x439d64(0x1ca)](0x1)+_0x439d64(0x1d3)+_0x2650bb[_0x439d64(0x166)]['toFixed'](0x1)+'°\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x528e85+=_0x439d64(0x241);}if(showSunCheckbox[_0x439d64(0x1dc)]&&sunPositions[_0x439d64(0x197)]&&sunPositions[currentTimeIndex]){const _0x46184c=sunPositions[currentTimeIndex];_0x528e85+=_0x439d64(0x1e6),_0x46184c['elevation']>0x0?_0x528e85+=_0x439d64(0x22b)+_0x46184c['azimuth']['toFixed'](0x1)+'°\x20El:\x20'+_0x46184c[_0x439d64(0x166)][_0x439d64(0x1ca)](0x1)+_0x439d64(0x15f):_0x528e85+=_0x439d64(0x17e);}else showSunCheckbox[_0x439d64(0x1dc)]&&(_0x528e85+=_0x439d64(0x1c3));}infoBox['innerHTML']=_0x528e85,infoBox['style'][_0x439d64(0x1c4)]=_0x439d64(0x158);}function updateTimeDisplay(){const _0x4db2b7=_0x435390;let _0x463a85,_0x42fdee,_0x5af3ea;if(isRealTime){if(!currentRealTimeData){moonTimeDisplay[_0x4db2b7(0x1df)]=_0x4db2b7(0x238),updateInfoBox(),drawColorBar();return;}_0x463a85=currentRealTimeData[_0x4db2b7(0x206)]['time'],_0x42fdee=currentRealTimeData[_0x4db2b7(0x206)]['el']>0x0,_0x5af3ea=showSunCheckbox[_0x4db2b7(0x1dc)]&&currentRealTimeData['sun']['el']>0x0;}else{if(!moonPositions[_0x4db2b7(0x197)]||!moonPositions[currentTimeIndex]){moonTimeDisplay['textContent']=_0x4db2b7(0x238),updateInfoBox(),drawColorBar();return;}_0x463a85=moonPositions[currentTimeIndex][_0x4db2b7(0x15b)],_0x42fdee=moonPositions[currentTimeIndex][_0x4db2b7(0x166)]>0x0,_0x5af3ea=showSunCheckbox[_0x4db2b7(0x1dc)]&&sunPositions[currentTimeIndex]?.['elevation']>0x0;}if(_0x42fdee||_0x5af3ea){const _0x4abd34=String(_0x463a85[_0x4db2b7(0x1bf)]())[_0x4db2b7(0x169)](0x2,'0'),_0x20310c=String(_0x463a85[_0x4db2b7(0x18d)]())[_0x4db2b7(0x169)](0x2,'0');moonTimeDisplay[_0x4db2b7(0x1df)]=_0x4abd34+':'+_0x20310c+_0x4db2b7(0x184);}else moonTimeDisplay[_0x4db2b7(0x1df)]='--:--\x20UTC';updateInfoBox(),drawColorBar();}function _0x2c59(){const _0x639bc3=['Group','getUTCMinutes','Error\x20loading\x20demo\x20CSV:','Box3','<br><span\x20style=\x22color:\x20lime;\x22>Common\x20window</span>','red','innerHeight','°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','skyObserverCsv','setHSL','datePicker','length','demoStatus','setFromPoints','target','9332255rwEAug','Error:\x20Invalid\x20CSV\x20format','Line','Enter\x20your\x20locator','True','RingGeometry','height','maxNoiseLabel','map','add','noise','left','Noise:\x20N/A','filter','Elevation','colorBarContainer','removeItem','domElement','FontLoader','addEventListener','demo.csv','Noise','SphereGeometry','orientationchange','Noise:\x20N/A\x20(Outside\x20Dome)','Noise:\x20','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Moon\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','createLinearGradient','showSun','beginPath','clientX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Moon\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','Equator','getUTCHours','lon','#fff','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br><b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sun\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','gestureend','getElementById','normal','getItem','setScalar','toFixed','addTrajectories','°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Noise:\x20','1545425kLkUgc','parse','enabled','Mesh','slice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','°\x20El:\x20','18axKyXZ','click','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','This\x20is\x20a\x20DEMO!\x20Load\x20your\x20CSV\x20file\x20and\x20enter\x20your\x20locator','touchstart','stopPropagation','setFromCamera','split','checked','DoubleSide','Observer','textContent','charCodeAt','position','data','touchend','setItem','rotation','<br>','updateProjectionMatrix','strokeStyle','getSize','4912929kvhvnr','MathUtils','sun','uploaded','appendChild','Moon','flex','meta','degToRad','text','save','borderColor','strokeText','azimuth','clearRect','div','Stop','textBaseline','lineWidth','innerHTML','nextDate','#ff0000','matchMedia','rotateSpeed','scale','CatmullRomCurve3','stored','13174580OyrgLh','moon','lineTo','8cXDZJx','value','clone','altitude','getUTCMilliseconds','TextGeometry','https://threejs.org/examples/fonts/helvetiker_regular.typeface.json','cos','every','then','elStep','none','dec','lookAt','object','set','moveTo','fillRect','addColorStop','userData','fillText','gridInput','visible','replace','fill','skyObserverGrid','push','input','clientY','abs','gesturechange','px\x20Segoe\x20UI','error','getUTCMonth','Valid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','csvUpload','dxMoon','fillStyle','getUTCDate','\x20dB\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','Error:\x20No\x20valid\x20data\x20points\x20in\x20CSV','12304602esRSQy','body','BufferGeometry','getUTCSeconds','trackButton','--:--\x20UTC','setUTCDate','distance','devicePixelRatio','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>DX\x20Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','change','min','Sun','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>DX\x20Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DX\x20Moon\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sort','Body','Error:\x20CSV\x20must\x20contain\x20Azimuth,\x20Elevation,\x20and\x20Noise\x20columns','TubeGeometry','matches','#ffffff','Horizon','render','block','style','moonTimeDisplay','time','Vector2','No\x20data','1351813PuMdcm','°\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MeshBasicMaterial','toUpperCase','sin','lat','WebGLRenderer','innerWidth','elevation','Color','clear','padStart','2KCJtui','middle','width','max','intersectObjects','changedTouches','getTime','multiplyScalar','preventDefault','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20','azStep','test','Vector3','\x20dB','5544328yAGpSx','resize','Azimuth','reduce','LineBasicMaterial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sun\x20below\x20horizon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PerspectiveCamera','timeSlider','copy','forEach','Track','\x20UTC','onload','demo','setTransform','minNoiseLabel','#000000','divideScalar','getHexString'];_0x2c59=function(){return _0x639bc3;};return _0x2c59();}function updateTimeSlider(){const _0x47deeb=_0x435390;if(isRealTime)return;timeSlider[_0x47deeb(0x23f)]=0x0,timeSlider[_0x47deeb(0x16d)]=moonPositions[_0x47deeb(0x197)]-0x1||0x0,timeSlider[_0x47deeb(0x209)]=currentTimeIndex,timeSlider[_0x47deeb(0x1c2)]=moonPositions['length']===0x0,updateMoonMarker(),updateSunMarker(),updateTimeDisplay();}function changeTime(_0x21ae52){const _0x341ef9=_0x435390;if(isRealTime||!moonPositions[_0x341ef9(0x197)])return;currentTimeIndex=Math[_0x341ef9(0x16d)](0x0,Math['min'](_0x21ae52,moonPositions[_0x341ef9(0x197)]-0x1)),updateMoonMarker(),updateSunMarker(),updateTimeDisplay();}function changeDate(_0x3bcefd){const _0x3f1f30=_0x435390;isRealTime&&stopTracking();let _0x1a7e38=datePicker['value']?new Date(datePicker[_0x3f1f30(0x209)]):new Date();_0x1a7e38[_0x3f1f30(0x239)](_0x1a7e38['getUTCDate']()+_0x3bcefd);const _0x4a7ff6=_0x1a7e38['getUTCFullYear'](),_0x23d489=String(_0x1a7e38[_0x3f1f30(0x229)]()+0x1)[_0x3f1f30(0x169)](0x2,'0'),_0x36da31=String(_0x1a7e38[_0x3f1f30(0x22f)]())[_0x3f1f30(0x169)](0x2,'0');datePicker[_0x3f1f30(0x209)]=_0x4a7ff6+'-'+_0x23d489+'-'+_0x36da31,addTrajectories(datePicker[_0x3f1f30(0x209)]);}timeSlider['addEventListener'](_0x435390(0x223),_0x33a0db=>{const _0x1c5602=_0x435390;if(isRealTime)return;_0x33a0db[_0x1c5602(0x1d9)](),changeTime(parseInt(_0x33a0db[_0x1c5602(0x19a)][_0x1c5602(0x209)]));}),timeSlider[_0x435390(0x1ae)](_0x435390(0x1d8),_0x26e4de=>{const _0x1b2499=_0x435390;_0x26e4de['stopPropagation'](),controls[_0x1b2499(0x1cf)]=![];}),timeSlider[_0x435390(0x1ae)](_0x435390(0x1e3),_0x4ad4c3=>{const _0x2c1437=_0x435390;_0x4ad4c3['stopPropagation'](),controls[_0x2c1437(0x1cf)]=!![];}),timeSlider[_0x435390(0x1ae)]('touchcancel',_0x195bc7=>{const _0xd97f8=_0x435390;_0x195bc7[_0xd97f8(0x1d9)](),controls[_0xd97f8(0x1cf)]=!![];}),datePicker['addEventListener'](_0x435390(0x23e),_0x58c879=>{isRealTime&&stopTracking();const _0x47244e=_0x58c879['target']['value'];_0x47244e&&addTrajectories(_0x47244e);}),prevDateBtn[_0x435390(0x1ae)](_0x435390(0x1d5),()=>changeDate(-0x1)),nextDateBtn[_0x435390(0x1ae)](_0x435390(0x1d5),()=>changeDate(0x1)),showSunCheckbox[_0x435390(0x1ae)](_0x435390(0x23e),()=>{const _0x183557=_0x435390;sunTrajectoryGroup['visible']=showSunCheckbox[_0x183557(0x1dc)],isRealTime?updateTracking():(updateSunMarker(),updateTimeDisplay()),updateTrackButtonState();}),trackButton[_0x435390(0x1ae)](_0x435390(0x1d5),()=>{autoTracking?stopTracking():isTrackable()&&startTracking();});function isValidGrid(_0x24f66c){const _0x398fac=_0x435390;if(!_0x24f66c||_0x24f66c['length']<0x4||_0x24f66c[_0x398fac(0x197)]>0x6)return![];_0x24f66c=_0x24f66c['toUpperCase']();const _0x2a3c36=/^[A-R]{2}[0-9]{2}([A-X]{2})?$/;return _0x2a3c36[_0x398fac(0x176)](_0x24f66c);}function updateDemoStatus(){const _0x3237b6=_0x435390,_0x363386=gridInput[_0x3237b6(0x209)]&&isValidGrid(gridInput[_0x3237b6(0x209)]),_0x33ca01=rawPoints[_0x3237b6(0x197)]>0x0&&!isDemoData;if(_0x363386&&_0x33ca01)demoStatus[_0x3237b6(0x159)]['display']=_0x3237b6(0x213);else{demoStatus['style'][_0x3237b6(0x1c4)]=_0x3237b6(0x158),demoStatus[_0x3237b6(0x159)]['color']=_0x3237b6(0x191);if(!_0x363386&&!_0x33ca01)demoStatus[_0x3237b6(0x1df)]=_0x3237b6(0x1d7);else!_0x363386?demoStatus[_0x3237b6(0x1df)]=_0x3237b6(0x19e):demoStatus[_0x3237b6(0x1df)]='This\x20is\x20a\x20DEMO!\x20Load\x20your\x20CSV\x20file';}}gridInput[_0x435390(0x1ae)](_0x435390(0x223),()=>{const _0x4c271f=_0x435390,_0x56439d=gridInput[_0x4c271f(0x209)],_0x54ab68=isValidGrid(_0x56439d);gridInput[_0x4c271f(0x159)][_0x4c271f(0x1f5)]=_0x54ab68?_0x4c271f(0x1c1):_0x4c271f(0x191);if(_0x54ab68){localStorage[_0x4c271f(0x1e4)]('skyObserverGrid',_0x56439d);const _0x5e3b95=datePicker[_0x4c271f(0x209)]||new Date()['toISOString']()[_0x4c271f(0x1db)]('T')[0x0];addTrajectories(_0x5e3b95),updateTrackButtonState(),isRealTime&&updateTracking();}isRealTime&&stopTracking(),updateDemoStatus();}),dxGridInput['addEventListener']('input',()=>{const _0x450670=_0x435390,_0x38c0a6=dxGridInput[_0x450670(0x209)];if(_0x38c0a6&&isValidGrid(_0x38c0a6))dxGridInput[_0x450670(0x159)]['borderColor']=_0x450670(0x1c1);else _0x38c0a6?dxGridInput[_0x450670(0x159)][_0x450670(0x1f5)]=_0x450670(0x191):dxGridInput[_0x450670(0x159)][_0x450670(0x1f5)]=_0x450670(0x1c1);const _0x23d029=datePicker[_0x450670(0x209)]||new Date()['toISOString']()[_0x450670(0x1db)]('T')[0x0];addTrajectories(_0x23d029),isRealTime&&updateTracking();});function maidenheadToLatLon(_0x4492ef){const _0x43187b=_0x435390;if(!_0x4492ef||_0x4492ef[_0x43187b(0x197)]<0x4)return null;_0x4492ef=_0x4492ef[_0x43187b(0x161)]();const _0x4c236e='A'['charCodeAt'](0x0);let _0x4ba918=(_0x4492ef[_0x43187b(0x1e0)](0x0)-_0x4c236e)*0x14-0xb4,_0x32a2b6=(_0x4492ef[_0x43187b(0x1e0)](0x1)-_0x4c236e)*0xa-0x5a;return _0x4ba918+=parseInt(_0x4492ef[0x2])*0x2,_0x32a2b6+=parseInt(_0x4492ef[0x3])*0x1,_0x4492ef[_0x43187b(0x197)]>=0x6&&(_0x4ba918+=(_0x4492ef['charCodeAt'](0x4)-_0x4c236e)*0x5/0x3c,_0x32a2b6+=(_0x4492ef[_0x43187b(0x1e0)](0x5)-_0x4c236e)*2.5/0x3c),_0x4ba918+=2.5/0x3c,_0x32a2b6+=1.25/0x3c,{'lat':_0x32a2b6,'lon':_0x4ba918};}const infoBox=document['createElement'](_0x435390(0x1f9));infoBox['id']='infoBox',document[_0x435390(0x234)][_0x435390(0x1ee)](infoBox);function addAzimuthCompass(){const _0x35ab41=_0x435390,_0x5a9e2e=1.05,_0xf8c4fd=1.2,_0x1a7862=new THREE[(_0x35ab41(0x18c))](),_0x303750=new THREE[(_0x35ab41(0x1ad))]();_0x303750['load'](_0x35ab41(0x20e),function(_0xd4c4d5){const _0x5cf3fb=_0x35ab41,_0x21a14e=[{'label':'N','az':0x0,'color':0xff0000},{'label':'E','az':0x5a,'color':0xffffff},{'label':'S','az':0xb4,'color':0xffffff},{'label':'W','az':0x10e,'color':0xffffff}];_0x21a14e['forEach'](_0x48a52b=>{const _0x5b58ea=_0x555b,_0x4c09a4=THREE[_0x5b58ea(0x1eb)][_0x5b58ea(0x1f2)](0x168-_0x48a52b['az']),_0x401f81=_0xf8c4fd*Math[_0x5b58ea(0x162)](_0x4c09a4),_0x549f24=_0xf8c4fd*Math[_0x5b58ea(0x20f)](_0x4c09a4),_0x4a979c=0x0,_0x2fa9e4=new THREE[(_0x5b58ea(0x20d))](_0x48a52b['label'],{'font':_0xd4c4d5,'size':0.1,'height':0.001}),_0x57a7bb=new THREE[(_0x5b58ea(0x160))]({'color':_0x48a52b[_0x5b58ea(0x1b5)]}),_0x78eb92=new THREE[(_0x5b58ea(0x1d0))](_0x2fa9e4,_0x57a7bb);_0x78eb92[_0x5b58ea(0x1e1)]['set'](_0x401f81,_0x4a979c,_0x549f24),_0x78eb92['lookAt'](0x0,0x0,0x0),_0x1a7862['add'](_0x78eb92);});const _0x4f0da5=new THREE[(_0x5cf3fb(0x1a0))](_0x5a9e2e-0.002,_0x5a9e2e+0.002,0x100),_0x54e628=new THREE[(_0x5cf3fb(0x160))]({'color':0xffffff,'side':THREE[_0x5cf3fb(0x1dd)],'transparent':!![],'opacity':0.9}),_0x4aa5e4=new THREE['Mesh'](_0x4f0da5,_0x54e628);_0x4aa5e4['rotation']['x']=-Math['PI']/0x2,_0x4aa5e4['position']['y']=0x0,_0x1a7862[_0x5cf3fb(0x1a4)](_0x4aa5e4);for(let _0x537003=0x0;_0x537003<0x168;_0x537003+=0xa){const _0x38d423=THREE[_0x5cf3fb(0x1eb)][_0x5cf3fb(0x1f2)](0x168-_0x537003),_0x525d83=_0x537003%0x1e===0x0,_0x7a87f5=_0x5a9e2e+0.02,_0x160520=_0x5a9e2e-(_0x525d83?0.05:0.02),_0x440779=_0x160520*Math[_0x5cf3fb(0x20f)](_0x38d423),_0x1658d7=_0x160520*Math['sin'](_0x38d423),_0x3fb412=_0x7a87f5*Math[_0x5cf3fb(0x20f)](_0x38d423),_0x311325=_0x7a87f5*Math['sin'](_0x38d423),_0xf4625b=new THREE[(_0x5cf3fb(0x235))]()[_0x5cf3fb(0x199)]([new THREE['Vector3'](_0x440779,0x0,_0x1658d7),new THREE[(_0x5cf3fb(0x177))](_0x3fb412,0x0,_0x311325)]),_0x3f03e3=new THREE[(_0x5cf3fb(0x17d))]({'color':0xffffff,'transparent':!![],'opacity':_0x525d83?0x1:0.5}),_0x41450e=new THREE[(_0x5cf3fb(0x19d))](_0xf4625b,_0x3f03e3);_0x1a7862[_0x5cf3fb(0x1a4)](_0x41450e);if(_0x525d83&&![0x0,0x5a,0xb4,0x10e][_0x5cf3fb(0x1b7)](_0x537003)){const _0x24aa3c=_0x5a9e2e+0.1,_0xba5696=_0x24aa3c*Math[_0x5cf3fb(0x162)](_0x38d423),_0x55431b=_0x24aa3c*Math[_0x5cf3fb(0x20f)](_0x38d423),_0x25aeb0=new THREE['TextGeometry'](_0x537003['toString'](),{'font':_0xd4c4d5,'size':0.045,'height':0.001}),_0x50df1a=new THREE[(_0x5cf3fb(0x160))]({'color':0xffffff}),_0x4a7840=new THREE['Mesh'](_0x25aeb0,_0x50df1a);_0x4a7840['position'][_0x5cf3fb(0x217)](_0xba5696,0x0,_0x55431b),_0x4a7840[_0x5cf3fb(0x215)](0x0,0x0,0x0),_0x4a7840[_0x5cf3fb(0x1e5)]['y']+=Math['PI'],_0x1a7862[_0x5cf3fb(0x1a4)](_0x4a7840);}}scene[_0x5cf3fb(0x1a4)](_0x1a7862);},undefined,_0x56a740=>{});}function addTrajectories(_0x1c6ce9){const _0x275123=_0x435390,_0x174d29=gridInput[_0x275123(0x209)],_0x1b714b=dxGridInput[_0x275123(0x209)],_0x349311=maidenheadToLatLon(_0x174d29);let _0x1e432b=null;if(_0x1b714b&&isValidGrid(_0x1b714b))_0x1e432b=maidenheadToLatLon(_0x1b714b),dxGridInput[_0x275123(0x159)][_0x275123(0x1f5)]='#fff';else _0x1b714b?dxGridInput['style']['borderColor']=_0x275123(0x191):dxGridInput[_0x275123(0x159)][_0x275123(0x1f5)]=_0x275123(0x1c1);if(!_0x349311){_0x174d29&&(gridInput[_0x275123(0x159)]['borderColor']=_0x275123(0x191));moonTrajectoryGroup[_0x275123(0x168)](),sunTrajectoryGroup[_0x275123(0x168)]();if(moonMarker)scene[_0x275123(0x1bd)](moonMarker);if(sunMarker)scene[_0x275123(0x1bd)](sunMarker);moonMarker=null,sunMarker=null,moonPositions=[],dxMoonPositions=[],sunPositions=[],commonMoonWindow=[],currentTimeIndex=0x0,updateTimeSlider();return;}const _0x23a819=_0x349311[_0x275123(0x163)],_0x43e55f=_0x349311[_0x275123(0x1c0)],_0x453ca3=new Astronomy['Observer'](_0x23a819,_0x43e55f,0x0);let _0xd2a609=null;_0x1e432b&&(_0xd2a609=new Astronomy[(_0x275123(0x1de))](_0x1e432b[_0x275123(0x163)],_0x1e432b[_0x275123(0x1c0)],0x0));const _0x21cce4=_0x1c6ce9?new Date(_0x1c6ce9):new Date(),_0x12dff9=new Date(Date['UTC'](_0x21cce4['getUTCFullYear'](),_0x21cce4[_0x275123(0x229)](),_0x21cce4[_0x275123(0x22f)]())),_0x32e5bb=new Date(_0x12dff9[_0x275123(0x170)]()+0x18*0x3c*0x3c*0x3e8);moonTrajectoryGroup[_0x275123(0x168)](),sunTrajectoryGroup[_0x275123(0x168)]();if(moonMarker)scene['remove'](moonMarker);if(sunMarker)scene[_0x275123(0x1bd)](sunMarker);moonMarker=null,sunMarker=null,moonPositions=[],dxMoonPositions=[],sunPositions=[],commonMoonWindow=[],currentTimeIndex=0x0;let _0xcc1004=[],_0x3a5671=[],_0x2e0aae=[];const _0x43c529=[],_0x40f0c8=[],_0x48610b=[];let _0x3c12e5=-0x1,_0xeeb3ac=-0x1;for(let _0x2b5bd0=0x0;_0x2b5bd0<0x5a0;_0x2b5bd0+=0xa){const _0x5d9095=new Date(_0x12dff9['getTime']()+_0x2b5bd0*0x3c*0x3e8);if(_0x5d9095>=_0x32e5bb)break;const _0x4cd9c5=Astronomy['Equator'](Astronomy[_0x275123(0x243)][_0x275123(0x1ef)],_0x5d9095,_0x453ca3,!![],![]),_0x3e93e7=Astronomy[_0x275123(0x156)](_0x5d9095,_0x453ca3,_0x4cd9c5['ra'],_0x4cd9c5[_0x275123(0x214)],'normal'),_0x1df764=_0x3e93e7[_0x275123(0x20b)],_0x3d463a=_0x3e93e7[_0x275123(0x1f7)],_0x41989f=THREE[_0x275123(0x1eb)][_0x275123(0x1f2)](0x168-_0x3d463a),_0x3fffec=THREE[_0x275123(0x1eb)][_0x275123(0x1f2)](Math[_0x275123(0x16d)](_0x1df764,0x0)),_0x3c6b3d=0x1,_0x3e2329=_0x3c6b3d*Math['cos'](_0x3fffec)*Math[_0x275123(0x162)](_0x41989f),_0x17c7b7=_0x3c6b3d*Math[_0x275123(0x162)](_0x3fffec),_0x2bd930=_0x3c6b3d*Math[_0x275123(0x20f)](_0x3fffec)*Math['cos'](_0x41989f),_0x3c9df5=new THREE[(_0x275123(0x177))](_0x3e2329,_0x17c7b7,_0x2bd930);if(_0x1df764>0x0){_0xcc1004[_0x275123(0x222)](_0x3c9df5);if(_0x3c12e5===-0x1)_0x3c12e5=_0x2b5bd0/0xa;}else{if(_0xcc1004[_0x275123(0x197)]>0x1)_0x43c529[_0x275123(0x222)](_0xcc1004);_0xcc1004=[];}moonPositions['push']({'time':_0x5d9095,'position':_0x3c9df5,'azimuth':_0x3d463a,'elevation':_0x1df764});let _0x4af7c8=![];if(_0xd2a609){const _0x168ded=Astronomy[_0x275123(0x1be)](Astronomy[_0x275123(0x243)][_0x275123(0x1ef)],_0x5d9095,_0xd2a609,!![],![]),_0x58c0c4=Astronomy[_0x275123(0x156)](_0x5d9095,_0xd2a609,_0x168ded['ra'],_0x168ded[_0x275123(0x214)],_0x275123(0x1c7)),_0xde51f1=_0x58c0c4[_0x275123(0x20b)],_0x5e014e=_0x58c0c4[_0x275123(0x1f7)];_0xde51f1>0x0&&_0x1df764>0x0&&(_0x2e0aae[_0x275123(0x222)](_0x3c9df5),_0x4af7c8=!![]),dxMoonPositions[_0x275123(0x222)]({'time':_0x5d9095,'azimuth':_0x5e014e,'elevation':_0xde51f1});}if(_0x4af7c8)commonMoonWindow['push']({'time':_0x5d9095,'index':_0x2b5bd0/0xa});else _0x2e0aae[_0x275123(0x197)]>0x1&&(_0x48610b[_0x275123(0x222)](_0x2e0aae),_0x2e0aae=[]);const _0x3ebae4=Astronomy[_0x275123(0x1be)](Astronomy[_0x275123(0x243)]['Sun'],_0x5d9095,_0x453ca3,!![],![]),_0xf4e42a=Astronomy[_0x275123(0x156)](_0x5d9095,_0x453ca3,_0x3ebae4['ra'],_0x3ebae4[_0x275123(0x214)],_0x275123(0x1c7)),_0x59c59f=_0xf4e42a[_0x275123(0x20b)],_0x373d8c=_0xf4e42a['azimuth'],_0x4e63a7=THREE[_0x275123(0x1eb)][_0x275123(0x1f2)](0x168-_0x373d8c),_0x3a2b8e=THREE['MathUtils'][_0x275123(0x1f2)](Math[_0x275123(0x16d)](_0x59c59f,0x0)),_0x526b31=_0x3c6b3d*Math[_0x275123(0x20f)](_0x3a2b8e)*Math[_0x275123(0x162)](_0x4e63a7),_0x2f5362=_0x3c6b3d*Math[_0x275123(0x162)](_0x3a2b8e),_0xc68c58=_0x3c6b3d*Math['cos'](_0x3a2b8e)*Math['cos'](_0x4e63a7),_0x514547=new THREE['Vector3'](_0x526b31,_0x2f5362,_0xc68c58);if(_0x59c59f>0x0){_0x3a5671[_0x275123(0x222)](_0x514547);if(_0xeeb3ac===-0x1)_0xeeb3ac=_0x2b5bd0/0xa;}else{if(_0x3a5671[_0x275123(0x197)]>0x1)_0x40f0c8[_0x275123(0x222)](_0x3a5671);_0x3a5671=[];}sunPositions[_0x275123(0x222)]({'time':_0x5d9095,'position':_0x514547,'azimuth':_0x373d8c,'elevation':_0x59c59f});}if(_0xcc1004[_0x275123(0x197)]>0x1)_0x43c529[_0x275123(0x222)](_0xcc1004);if(_0x3a5671[_0x275123(0x197)]>0x1)_0x40f0c8[_0x275123(0x222)](_0x3a5671);if(_0x2e0aae['length']>0x1)_0x48610b[_0x275123(0x222)](_0x2e0aae);_0x43c529['forEach'](_0x27cab8=>{const _0x24b5e6=_0x275123;if(_0x27cab8[_0x24b5e6(0x197)]<0x2)return;const _0x3d269f=new THREE[(_0x24b5e6(0x203))](_0x27cab8),_0x49d478=new THREE[(_0x24b5e6(0x245))](_0x3d269f,0x40,0.005,0x8,![]),_0x44f378=new THREE[(_0x24b5e6(0x160))]({'color':0xffff00}),_0x318290=new THREE[(_0x24b5e6(0x1d0))](_0x49d478,_0x44f378);_0x318290[_0x24b5e6(0x21b)]={'isMoonTrajectory':!![]},_0x318290['scale'][_0x24b5e6(0x1c9)](TRAJECTORY_SCALE),moonTrajectoryGroup[_0x24b5e6(0x1a4)](_0x318290);}),_0x48610b[_0x275123(0x182)](_0x43aeba=>{const _0xa70796=_0x275123;if(_0x43aeba[_0xa70796(0x197)]<0x2)return;const _0x3cdfbb=new THREE[(_0xa70796(0x203))](_0x43aeba),_0x3728c0=new THREE[(_0xa70796(0x245))](_0x3cdfbb,0x40,0.007,0x8,![]),_0x37f5ee=new THREE[(_0xa70796(0x160))]({'color':0xff00}),_0x302bd6=new THREE['Mesh'](_0x3728c0,_0x37f5ee);_0x302bd6[_0xa70796(0x21b)]={'isCommonMoonTrajectory':!![]},_0x302bd6['scale']['setScalar'](TRAJECTORY_SCALE),moonTrajectoryGroup['add'](_0x302bd6);}),_0x40f0c8[_0x275123(0x182)](_0x34e230=>{const _0x1944c4=_0x275123;if(_0x34e230[_0x1944c4(0x197)]<0x2)return;const _0x3162f8=new THREE[(_0x1944c4(0x203))](_0x34e230),_0x4512cd=new THREE[(_0x1944c4(0x245))](_0x3162f8,0x40,0.005,0x8,![]),_0x265afb=new THREE[(_0x1944c4(0x160))]({'color':0xffa500}),_0x152d1e=new THREE['Mesh'](_0x4512cd,_0x265afb);_0x152d1e['userData']={'isSunTrajectory':!![]},_0x152d1e[_0x1944c4(0x202)][_0x1944c4(0x1c9)](TRAJECTORY_SCALE),sunTrajectoryGroup[_0x1944c4(0x1a4)](_0x152d1e);}),sunTrajectoryGroup[_0x275123(0x21e)]=showSunCheckbox['checked'];if(_0x3c12e5!==-0x1)currentTimeIndex=_0x3c12e5;else showSunCheckbox[_0x275123(0x1dc)]&&_0xeeb3ac!==-0x1?currentTimeIndex=_0xeeb3ac:currentTimeIndex=0x48;updateTimeSlider();}window[_0x435390(0x1cb)]=addTrajectories;function parseCsvData(_0x468b8e,_0x3d6e63){const _0xa77ee2=_0x435390;isRealTime&&stopTracking(),Papa[_0xa77ee2(0x1ce)](_0x468b8e,{'header':!![],'delimiter':'','skipEmptyLines':!![],'complete':function(_0x5cd4b5){const _0x5186d2=_0xa77ee2;rawPoints[_0x5186d2(0x197)]=0x0,spheres['forEach'](_0x225be1=>scene[_0x5186d2(0x1bd)](_0x225be1)),spheres['length']=0x0,minNoise=Infinity,maxNoise=-Infinity;const _0x6430c1=_0x5cd4b5[_0x5186d2(0x1f1)]['fields'],_0x991864=[_0x5186d2(0x17b),'Elevation',_0x5186d2(0x1b0)],_0x1b6a74=_0x991864[_0x5186d2(0x210)](_0xe8f1d9=>_0x6430c1[_0x5186d2(0x1b7)](_0xe8f1d9));if(!_0x1b6a74){demoStatus[_0x5186d2(0x1df)]=_0x5186d2(0x244),demoStatus[_0x5186d2(0x159)][_0x5186d2(0x1b5)]=_0x5186d2(0x191),demoStatus[_0x5186d2(0x159)]['display']='block';if(_0x3d6e63!==_0x5186d2(0x186))localStorage[_0x5186d2(0x1ab)](_0x5186d2(0x194));return;}_0x5cd4b5[_0x5186d2(0x1e2)]['forEach'](_0x371a96=>{const _0x123466=_0x5186d2;if(_0x371a96[_0x123466(0x22a)]!==undefined&&_0x371a96[_0x123466(0x22a)]!==_0x123466(0x19f))return;const _0x346bfe=parseFloat(_0x371a96[_0x123466(0x17b)]?.[_0x123466(0x21f)](',','.')),_0x4699b4=parseFloat(_0x371a96[_0x123466(0x1a9)]?.['replace'](',','.')),_0xf04264=parseFloat(_0x371a96['Noise']?.['replace'](',','.'));if(isNaN(_0x346bfe)||isNaN(_0x4699b4)||isNaN(_0xf04264))return;minNoise=Math[_0x123466(0x23f)](minNoise,_0xf04264),maxNoise=Math[_0x123466(0x16d)](maxNoise,_0xf04264),rawPoints[_0x123466(0x222)]({'az':_0x346bfe,'el':_0x4699b4,'noise':_0xf04264});});if(rawPoints[_0x5186d2(0x197)]===0x0){demoStatus[_0x5186d2(0x1df)]=_0x5186d2(0x232),demoStatus['style'][_0x5186d2(0x1b5)]=_0x5186d2(0x191),demoStatus['style'][_0x5186d2(0x1c4)]=_0x5186d2(0x158);if(_0x3d6e63!==_0x5186d2(0x186))localStorage[_0x5186d2(0x1ab)](_0x5186d2(0x194));return;}_0x3d6e63!==_0x5186d2(0x186)?(localStorage['setItem']('skyObserverCsv',_0x468b8e),isDemoData=![]):isDemoData=!![];const _0x1690d3=calculateStepSizes();azStep=_0x1690d3[_0x5186d2(0x175)],elStep=_0x1690d3[_0x5186d2(0x212)],rawPoints[_0x5186d2(0x182)](_0x6c8ca9=>{const _0x58e49c=_0x5186d2,_0x3a1323=THREE['MathUtils'][_0x58e49c(0x1f2)](0x168-_0x6c8ca9['az']),_0x303bce=THREE[_0x58e49c(0x1eb)][_0x58e49c(0x1f2)](_0x6c8ca9['el']),_0x2fbcd6=0x1,_0x32e38d=_0x2fbcd6*Math[_0x58e49c(0x20f)](_0x303bce)*Math[_0x58e49c(0x162)](_0x3a1323),_0x402d82=_0x2fbcd6*Math[_0x58e49c(0x162)](_0x303bce),_0x2236a5=_0x2fbcd6*Math[_0x58e49c(0x20f)](_0x303bce)*Math[_0x58e49c(0x20f)](_0x3a1323),_0x3a12cc=new THREE[(_0x58e49c(0x1b1))](0.02,0x8,0x8),_0x4a03c4=new THREE[(_0x58e49c(0x160))]({'color':getColor(_0x6c8ca9[_0x58e49c(0x1a5)])}),_0x479953=new THREE[(_0x58e49c(0x1d0))](_0x3a12cc,_0x4a03c4);_0x479953[_0x58e49c(0x1e1)][_0x58e49c(0x217)](_0x32e38d,_0x402d82,_0x2236a5),_0x479953[_0x58e49c(0x21b)]={'azimuth':_0x6c8ca9['az'],'elevation':_0x6c8ca9['el'],'noise':_0x6c8ca9[_0x58e49c(0x1a5)]},spheres[_0x58e49c(0x222)](_0x479953),scene[_0x58e49c(0x1a4)](_0x479953);});let _0x5c2c07=![];if(rawPoints[_0x5186d2(0x197)]>0x0){const _0x44b91c=[...new Set(rawPoints['map'](_0x44cbdb=>_0x44cbdb['az']))][_0x5186d2(0x242)]((_0x58fb62,_0x57fb5b)=>_0x58fb62-_0x57fb5b),_0x17734f=[...new Set(rawPoints['map'](_0x5932e4=>_0x5932e4['el']))][_0x5186d2(0x242)]((_0x18ce39,_0x1d2d6c)=>_0x18ce39-_0x1d2d6c),_0x47b820=_0x44b91c[_0x44b91c[_0x5186d2(0x197)]-0x1]-_0x44b91c[0x0],_0x43f9dd=_0x17734f[_0x17734f[_0x5186d2(0x197)]-0x1]-_0x17734f[0x0];_0x5c2c07=_0x47b820>0x12c&&_0x43f9dd>0x50;}if(!rawPoints[_0x5186d2(0x197)]||_0x5c2c07){const _0x1c368a=0x2,_0x564c10=THREE['MathUtils'][_0x5186d2(0x1f2)](0xb4),_0x4cc205=THREE[_0x5186d2(0x1eb)][_0x5186d2(0x1f2)](0x1e);camera[_0x5186d2(0x1e1)][_0x5186d2(0x217)](_0x1c368a*Math['cos'](_0x4cc205)*Math['sin'](_0x564c10),_0x1c368a*Math[_0x5186d2(0x162)](_0x4cc205),_0x1c368a*Math['cos'](_0x4cc205)*Math[_0x5186d2(0x20f)](_0x564c10)),camera[_0x5186d2(0x215)](0x0,0x0,0x0),controls[_0x5186d2(0x19a)]['set'](0x0,0x0,0x0);}else{const _0x2db2a5=new THREE[(_0x5186d2(0x18f))]();spheres['forEach'](_0x5e53d1=>_0x2db2a5['expandByPoint'](_0x5e53d1[_0x5186d2(0x1e1)]));const _0x4c978d=new THREE[(_0x5186d2(0x177))]();_0x2db2a5['getCenter'](_0x4c978d);const _0xe0f993=new THREE[(_0x5186d2(0x177))]();_0x2db2a5[_0x5186d2(0x1e9)](_0xe0f993);const _0x39eb35=Math[_0x5186d2(0x16d)](_0xe0f993['x'],_0xe0f993['y'],_0xe0f993['z'])||0x2;let _0x49fb85=new THREE['Vector3']();spheres[_0x5186d2(0x182)](_0x464b4f=>_0x49fb85[_0x5186d2(0x1a4)](_0x464b4f[_0x5186d2(0x1e1)])),_0x49fb85[_0x5186d2(0x18a)](spheres[_0x5186d2(0x197)]);const _0x4c9b56=_0x49fb85['clone']()['normalize'](),_0x3c7eca=_0x39eb35*0x2;camera[_0x5186d2(0x1e1)][_0x5186d2(0x181)](_0x4c9b56[_0x5186d2(0x20a)]()[_0x5186d2(0x171)](_0x3c7eca)),camera['lookAt'](_0x4c978d),controls[_0x5186d2(0x19a)][_0x5186d2(0x181)](_0x4c978d);}controls[_0x5186d2(0x231)](),addAzimuthCompass(),updateTimeDisplay(),updateDemoStatus();},'error':function(_0x2e0a2c){const _0x399b09=_0xa77ee2;demoStatus[_0x399b09(0x1df)]=_0x399b09(0x19c),demoStatus[_0x399b09(0x159)]['color']='red',demoStatus[_0x399b09(0x159)][_0x399b09(0x1c4)]=_0x399b09(0x158);if(_0x3d6e63!==_0x399b09(0x186))localStorage[_0x399b09(0x1ab)]('skyObserverCsv');}});}const storedGrid=localStorage[_0x435390(0x1c8)](_0x435390(0x221));storedGrid&&isValidGrid(storedGrid)&&(gridInput['value']=storedGrid,gridInput['style'][_0x435390(0x1f5)]=_0x435390(0x1c1));const storedCsv=localStorage[_0x435390(0x1c8)](_0x435390(0x194));storedCsv?parseCsvData(storedCsv,_0x435390(0x204)):fetch(_0x435390(0x1af))[_0x435390(0x211)](_0x1ff7a7=>_0x1ff7a7[_0x435390(0x1f3)]())[_0x435390(0x211)](_0x2cdab0=>parseCsvData(_0x2cdab0,_0x435390(0x186)))['catch'](_0x290232=>{const _0x515a02=_0x435390;console[_0x515a02(0x228)](_0x515a02(0x18e),_0x290232);const _0x3c283b=0x2,_0x3b2e25=THREE[_0x515a02(0x1eb)][_0x515a02(0x1f2)](0xb4),_0x38cd92=THREE[_0x515a02(0x1eb)][_0x515a02(0x1f2)](0x1e);camera[_0x515a02(0x1e1)][_0x515a02(0x217)](_0x3c283b*Math[_0x515a02(0x20f)](_0x38cd92)*Math[_0x515a02(0x162)](_0x3b2e25),_0x3c283b*Math[_0x515a02(0x162)](_0x38cd92),_0x3c283b*Math[_0x515a02(0x20f)](_0x38cd92)*Math[_0x515a02(0x20f)](_0x3b2e25)),camera[_0x515a02(0x215)](0x0,0x0,0x0),controls[_0x515a02(0x19a)]['set'](0x0,0x0,0x0),controls[_0x515a02(0x231)](),addAzimuthCompass(),addTrajectories();});document[_0x435390(0x1c6)](_0x435390(0x22c))[_0x435390(0x1ae)](_0x435390(0x23e),function(_0x51aaaa){const _0x2ed4ad=_0x435390,_0xb7cd0=_0x51aaaa['target'][_0x2ed4ad(0x23c)][0x0];if(!_0xb7cd0)return;const _0x787654=new FileReader();_0x787654[_0x2ed4ad(0x185)]=function(_0x31cd60){const _0x147e61=_0x2ed4ad,_0xaff081=_0x31cd60[_0x147e61(0x19a)]['result'];parseCsvData(_0xaff081,_0x147e61(0x1ed));},_0x787654['readAsText'](_0xb7cd0);}),window[_0x435390(0x1ae)](_0x435390(0x1d5),_0x382a38=>{const _0x2e2e68=_0x435390;mouse['x']=_0x382a38[_0x2e2e68(0x1bb)]/window[_0x2e2e68(0x165)]*0x2-0x1,mouse['y']=-(_0x382a38[_0x2e2e68(0x224)]/window[_0x2e2e68(0x192)])*0x2+0x1,raycaster[_0x2e2e68(0x1da)](mouse,camera);const _0x5b9e62=raycaster[_0x2e2e68(0x16e)]([...spheres,moonMarker,sunMarker][_0x2e2e68(0x1a8)](_0x5c2dc7=>_0x5c2dc7!==null));if(_0x5b9e62['length']>0x0){const _0x292424=_0x5b9e62[0x0][_0x2e2e68(0x216)];if(_0x292424===moonMarker){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x2e2e68(0x206)]['el']>0x0){const _0x1a0f9f=currentRealTimeData[_0x2e2e68(0x206)],_0x140e0f=interpolateNoiseAtPosition(_0x1a0f9f['az'],_0x1a0f9f['el']),_0x13f1d9=_0x140e0f?_0x2e2e68(0x1b4)+_0x140e0f[_0x2e2e68(0x1a5)][_0x2e2e68(0x1ca)](0x2)+_0x2e2e68(0x178):_0x2e2e68(0x1b3);infoBox[_0x2e2e68(0x1fd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x1a0f9f['az'][_0x2e2e68(0x1ca)](0x1)+_0x2e2e68(0x1d3)+_0x1a0f9f['el']['toFixed'](0x1)+'°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13f1d9+_0x2e2e68(0x1d6),infoBox[_0x2e2e68(0x159)][_0x2e2e68(0x1c4)]=_0x2e2e68(0x158);}else{if(!isRealTime&&moonPositions[currentTimeIndex]&&moonPositions[currentTimeIndex][_0x2e2e68(0x166)]>0x0){const _0x5af861=moonPositions[currentTimeIndex],_0x12257c=interpolateNoiseAtPosition(_0x5af861[_0x2e2e68(0x1f7)],_0x5af861['elevation']),_0x4109c5=_0x12257c?_0x2e2e68(0x1b4)+_0x12257c[_0x2e2e68(0x1a5)][_0x2e2e68(0x1ca)](0x2)+'\x20dB':_0x2e2e68(0x1b3);infoBox[_0x2e2e68(0x1fd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x5af861[_0x2e2e68(0x1f7)]['toFixed'](0x1)+_0x2e2e68(0x1d3)+_0x5af861[_0x2e2e68(0x166)]['toFixed'](0x1)+_0x2e2e68(0x193)+_0x4109c5+_0x2e2e68(0x1d6),infoBox['style'][_0x2e2e68(0x1c4)]=_0x2e2e68(0x158);}}}else{if(_0x292424===sunMarker&&showSunCheckbox['checked']){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x2e2e68(0x1ec)]['el']>0x0){const _0xe657e5=currentRealTimeData['sun'];infoBox['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Sun</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0xe657e5['az'][_0x2e2e68(0x1ca)](0x1)+_0x2e2e68(0x1d3)+_0xe657e5['el'][_0x2e2e68(0x1ca)](0x1)+_0x2e2e68(0x15f),infoBox[_0x2e2e68(0x159)][_0x2e2e68(0x1c4)]=_0x2e2e68(0x158);}else{if(!isRealTime&&sunPositions[currentTimeIndex]&&sunPositions[currentTimeIndex][_0x2e2e68(0x166)]>0x0){const _0x207145=sunPositions[currentTimeIndex];infoBox[_0x2e2e68(0x1fd)]=_0x2e2e68(0x22b)+_0x207145[_0x2e2e68(0x1f7)][_0x2e2e68(0x1ca)](0x1)+_0x2e2e68(0x1d3)+_0x207145[_0x2e2e68(0x166)][_0x2e2e68(0x1ca)](0x1)+'°\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',infoBox[_0x2e2e68(0x159)]['display']=_0x2e2e68(0x158);}}}else{if(_0x292424[_0x2e2e68(0x21b)]?.[_0x2e2e68(0x1a5)]!==undefined){const {azimuth:_0x54db55,elevation:_0x428912,noise:_0x5ce077}=_0x292424[_0x2e2e68(0x21b)];infoBox['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Measurement</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x54db55['toFixed'](0x1)+'°\x20El:\x20'+_0x428912[_0x2e2e68(0x1ca)](0x1)+_0x2e2e68(0x1cc)+_0x5ce077[_0x2e2e68(0x1ca)](0x2)+_0x2e2e68(0x230),infoBox[_0x2e2e68(0x159)][_0x2e2e68(0x1c4)]='block';}}}}else updateInfoBox();}),window[_0x435390(0x1ae)](_0x435390(0x1e3),_0x778a76=>{const _0x57b99b=_0x435390,_0x577257=_0x778a76[_0x57b99b(0x16f)][0x0];if(!_0x577257)return;mouse['x']=_0x577257[_0x57b99b(0x1bb)]/window[_0x57b99b(0x165)]*0x2-0x1,mouse['y']=-(_0x577257[_0x57b99b(0x224)]/window[_0x57b99b(0x192)])*0x2+0x1,raycaster[_0x57b99b(0x1da)](mouse,camera);const _0x362366=raycaster[_0x57b99b(0x16e)]([...spheres,moonMarker,sunMarker]['filter'](_0x415459=>_0x415459!==null));if(_0x362366[_0x57b99b(0x197)]>0x0){const _0x3cf18f=_0x362366[0x0][_0x57b99b(0x216)];if(_0x3cf18f===moonMarker){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x57b99b(0x206)]['el']>0x0){const _0x5980d3=currentRealTimeData['moon'],_0x58df43=interpolateNoiseAtPosition(_0x5980d3['az'],_0x5980d3['el']),_0xd916d0=_0x58df43?_0x57b99b(0x1b4)+_0x58df43['noise']['toFixed'](0x2)+_0x57b99b(0x178):_0x57b99b(0x1b3);infoBox[_0x57b99b(0x1fd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x5980d3['az'][_0x57b99b(0x1ca)](0x1)+_0x57b99b(0x1d3)+_0x5980d3['el'][_0x57b99b(0x1ca)](0x1)+'°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd916d0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',infoBox[_0x57b99b(0x159)][_0x57b99b(0x1c4)]=_0x57b99b(0x158);}else{if(!isRealTime&&moonPositions[currentTimeIndex]&&moonPositions[currentTimeIndex][_0x57b99b(0x166)]>0x0){const _0x2d26c7=moonPositions[currentTimeIndex],_0x37c14f=interpolateNoiseAtPosition(_0x2d26c7['azimuth'],_0x2d26c7[_0x57b99b(0x166)]),_0x16142f=_0x37c14f?'Noise:\x20'+_0x37c14f[_0x57b99b(0x1a5)][_0x57b99b(0x1ca)](0x2)+_0x57b99b(0x178):'Noise:\x20N/A\x20(Outside\x20Dome)';infoBox['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Moon</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x2d26c7[_0x57b99b(0x1f7)][_0x57b99b(0x1ca)](0x1)+_0x57b99b(0x1d3)+_0x2d26c7['elevation'][_0x57b99b(0x1ca)](0x1)+'°<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16142f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',infoBox[_0x57b99b(0x159)]['display']=_0x57b99b(0x158);}}}else{if(_0x3cf18f===sunMarker&&showSunCheckbox[_0x57b99b(0x1dc)]){if(isRealTime&&currentRealTimeData&&currentRealTimeData[_0x57b99b(0x1ec)]['el']>0x0){const _0x2971f1=currentRealTimeData['sun'];infoBox[_0x57b99b(0x1fd)]=_0x57b99b(0x22b)+_0x2971f1['az'][_0x57b99b(0x1ca)](0x1)+_0x57b99b(0x1d3)+_0x2971f1['el'][_0x57b99b(0x1ca)](0x1)+_0x57b99b(0x15f),infoBox['style'][_0x57b99b(0x1c4)]='block';}else{if(!isRealTime&&sunPositions[currentTimeIndex]&&sunPositions[currentTimeIndex][_0x57b99b(0x166)]>0x0){const _0x4a6088=sunPositions[currentTimeIndex];infoBox['innerHTML']=_0x57b99b(0x22b)+_0x4a6088['azimuth'][_0x57b99b(0x1ca)](0x1)+_0x57b99b(0x1d3)+_0x4a6088[_0x57b99b(0x166)]['toFixed'](0x1)+_0x57b99b(0x15f),infoBox['style'][_0x57b99b(0x1c4)]='block';}}}else{if(_0x3cf18f[_0x57b99b(0x21b)]?.[_0x57b99b(0x1a5)]!==undefined){const {azimuth:_0x1f04cb,elevation:_0x1c83aa,noise:_0x23cb33}=_0x3cf18f[_0x57b99b(0x21b)];infoBox[_0x57b99b(0x1fd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>Measurement</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Az:\x20'+_0x1f04cb[_0x57b99b(0x1ca)](0x1)+_0x57b99b(0x1d3)+_0x1c83aa[_0x57b99b(0x1ca)](0x1)+_0x57b99b(0x1cc)+_0x23cb33[_0x57b99b(0x1ca)](0x2)+_0x57b99b(0x230),infoBox['style'][_0x57b99b(0x1c4)]=_0x57b99b(0x158);}}}}else updateInfoBox();});function animate(){const _0x33df3c=_0x435390;requestAnimationFrame(animate),controls[_0x33df3c(0x231)](),renderer[_0x33df3c(0x157)](scene,camera);}animate();const today=new Date(),year=today['getUTCFullYear'](),month=String(today[_0x435390(0x229)]()+0x1)[_0x435390(0x169)](0x2,'0'),day=String(today[_0x435390(0x22f)]())[_0x435390(0x169)](0x2,'0');datePicker['value']=year+'-'+month+'-'+day,addTrajectories(),updateTrackButtonState();
        </script>
    </body>
</html>
